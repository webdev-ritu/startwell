var LC=Object.defineProperty;var VC=(n,t,e)=>t in n?LC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Dt=(n,t,e)=>VC(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function dw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fm={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function UC(){if(oE)return Ou;oE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:o}}return Ou.Fragment=t,Ou.jsx=e,Ou.jsxs=e,Ou}var lE;function jC(){return lE||(lE=1,fm.exports=UC()),fm.exports}var R=jC(),dm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function zC(){if(uE)return It;uE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,D={};function C(U,rt,ct){this.props=U,this.context=rt,this.refs=D,this.updater=ct||S}C.prototype.isReactComponent={},C.prototype.setState=function(U,rt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,rt,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=C.prototype;function B(U,rt,ct){this.props=U,this.context=rt,this.refs=D,this.updater=ct||S}var F=B.prototype=new N;F.constructor=B,w(F,C.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function k(U,rt,ct,lt,pt,xt){return ct=xt.ref,{$$typeof:n,type:U,key:rt,ref:ct!==void 0?ct:null,props:xt}}function I(U,rt){return k(U.type,rt,void 0,void 0,void 0,U.props)}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var rt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return rt[ct]})}var V=/\/+/g;function j(U,rt){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):rt.toString(36)}function M(){}function qt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function(rt){U.status==="pending"&&(U.status="fulfilled",U.value=rt)},function(rt){U.status==="pending"&&(U.status="rejected",U.reason=rt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function vt(U,rt,ct,lt,pt){var xt=typeof U;(xt==="undefined"||xt==="boolean")&&(U=null);var _t=!1;if(U===null)_t=!0;else switch(xt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(U.$$typeof){case n:case t:_t=!0;break;case _:return _t=U._init,vt(_t(U._payload),rt,ct,lt,pt)}}if(_t)return pt=pt(U),_t=lt===""?"."+j(U,0):lt,Z(pt)?(ct="",_t!=null&&(ct=_t.replace(V,"$&/")+"/"),vt(pt,rt,ct,"",function(pi){return pi})):pt!=null&&(O(pt)&&(pt=I(pt,ct+(pt.key==null||U&&U.key===pt.key?"":(""+pt.key).replace(V,"$&/")+"/")+_t)),rt.push(pt)),1;_t=0;var ze=lt===""?".":lt+":";if(Z(U))for(var se=0;se<U.length;se++)lt=U[se],xt=ze+j(lt,se),_t+=vt(lt,rt,ct,xt,pt);else if(se=b(U),typeof se=="function")for(U=se.call(U),se=0;!(lt=U.next()).done;)lt=lt.value,xt=ze+j(lt,se++),_t+=vt(lt,rt,ct,xt,pt);else if(xt==="object"){if(typeof U.then=="function")return vt(qt(U),rt,ct,lt,pt);throw rt=String(U),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(U,rt,ct){if(U==null)return U;var lt=[],pt=0;return vt(U,lt,"","",function(xt){return rt.call(ct,xt,pt++)}),lt}function at(U){if(U._status===-1){var rt=U._result;rt=rt(),rt.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=rt)}if(U._status===1)return U._result.default;throw U._result}var ft=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function wt(){}return It.Children={map:Q,forEach:function(U,rt,ct){Q(U,function(){rt.apply(this,arguments)},ct)},count:function(U){var rt=0;return Q(U,function(){rt++}),rt},toArray:function(U){return Q(U,function(rt){return rt})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},It.Component=C,It.Fragment=e,It.Profiler=r,It.PureComponent=B,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,It.__COMPILER_RUNTIME={__proto__:null,c:function(U){return J.H.useMemoCache(U)}},It.cache=function(U){return function(){return U.apply(null,arguments)}},It.cloneElement=function(U,rt,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var lt=w({},U.props),pt=U.key,xt=void 0;if(rt!=null)for(_t in rt.ref!==void 0&&(xt=void 0),rt.key!==void 0&&(pt=""+rt.key),rt)!ot.call(rt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&rt.ref===void 0||(lt[_t]=rt[_t]);var _t=arguments.length-2;if(_t===1)lt.children=ct;else if(1<_t){for(var ze=Array(_t),se=0;se<_t;se++)ze[se]=arguments[se+2];lt.children=ze}return k(U.type,pt,void 0,void 0,xt,lt)},It.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},It.createElement=function(U,rt,ct){var lt,pt={},xt=null;if(rt!=null)for(lt in rt.key!==void 0&&(xt=""+rt.key),rt)ot.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(pt[lt]=rt[lt]);var _t=arguments.length-2;if(_t===1)pt.children=ct;else if(1<_t){for(var ze=Array(_t),se=0;se<_t;se++)ze[se]=arguments[se+2];pt.children=ze}if(U&&U.defaultProps)for(lt in _t=U.defaultProps,_t)pt[lt]===void 0&&(pt[lt]=_t[lt]);return k(U,xt,void 0,void 0,null,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(U){return{$$typeof:h,render:U}},It.isValidElement=O,It.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:at}},It.memo=function(U,rt){return{$$typeof:g,type:U,compare:rt===void 0?null:rt}},It.startTransition=function(U){var rt=J.T,ct={};J.T=ct;try{var lt=U(),pt=J.S;pt!==null&&pt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(wt,ft)}catch(xt){ft(xt)}finally{J.T=rt}},It.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},It.use=function(U){return J.H.use(U)},It.useActionState=function(U,rt,ct){return J.H.useActionState(U,rt,ct)},It.useCallback=function(U,rt){return J.H.useCallback(U,rt)},It.useContext=function(U){return J.H.useContext(U)},It.useDebugValue=function(){},It.useDeferredValue=function(U,rt){return J.H.useDeferredValue(U,rt)},It.useEffect=function(U,rt,ct){var lt=J.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(U,rt)},It.useId=function(){return J.H.useId()},It.useImperativeHandle=function(U,rt,ct){return J.H.useImperativeHandle(U,rt,ct)},It.useInsertionEffect=function(U,rt){return J.H.useInsertionEffect(U,rt)},It.useLayoutEffect=function(U,rt){return J.H.useLayoutEffect(U,rt)},It.useMemo=function(U,rt){return J.H.useMemo(U,rt)},It.useOptimistic=function(U,rt){return J.H.useOptimistic(U,rt)},It.useReducer=function(U,rt,ct){return J.H.useReducer(U,rt,ct)},It.useRef=function(U){return J.H.useRef(U)},It.useState=function(U){return J.H.useState(U)},It.useSyncExternalStore=function(U,rt,ct){return J.H.useSyncExternalStore(U,rt,ct)},It.useTransition=function(){return J.H.useTransition()},It.version="19.1.0",It}var cE;function A_(){return cE||(cE=1,dm.exports=zC()),dm.exports}var q=A_();const Ui=dw(q);var gm={exports:{}},Nu={},pm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function BC(){return hE||(hE=1,function(n){function t(Q,at){var ft=Q.length;Q.push(at);t:for(;0<ft;){var wt=ft-1>>>1,U=Q[wt];if(0<r(U,at))Q[wt]=at,Q[ft]=U,ft=wt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var at=Q[0],ft=Q.pop();if(ft!==at){Q[0]=ft;t:for(var wt=0,U=Q.length,rt=U>>>1;wt<rt;){var ct=2*(wt+1)-1,lt=Q[ct],pt=ct+1,xt=Q[pt];if(0>r(lt,ft))pt<U&&0>r(xt,lt)?(Q[wt]=xt,Q[pt]=ft,wt=pt):(Q[wt]=lt,Q[ct]=ft,wt=ct);else if(pt<U&&0>r(xt,ft))Q[wt]=xt,Q[pt]=ft,wt=pt;else break t}}return at}function r(Q,at){var ft=Q.sortIndex-at.sortIndex;return ft!==0?ft:Q.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],_=1,v=null,b=3,S=!1,w=!1,D=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var at=e(g);at!==null;){if(at.callback===null)i(g);else if(at.startTime<=Q)i(g),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(g)}}function J(Q){if(D=!1,Z(Q),!w)if(e(f)!==null)w=!0,ot||(ot=!0,j());else{var at=e(g);at!==null&&vt(J,at.startTime-Q)}}var ot=!1,k=-1,I=5,O=-1;function P(){return C?!0:!(n.unstable_now()-O<I)}function V(){if(C=!1,ot){var Q=n.unstable_now();O=Q;var at=!0;try{t:{w=!1,D&&(D=!1,B(k),k=-1),S=!0;var ft=b;try{e:{for(Z(Q),v=e(f);v!==null&&!(v.expirationTime>Q&&P());){var wt=v.callback;if(typeof wt=="function"){v.callback=null,b=v.priorityLevel;var U=wt(v.expirationTime<=Q);if(Q=n.unstable_now(),typeof U=="function"){v.callback=U,Z(Q),at=!0;break e}v===e(f)&&i(f),Z(Q)}else i(f);v=e(f)}if(v!==null)at=!0;else{var rt=e(g);rt!==null&&vt(J,rt.startTime-Q),at=!1}}break t}finally{v=null,b=ft,S=!1}at=void 0}}finally{at?j():ot=!1}}}var j;if(typeof F=="function")j=function(){F(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,qt=M.port2;M.port1.onmessage=V,j=function(){qt.postMessage(null)}}else j=function(){N(V,0)};function vt(Q,at){k=N(function(){Q(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ft=b;b=at;try{return Q()}finally{b=ft}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=b;b=Q;try{return at()}finally{b=ft}},n.unstable_scheduleCallback=function(Q,at,ft){var wt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?wt+ft:wt):ft=wt,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ft+U,Q={id:_++,callback:at,priorityLevel:Q,startTime:ft,expirationTime:U,sortIndex:-1},ft>wt?(Q.sortIndex=ft,t(g,Q),e(f)===null&&Q===e(g)&&(D?(B(k),k=-1):D=!0,vt(J,ft-wt))):(Q.sortIndex=U,t(f,Q),w||S||(w=!0,ot||(ot=!0,j()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var at=b;return function(){var ft=b;b=at;try{return Q.apply(this,arguments)}finally{b=ft}}}}(mm)),mm}var fE;function FC(){return fE||(fE=1,pm.exports=BC()),pm.exports}var _m={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function HC(){if(dE)return an;dE=1;var n=A_();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},an.flushSync=function(f){var g=u.T,_=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=_,i.d.f()}},an.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},an.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},an.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):_==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},an.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},an.requestFormReset=function(f){i.d.r(f)},an.unstable_batchedUpdates=function(f,g){return f(g)},an.useFormState=function(f,g,_){return u.H.useFormState(f,g,_)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.1.0",an}var gE;function qC(){if(gE)return _m.exports;gE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_m.exports=HC(),_m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function GC(){if(pE)return Nu;pE=1;var n=FC(),t=A_(),e=qC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return h(p),s;if(m===c)return h(p),a;m=m.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=m;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,c=m;break}if(A===c){T=!0,c=p,l=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===l){T=!0,l=m,c=p;break}if(A===c){T=!0,c=m,l=p;break}A=A.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function qt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case ot:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case F:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return a=s.displayName||null,a!==null?a:qt(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return qt(s(a))}catch{}}return null}var vt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},wt=[],U=-1;function rt(s){return{current:s}}function ct(s){0>U||(s.current=wt[U],wt[U]=null,U--)}function lt(s,a){U++,wt[U]=s.current,s.current=a}var pt=rt(null),xt=rt(null),_t=rt(null),ze=rt(null);function se(s,a){switch(lt(_t,a),lt(xt,s),lt(pt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Pb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Pb(a),s=Lb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(pt),lt(pt,s)}function pi(){ct(pt),ct(xt),ct(_t)}function Us(s){s.memoizedState!==null&&lt(ze,s);var a=pt.current,l=Lb(a,s.type);a!==l&&(lt(xt,s),lt(pt,l))}function Wi(s){xt.current===s&&(ct(pt),ct(xt)),ze.current===s&&(ct(ze),Ru._currentValue=ft)}var jr=Object.prototype.hasOwnProperty,zr=n.unstable_scheduleCallback,Br=n.unstable_cancelCallback,Sl=n.unstable_shouldYield,Bc=n.unstable_requestPaint,jn=n.unstable_now,fg=n.unstable_getCurrentPriorityLevel,wl=n.unstable_ImmediatePriority,Qa=n.unstable_UserBlockingPriority,Fr=n.unstable_NormalPriority,dg=n.unstable_LowPriority,Xa=n.unstable_IdlePriority,Al=n.log,Fc=n.unstable_setDisableYieldValue,pe=null,Kt=null;function Rn(s){if(typeof Al=="function"&&Fc(s),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(pe,s)}catch{}}var sn=Math.clz32?Math.clz32:Hr,Hc=Math.log,gg=Math.LN2;function Hr(s){return s>>>=0,s===0?32:31-(Hc(s)/gg|0)|0}var qr=256,Gr=4194304;function ei(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Za(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var p=0,m=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var A=c&134217727;return A!==0?(c=A&~m,c!==0?p=ei(c):(T&=A,T!==0?p=ei(T):l||(l=A&~s,l!==0&&(p=ei(l))))):(A=c&~m,A!==0?p=ei(A):T!==0?p=ei(T):l||(l=c&~s,l!==0&&(p=ei(l)))),p===0?0:a!==0&&a!==p&&(a&m)===0&&(m=p&-p,l=a&-a,m>=l||m===32&&(l&4194048)!==0)?a:p}function $r(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Rl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var s=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),s}function Cl(){var s=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),s}function Qi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Xi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Il(s,a,l,c,p,m){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var tt=31-sn(l),nt=1<<tt;A[tt]=0,L[tt]=-1;var K=Y[tt];if(K!==null)for(Y[tt]=null,tt=0;tt<K.length;tt++){var W=K[tt];W!==null&&(W.lane&=-536870913)}l&=~nt}c!==0&&mi(s,c,0),m!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=m&~(T&~a))}function mi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-sn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Dl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-sn(l),p=1<<c;p&a|s[c]&a&&(s[c]|=a),l&=~p}}function js(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ja(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zs(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:eE(s.type))}function qc(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ue=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ue,Se="__reactProps$"+ue,zn="__reactContainer$"+ue,Ol="__reactEvents$"+ue,pg="__reactListeners$"+ue,Bs="__reactHandles$"+ue,Gc="__reactResources$"+ue,Yr="__reactMarker$"+ue;function Fs(s){delete s[Oe],delete s[Se],delete s[Ol],delete s[pg],delete s[Bs]}function Zi(s){var a=s[Oe];if(a)return a;for(var l=s.parentNode;l;){if(a=l[zn]||l[Oe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=zb(s);s!==null;){if(l=s[Oe])return l;s=zb(s)}return a}s=l,l=s.parentNode}return null}function _i(s){if(s=s[Oe]||s[zn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function yi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function fn(s){var a=s[Gc];return a||(a=s[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ye(s){s[Yr]=!0}var Nl=new Set,to={};function ni(s,a){Ji(s,a),Ji(s+"Capture",a)}function Ji(s,a){for(to[s]=a,s=0;s<a.length;s++)Nl.add(a[s])}var $c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},Kr={};function Kc(s){return jr.call(Kr,s)?!0:jr.call(Yc,s)?!1:$c.test(s)?Kr[s]=!0:(Yc[s]=!0,!1)}function Hs(s,a,l){if(Kc(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function vi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ke(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var Wr,Wc;function ts(s){if(Wr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Wr=a&&a[1]||"",Wc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+s+Wc}var eo=!1;function no(s,a){if(!s||eo)return"";eo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var K=W}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(W){K=W}s.call(nt.prototype)}}else{try{throw Error()}catch(W){K=W}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var L=T.split(`
`),Y=A.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===Y.length)for(c=L.length-1,p=Y.length-1;1<=c&&0<=p&&L[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==Y[p]){var tt=`
`+L[c].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=c&&0<=p);break}}}finally{eo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ts(l):""}function Ml(s){switch(s.tag){case 26:case 27:case 5:return ts(s.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return no(s.type,!1);case 11:return no(s.type.render,!1);case 1:return no(s.type,!0);case 31:return ts("Activity");default:return""}}function io(s){try{var a="";do a+=Ml(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function kl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mg(s){var a=kl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,m=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,m.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function so(s){s._valueTracker||(s._valueTracker=mg(s))}function Pl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=kl(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Qr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var _g=/[\n"\\]/g;function we(s){return s.replace(_g,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xn(s,a,l,c,p,m,T,A){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+dn(a)):s.value!==""+dn(a)&&(s.value=""+dn(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?qs(s,T,dn(a)):l!=null?qs(s,T,dn(l)):c!=null&&s.removeAttribute("value"),p==null&&m!=null&&(s.defaultChecked=!!m),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+dn(A):s.removeAttribute("name")}function Xr(s,a,l,c,p,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),a!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;l=l!=null?""+dn(l):"",a=a!=null?""+dn(a):l,A||a===s.value||(s.value=a),s.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=A?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function qs(s,a,l){a==="number"&&Qr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function es(s,a,l,c){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&c&&(s[l].defaultSelected=!0)}else{for(l=""+dn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Jt(s,a,l){if(a!=null&&(a=""+dn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+dn(l):""}function Zr(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(vt(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=dn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Bn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Jr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Ll(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Qc(s,p,c)}else for(var m in a)a.hasOwnProperty(m)&&Qc(s,m,a[m])}function Vl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(s){return vg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ns=null;function Fn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,ss=null;function Ul(s){var a=_i(s);if(a&&(s=a.stateNode)){var l=s[Se]||null;t:switch(s=a.stateNode,a.type){case"input":if(xn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+we(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var p=c[Se]||null;if(!p)throw Error(i(90));xn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Pl(c)}break t;case"textarea":Jt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&es(s,!!l.multiple,a,!1)}}}var bi=!1;function Xc(s,a,l){if(bi)return s(a,l);bi=!0;try{var c=s(a);return c}finally{if(bi=!1,(is!==null||ss!==null)&&(qh(),is&&(a=is,s=ss,ss=is=null,Ul(a),s)))for(a=0;a<s.length;a++)Ul(s[a])}}function ta(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Se]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(ii)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Hn=!1}var Ei=null,Gs=null,rs=null;function jl(){if(rs)return rs;var s,a=Gs,l=a.length,c,p="value"in Ei?Ei.value:Ei.textContent,m=p.length;for(s=0;s<l&&a[s]===p[s];s++);var T=l-s;for(c=1;c<=T&&a[l-c]===p[m-c];c++);return rs=p.slice(s,1<c?1-c:void 0)}function Ti(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Si(){return!0}function zl(){return!1}function Be(s){function a(l,c,p,m,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Si:zl,this.isPropagationStopped=zl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),a}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Be($t),na=_({},$t,{view:0,detail:0}),Zc=Be(na),oo,lo,wi,ia=_({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wi&&(wi&&s.type==="mousemove"?(oo=s.screenX-wi.screenX,lo=s.screenY-wi.screenY):lo=oo=0,wi=s),oo)},movementY:function(s){return"movementY"in s?s.movementY:lo}}),qn=Be(ia),Jc=_({},ia,{dataTransfer:0}),bg=Be(Jc),sa=_({},na,{relatedTarget:0}),uo=Be(sa),Bl=_({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Be(Bl),th=_({},$t,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ho=Be(th),Eg=_({},$t,{data:0}),Fl=Be(Eg),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=nh[s])?!!a[s]:!1}function aa(){return Hl}var ih=_({},na,{key:function(s){if(s.key){var a=ra[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ti(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?eh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(s){return s.type==="keypress"?Ti(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ti(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fo=Be(ih),sh=_({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Be(sh),as=_({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),rh=Be(as),ah=_({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=Be(ah),lh=_({},ia,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),go=Be(lh),gn=_({},$t,{newState:0,oldState:0}),uh=Be(gn),ch=[9,13,27,32],Ai=ii&&"CompositionEvent"in window,d=null;ii&&"documentMode"in document&&(d=document.documentMode);var y=ii&&"TextEvent"in window&&!d,E=ii&&(!Ai||d&&8<d&&11>=d),x=" ",G=!1;function X(s,a){switch(s){case"keyup":return ch.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ut=!1;function Ne(s,a){switch(s){case"compositionend":return ut(a);case"keypress":return a.which!==32?null:(G=!0,x);case"textInput":return s=a.data,s===x&&G?null:s;default:return null}}function jt(s,a){if(Ut)return s==="compositionend"||!Ai&&X(s,a)?(s=jl(),rs=Gs=Ei=null,Ut=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Fe[s.type]:a==="textarea"}function os(s,a,l,c){is?ss?ss.push(c):ss=[c]:is=c,a=Qh(a,"onChange"),0<a.length&&(l=new ao("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var We=null,Ri=null;function Gl(s){Db(s,0)}function hh(s){var a=yi(s);if(Pl(a))return s}function Xy(s,a){if(s==="change")return a}var Zy=!1;if(ii){var Tg;if(ii){var Sg="oninput"in document;if(!Sg){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Sg=typeof Jy.oninput=="function"}Tg=Sg}else Tg=!1;Zy=Tg&&(!document.documentMode||9<document.documentMode)}function tv(){We&&(We.detachEvent("onpropertychange",ev),Ri=We=null)}function ev(s){if(s.propertyName==="value"&&hh(Ri)){var a=[];os(a,Ri,s,Fn(s)),Xc(Gl,a)}}function fx(s,a,l){s==="focusin"?(tv(),We=a,Ri=l,We.attachEvent("onpropertychange",ev)):s==="focusout"&&tv()}function dx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hh(Ri)}function gx(s,a){if(s==="click")return hh(a)}function px(s,a){if(s==="input"||s==="change")return hh(a)}function mx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cn=typeof Object.is=="function"?Object.is:mx;function $l(s,a){if(Cn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!jr.call(a,p)||!Cn(s[p],a[p]))return!1}return!0}function nv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function iv(s,a){var l=nv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=nv(l)}}function sv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function rv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Qr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Qr(s.document)}return a}function wg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var _x=ii&&"documentMode"in document&&11>=document.documentMode,po=null,Ag=null,Yl=null,Rg=!1;function av(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rg||po==null||po!==Qr(c)||(c=po,"selectionStart"in c&&wg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yl&&$l(Yl,c)||(Yl=c,c=Qh(Ag,"onSelect"),0<c.length&&(a=new ao("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=po)))}function oa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var mo={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},xg={},ov={};ii&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function la(s){if(xg[s])return xg[s];if(!mo[s])return s;var a=mo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in ov)return xg[s]=a[l];return s}var lv=la("animationend"),uv=la("animationiteration"),cv=la("animationstart"),yx=la("transitionrun"),vx=la("transitionstart"),bx=la("transitioncancel"),hv=la("transitionend"),fv=new Map,Cg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cg.push("scrollEnd");function si(s,a){fv.set(s,a),ni(a,[s])}var dv=new WeakMap;function Gn(s,a){if(typeof s=="object"&&s!==null){var l=dv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:io(a)},dv.set(s,a),a)}return{value:s,source:a,stack:io(a)}}var $n=[],_o=0,Ig=0;function fh(){for(var s=_o,a=Ig=_o=0;a<s;){var l=$n[a];$n[a++]=null;var c=$n[a];$n[a++]=null;var p=$n[a];$n[a++]=null;var m=$n[a];if($n[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}m!==0&&gv(l,p,m)}}function dh(s,a,l,c){$n[_o++]=s,$n[_o++]=a,$n[_o++]=l,$n[_o++]=c,Ig|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Dg(s,a,l,c){return dh(s,a,l,c),gh(s)}function yo(s,a){return dh(s,null,null,a),gh(s)}function gv(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var p=!1,m=s.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(p=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,p&&a!==null&&(p=31-sn(l),s=m.hiddenUpdates,c=s[p],c===null?s[p]=[a]:c.push(a),a.lane=l|536870912),m):null}function gh(s){if(50<yu)throw yu=0,Lp=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var vo={};function Ex(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(s,a,l,c){return new Ex(s,a,l,c)}function Og(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ls(s,a){var l=s.alternate;return l===null?(l=In(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function pv(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ph(s,a,l,c,p,m){var T=0;if(c=s,typeof s=="function")Og(s)&&(T=1);else if(typeof s=="string")T=SC(s,l,pt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case O:return s=In(31,l,a,p),s.elementType=O,s.lanes=m,s;case w:return ua(l.children,p,m,a);case D:T=8,p|=24;break;case C:return s=In(12,l,a,p|2),s.elementType=C,s.lanes=m,s;case J:return s=In(13,l,a,p),s.elementType=J,s.lanes=m,s;case ot:return s=In(19,l,a,p),s.elementType=ot,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case F:T=10;break t;case B:T=9;break t;case Z:T=11;break t;case k:T=14;break t;case I:T=16,c=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=In(T,l,a,p),a.elementType=s,a.type=c,a.lanes=m,a}function ua(s,a,l,c){return s=In(7,s,c,a),s.lanes=l,s}function Ng(s,a,l){return s=In(6,s,null,a),s.lanes=l,s}function Mg(s,a,l){return a=In(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var bo=[],Eo=0,mh=null,_h=0,Yn=[],Kn=0,ca=null,us=1,cs="";function ha(s,a){bo[Eo++]=_h,bo[Eo++]=mh,mh=s,_h=a}function mv(s,a,l){Yn[Kn++]=us,Yn[Kn++]=cs,Yn[Kn++]=ca,ca=s;var c=us;s=cs;var p=32-sn(c)-1;c&=~(1<<p),l+=1;var m=32-sn(a)+p;if(30<m){var T=p-p%5;m=(c&(1<<T)-1).toString(32),c>>=T,p-=T,us=1<<32-sn(a)+p|l<<p|c,cs=m+s}else us=1<<m|l<<p|c,cs=s}function kg(s){s.return!==null&&(ha(s,1),mv(s,1,0))}function Pg(s){for(;s===mh;)mh=bo[--Eo],bo[Eo]=null,_h=bo[--Eo],bo[Eo]=null;for(;s===ca;)ca=Yn[--Kn],Yn[Kn]=null,cs=Yn[--Kn],Yn[Kn]=null,us=Yn[--Kn],Yn[Kn]=null}var pn=null,me=null,Gt=!1,fa=null,xi=!1,Lg=Error(i(519));function da(s){var a=Error(i(418,""));throw Ql(Gn(a,s)),Lg}function _v(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[Oe]=s,a[Se]=c,l){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(l=0;l<bu.length;l++)Pt(bu[l],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),Xr(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),so(a);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),Zr(a,c.value,c.defaultValue,c.children),so(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||kb(a.textContent,l)?(c.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),c.onScroll!=null&&Pt("scroll",a),c.onScrollEnd!=null&&Pt("scrollend",a),c.onClick!=null&&(a.onclick=Xh),a=!0):a=!1,a||da(s)}function yv(s){for(pn=s.return;pn;)switch(pn.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:pn=pn.return}}function Kl(s){if(s!==pn)return!1;if(!Gt)return yv(s),Gt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Zp(s.type,s.memoizedProps)),l=!l),l&&me&&da(s),yv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){me=ai(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}me=null}}else a===27?(a=me,or(s.type)?(s=nm,nm=null,me=s):me=a):me=pn?ai(s.stateNode.nextSibling):null;return!0}function Wl(){me=pn=null,Gt=!1}function vv(){var s=fa;return s!==null&&(bn===null?bn=s:bn.push.apply(bn,s),fa=null),s}function Ql(s){fa===null?fa=[s]:fa.push(s)}var Vg=rt(null),ga=null,hs=null;function $s(s,a,l){lt(Vg,a._currentValue),a._currentValue=l}function fs(s){s._currentValue=Vg.current,ct(Vg)}function Ug(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function jg(s,a,l,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var m=p.dependencies;if(m!==null){var T=p.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=p;for(var L=0;L<a.length;L++)if(A.context===a[L]){m.lanes|=l,A=m.alternate,A!==null&&(A.lanes|=l),Ug(m.return,l,s),c||(T=null);break t}m=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Ug(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Xl(s,a,l,c){s=null;for(var p=a,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=p.type;Cn(p.pendingProps.value,T.value)||(s!==null?s.push(A):s=[A])}}else if(p===ze.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Ru):s=[Ru])}p=p.return}s!==null&&jg(a,s,l,c),a.flags|=262144}function yh(s){for(s=s.firstContext;s!==null;){if(!Cn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pa(s){ga=s,hs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return bv(ga,s)}function vh(s,a){return ga===null&&pa(s),bv(s,a)}function bv(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},hs===null){if(s===null)throw Error(i(308));hs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else hs=hs.next=a;return l}var Tx=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Sx=n.unstable_scheduleCallback,wx=n.unstable_NormalPriority,ke={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zg(){return{controller:new Tx,data:new Map,refCount:0}}function Zl(s){s.refCount--,s.refCount===0&&Sx(wx,function(){s.controller.abort()})}var Jl=null,Bg=0,To=0,So=null;function Ax(s,a){if(Jl===null){var l=Jl=[];Bg=0,To=Hp(),So={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Bg++,a.then(Ev,Ev),a}function Ev(){if(--Bg===0&&Jl!==null){So!==null&&(So.status="fulfilled");var s=Jl;Jl=null,To=0,So=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Rx(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Tv=Q.S;Q.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ax(s,a),Tv!==null&&Tv(s,a)};var ma=rt(null);function Fg(){var s=ma.current;return s!==null?s:re.pooledCache}function bh(s,a){a===null?lt(ma,ma.current):lt(ma,a.pool)}function Sv(){var s=Fg();return s===null?null:{parent:ke._currentValue,pool:s}}var tu=Error(i(460)),wv=Error(i(474)),Eh=Error(i(542)),Hg={then:function(){}};function Av(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Th(){}function Rv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Th,Th),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cv(s),s;default:if(typeof a.status=="string")a.then(Th,Th);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cv(s),s}throw eu=a,tu}}var eu=null;function xv(){if(eu===null)throw Error(i(459));var s=eu;return eu=null,s}function Cv(s){if(s===tu||s===Eh)throw Error(i(483))}var Ys=!1;function qg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ws(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Wt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=gh(s),gv(s,null,l),a}return dh(s,c,a,l),gh(s)}function nu(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Dl(s,l)}}function $g(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?p=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?p=m=a:m=m.next=a}else p=m=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Yg=!1;function iu(){if(Yg){var s=So;if(s!==null)throw s}}function su(s,a,l,c){Yg=!1;var p=s.updateQueue;Ys=!1;var m=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,Y=L.next;L.next=null,T===null?m=Y:T.next=Y,T=L;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,A=tt.lastBaseUpdate,A!==T&&(A===null?tt.firstBaseUpdate=Y:A.next=Y,tt.lastBaseUpdate=L))}if(m!==null){var nt=p.baseState;T=0,tt=Y=L=null,A=m;do{var K=A.lane&-536870913,W=K!==A.lane;if(W?(zt&K)===K:(c&K)===K){K!==0&&K===To&&(Yg=!0),tt!==null&&(tt=tt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var At=s,bt=A;K=a;var ne=l;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){nt=At.call(ne,nt,K);break t}nt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,K=typeof At=="function"?At.call(ne,nt,K):At,K==null)break t;nt=_({},nt,K);break t;case 2:Ys=!0}}K=A.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=p.callbacks,W===null?p.callbacks=[K]:W.push(K))}else W={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},tt===null?(Y=tt=W,L=nt):tt=tt.next=W,T|=K;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);tt===null&&(L=nt),p.baseState=L,p.firstBaseUpdate=Y,p.lastBaseUpdate=tt,m===null&&(p.shared.lanes=0),ir|=T,s.lanes=T,s.memoizedState=nt}}function Iv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Dv(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Iv(l[s],a)}var wo=rt(null),Sh=rt(0);function Ov(s,a){s=vs,lt(Sh,s),lt(wo,a),vs=s|a.baseLanes}function Kg(){lt(Sh,vs),lt(wo,wo.current)}function Wg(){vs=Sh.current,ct(wo),ct(Sh)}var Qs=0,Ot=null,te=null,Ae=null,wh=!1,Ao=!1,_a=!1,Ah=0,ru=0,Ro=null,xx=0;function ve(){throw Error(i(321))}function Qg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Cn(s[l],a[l]))return!1;return!0}function Xg(s,a,l,c,p,m){return Qs=m,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?g0:p0,_a=!1,m=l(c,p),_a=!1,Ao&&(m=Mv(a,l,c,p)),Nv(s),m}function Nv(s){Q.H=Oh;var a=te!==null&&te.next!==null;if(Qs=0,Ae=te=Ot=null,wh=!1,ru=0,Ro=null,a)throw Error(i(300));s===null||He||(s=s.dependencies,s!==null&&yh(s)&&(He=!0))}function Mv(s,a,l,c){Ot=s;var p=0;do{if(Ao&&(Ro=null),ru=0,Ao=!1,25<=p)throw Error(i(301));if(p+=1,Ae=te=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=kx,m=a(l,c)}while(Ao);return m}function Cx(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?au(a):a,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(Ot.flags|=1024),a}function Zg(){var s=Ah!==0;return Ah=0,s}function Jg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function tp(s){if(wh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}wh=!1}Qs=0,Ae=te=Ot=null,Ao=!1,ru=Ah=0,Ro=null}function yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ot.memoizedState=Ae=s:Ae=Ae.next=s,Ae}function Re(){if(te===null){var s=Ot.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var a=Ae===null?Ot.memoizedState:Ae.next;if(a!==null)Ae=a,te=s;else{if(s===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ae===null?Ot.memoizedState=Ae=s:Ae=Ae.next=s}return Ae}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(s){var a=ru;return ru+=1,Ro===null&&(Ro=[]),s=Rv(Ro,s,a),a=Ot,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?g0:p0),s}function Rh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return au(s);if(s.$$typeof===F)return rn(s)}throw Error(i(438,String(s)))}function np(s){var a=null,l=Ot.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ot.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ep(),Ot.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=P;return a.index++,l}function ds(s,a){return typeof a=="function"?a(s):a}function xh(s){var a=Re();return ip(a,te,s)}function ip(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=s.baseQueue,m=c.pending;if(m!==null){if(p!==null){var T=p.next;p.next=m.next,m.next=T}a.baseQueue=p=m,c.pending=null}if(m=s.baseState,p===null)s.memoizedState=m;else{a=p.next;var A=T=null,L=null,Y=a,tt=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(zt&nt)===nt:(Qs&nt)===nt){var K=Y.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===To&&(tt=!0);else if((Qs&K)===K){Y=Y.next,K===To&&(tt=!0);continue}else nt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(A=L=nt,T=m):L=L.next=nt,Ot.lanes|=K,ir|=K;nt=Y.action,_a&&l(m,nt),m=Y.hasEagerState?Y.eagerState:l(m,nt)}else K={lane:nt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(A=L=K,T=m):L=L.next=K,Ot.lanes|=nt,ir|=nt;Y=Y.next}while(Y!==null&&Y!==a);if(L===null?T=m:L.next=A,!Cn(m,s.memoizedState)&&(He=!0,tt&&(l=So,l!==null)))throw l;s.memoizedState=m,s.baseState=T,s.baseQueue=L,c.lastRenderedState=m}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function sp(s){var a=Re(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,p=l.pending,m=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do m=s(m,T.action),T=T.next;while(T!==p);Cn(m,a.memoizedState)||(He=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,c]}function kv(s,a,l){var c=Ot,p=Re(),m=Gt;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Cn((te||p).memoizedState,l);T&&(p.memoizedState=l,He=!0),p=p.queue;var A=Vv.bind(null,c,p,s);if(ou(2048,8,A,[s]),p.getSnapshot!==a||T||Ae!==null&&Ae.memoizedState.tag&1){if(c.flags|=2048,xo(9,Ch(),Lv.bind(null,c,p,l,a),null),re===null)throw Error(i(349));m||(Qs&124)!==0||Pv(c,a,l)}return l}function Pv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ot.updateQueue,a===null?(a=ep(),Ot.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Lv(s,a,l,c){a.value=l,a.getSnapshot=c,Uv(a)&&jv(s)}function Vv(s,a,l){return l(function(){Uv(a)&&jv(s)})}function Uv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Cn(s,l)}catch{return!0}}function jv(s){var a=yo(s,2);a!==null&&kn(a,s,2)}function rp(s){var a=yn();if(typeof s=="function"){var l=s;if(s=l(),_a){Rn(!0);try{l()}finally{Rn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:s},a}function zv(s,a,l,c){return s.baseState=l,ip(s,te,typeof c=="function"?c:ds)}function Ix(s,a,l,c,p){if(Dh(s))throw Error(i(485));if(s=a.action,s!==null){var m={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?l(!0):m.isTransition=!1,c(m),l=a.pending,l===null?(m.next=a.pending=m,Bv(a,m)):(m.next=l.next,a.pending=l.next=m)}}function Bv(s,a){var l=a.action,c=a.payload,p=s.state;if(a.isTransition){var m=Q.T,T={};Q.T=T;try{var A=l(p,c),L=Q.S;L!==null&&L(T,A),Fv(s,a,A)}catch(Y){ap(s,a,Y)}finally{Q.T=m}}else try{m=l(p,c),Fv(s,a,m)}catch(Y){ap(s,a,Y)}}function Fv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Hv(s,a,c)},function(c){return ap(s,a,c)}):Hv(s,a,l)}function Hv(s,a,l){a.status="fulfilled",a.value=l,qv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Bv(s,l)))}function ap(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,qv(a),a=a.next;while(a!==c)}s.action=null}function qv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Gv(s,a){return a}function $v(s,a){if(Gt){var l=re.formState;if(l!==null){t:{var c=Ot;if(Gt){if(me){e:{for(var p=me,m=xi;p.nodeType!==8;){if(!m){p=null;break e}if(p=ai(p.nextSibling),p===null){p=null;break e}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){me=ai(p.nextSibling),c=p.data==="F!";break t}}da(c)}c=!1}c&&(a=l[0])}}return l=yn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:a},l.queue=c,l=h0.bind(null,Ot,c),c.dispatch=l,c=rp(!1),m=hp.bind(null,Ot,!1,c.queue),c=yn(),p={state:a,dispatch:null,action:s,pending:null},c.queue=p,l=Ix.bind(null,Ot,p,m,l),p.dispatch=l,c.memoizedState=s,[a,l,!1]}function Yv(s){var a=Re();return Kv(a,te,s)}function Kv(s,a,l){if(a=ip(s,a,Gv)[0],s=xh(ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=au(a)}catch(T){throw T===tu?Eh:T}else c=a;a=Re();var p=a.queue,m=p.dispatch;return l!==a.memoizedState&&(Ot.flags|=2048,xo(9,Ch(),Dx.bind(null,p,l),null)),[c,m,s]}function Dx(s,a){s.action=a}function Wv(s){var a=Re(),l=te;if(l!==null)return Kv(a,l,s);Re(),a=a.memoizedState,l=Re();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function xo(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Ot.updateQueue,a===null&&(a=ep(),Ot.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Ch(){return{destroy:void 0,resource:void 0}}function Qv(){return Re().memoizedState}function Ih(s,a,l,c){var p=yn();c=c===void 0?null:c,Ot.flags|=s,p.memoizedState=xo(1|a,Ch(),l,c)}function ou(s,a,l,c){var p=Re();c=c===void 0?null:c;var m=p.memoizedState.inst;te!==null&&c!==null&&Qg(c,te.memoizedState.deps)?p.memoizedState=xo(a,m,l,c):(Ot.flags|=s,p.memoizedState=xo(1|a,m,l,c))}function Xv(s,a){Ih(8390656,8,s,a)}function Zv(s,a){ou(2048,8,s,a)}function Jv(s,a){return ou(4,2,s,a)}function t0(s,a){return ou(4,4,s,a)}function e0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function n0(s,a,l){l=l!=null?l.concat([s]):null,ou(4,4,e0.bind(null,a,s),l)}function op(){}function i0(s,a){var l=Re();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Qg(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function s0(s,a){var l=Re();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Qg(a,c[1]))return c[0];if(c=s(),_a){Rn(!0);try{s()}finally{Rn(!1)}}return l.memoizedState=[c,a],c}function lp(s,a,l){return l===void 0||(Qs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=ob(),Ot.lanes|=s,ir|=s,l)}function r0(s,a,l,c){return Cn(l,a)?l:wo.current!==null?(s=lp(s,l,c),Cn(s,a)||(He=!0),s):(Qs&42)===0?(He=!0,s.memoizedState=l):(s=ob(),Ot.lanes|=s,ir|=s,a)}function a0(s,a,l,c,p){var m=at.p;at.p=m!==0&&8>m?m:8;var T=Q.T,A={};Q.T=A,hp(s,!1,a,l);try{var L=p(),Y=Q.S;if(Y!==null&&Y(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var tt=Rx(L,c);lu(s,a,tt,Mn(s))}else lu(s,a,c,Mn(s))}catch(nt){lu(s,a,{then:function(){},status:"rejected",reason:nt},Mn())}finally{at.p=m,Q.T=T}}function Ox(){}function up(s,a,l,c){if(s.tag!==5)throw Error(i(476));var p=o0(s).queue;a0(s,p,a,ft,l===null?Ox:function(){return l0(s),l(c)})}function o0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ft},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function l0(s){var a=o0(s).next.queue;lu(s,a,{},Mn())}function cp(){return rn(Ru)}function u0(){return Re().memoizedState}function c0(){return Re().memoizedState}function Nx(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Mn();s=Ks(l);var c=Ws(a,s,l);c!==null&&(kn(c,a,l),nu(c,a,l)),a={cache:zg()},s.payload=a;return}a=a.return}}function Mx(s,a,l){var c=Mn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Dh(s)?f0(a,l):(l=Dg(s,a,l,c),l!==null&&(kn(l,s,c),d0(l,a,c)))}function h0(s,a,l){var c=Mn();lu(s,a,l,c)}function lu(s,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dh(s))f0(a,p);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var T=a.lastRenderedState,A=m(T,l);if(p.hasEagerState=!0,p.eagerState=A,Cn(A,T))return dh(s,a,p,0),re===null&&fh(),!1}catch{}finally{}if(l=Dg(s,a,p,c),l!==null)return kn(l,s,c),d0(l,a,c),!0}return!1}function hp(s,a,l,c){if(c={lane:2,revertLane:Hp(),action:c,hasEagerState:!1,eagerState:null,next:null},Dh(s)){if(a)throw Error(i(479))}else a=Dg(s,l,c,2),a!==null&&kn(a,s,2)}function Dh(s){var a=s.alternate;return s===Ot||a!==null&&a===Ot}function f0(s,a){Ao=wh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function d0(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Dl(s,l)}}var Oh={readContext:rn,use:Rh,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},g0={readContext:rn,use:Rh,useCallback:function(s,a){return yn().memoizedState=[s,a===void 0?null:a],s},useContext:rn,useEffect:Xv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Ih(4194308,4,e0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Ih(4194308,4,s,a)},useInsertionEffect:function(s,a){Ih(4,2,s,a)},useMemo:function(s,a){var l=yn();a=a===void 0?null:a;var c=s();if(_a){Rn(!0);try{s()}finally{Rn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=yn();if(l!==void 0){var p=l(a);if(_a){Rn(!0);try{l(a)}finally{Rn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=Mx.bind(null,Ot,s),[c.memoizedState,s]},useRef:function(s){var a=yn();return s={current:s},a.memoizedState=s},useState:function(s){s=rp(s);var a=s.queue,l=h0.bind(null,Ot,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:op,useDeferredValue:function(s,a){var l=yn();return lp(l,s,a)},useTransition:function(){var s=rp(!1);return s=a0.bind(null,Ot,s.queue,!0,!1),yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ot,p=yn();if(Gt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(zt&124)!==0||Pv(c,a,l)}p.memoizedState=l;var m={value:l,getSnapshot:a};return p.queue=m,Xv(Vv.bind(null,c,m,s),[s]),c.flags|=2048,xo(9,Ch(),Lv.bind(null,c,m,l,a),null),l},useId:function(){var s=yn(),a=re.identifierPrefix;if(Gt){var l=cs,c=us;l=(c&~(1<<32-sn(c)-1)).toString(32)+l,a=""+a+"R"+l,l=Ah++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=xx++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:cp,useFormState:$v,useActionState:$v,useOptimistic:function(s){var a=yn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=hp.bind(null,Ot,!0,l),l.dispatch=a,[s,a]},useMemoCache:np,useCacheRefresh:function(){return yn().memoizedState=Nx.bind(null,Ot)}},p0={readContext:rn,use:Rh,useCallback:i0,useContext:rn,useEffect:Zv,useImperativeHandle:n0,useInsertionEffect:Jv,useLayoutEffect:t0,useMemo:s0,useReducer:xh,useRef:Qv,useState:function(){return xh(ds)},useDebugValue:op,useDeferredValue:function(s,a){var l=Re();return r0(l,te.memoizedState,s,a)},useTransition:function(){var s=xh(ds)[0],a=Re().memoizedState;return[typeof s=="boolean"?s:au(s),a]},useSyncExternalStore:kv,useId:u0,useHostTransitionStatus:cp,useFormState:Yv,useActionState:Yv,useOptimistic:function(s,a){var l=Re();return zv(l,te,s,a)},useMemoCache:np,useCacheRefresh:c0},kx={readContext:rn,use:Rh,useCallback:i0,useContext:rn,useEffect:Zv,useImperativeHandle:n0,useInsertionEffect:Jv,useLayoutEffect:t0,useMemo:s0,useReducer:sp,useRef:Qv,useState:function(){return sp(ds)},useDebugValue:op,useDeferredValue:function(s,a){var l=Re();return te===null?lp(l,s,a):r0(l,te.memoizedState,s,a)},useTransition:function(){var s=sp(ds)[0],a=Re().memoizedState;return[typeof s=="boolean"?s:au(s),a]},useSyncExternalStore:kv,useId:u0,useHostTransitionStatus:cp,useFormState:Wv,useActionState:Wv,useOptimistic:function(s,a){var l=Re();return te!==null?zv(l,te,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:np,useCacheRefresh:c0},Co=null,uu=0;function Nh(s){var a=uu;return uu+=1,Co===null&&(Co=[]),Rv(Co,s,a)}function cu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Mh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function m0(s){var a=s._init;return a(s._payload)}function _0(s){function a(H,z){if(s){var $=H.deletions;$===null?(H.deletions=[z],H.flags|=16):$.push(z)}}function l(H,z){if(!s)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function c(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function p(H,z){return H=ls(H,z),H.index=0,H.sibling=null,H}function m(H,z,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<z?(H.flags|=67108866,z):$):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function A(H,z,$,et){return z===null||z.tag!==6?(z=Ng($,H.mode,et),z.return=H,z):(z=p(z,$),z.return=H,z)}function L(H,z,$,et){var gt=$.type;return gt===w?tt(H,z,$.props.children,et,$.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===I&&m0(gt)===z.type)?(z=p(z,$.props),cu(z,$),z.return=H,z):(z=ph($.type,$.key,$.props,null,H.mode,et),cu(z,$),z.return=H,z)}function Y(H,z,$,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Mg($,H.mode,et),z.return=H,z):(z=p(z,$.children||[]),z.return=H,z)}function tt(H,z,$,et,gt){return z===null||z.tag!==7?(z=ua($,H.mode,et,gt),z.return=H,z):(z=p(z,$),z.return=H,z)}function nt(H,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ng(""+z,H.mode,$),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return $=ph(z.type,z.key,z.props,null,H.mode,$),cu($,z),$.return=H,$;case S:return z=Mg(z,H.mode,$),z.return=H,z;case I:var et=z._init;return z=et(z._payload),nt(H,z,$)}if(vt(z)||j(z))return z=ua(z,H.mode,$,null),z.return=H,z;if(typeof z.then=="function")return nt(H,Nh(z),$);if(z.$$typeof===F)return nt(H,vh(H,z),$);Mh(H,z)}return null}function K(H,z,$,et){var gt=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return gt!==null?null:A(H,z,""+$,et);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===gt?L(H,z,$,et):null;case S:return $.key===gt?Y(H,z,$,et):null;case I:return gt=$._init,$=gt($._payload),K(H,z,$,et)}if(vt($)||j($))return gt!==null?null:tt(H,z,$,et,null);if(typeof $.then=="function")return K(H,z,Nh($),et);if($.$$typeof===F)return K(H,z,vh(H,$),et);Mh(H,$)}return null}function W(H,z,$,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return H=H.get($)||null,A(z,H,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return H=H.get(et.key===null?$:et.key)||null,L(z,H,et,gt);case S:return H=H.get(et.key===null?$:et.key)||null,Y(z,H,et,gt);case I:var Mt=et._init;return et=Mt(et._payload),W(H,z,$,et,gt)}if(vt(et)||j(et))return H=H.get($)||null,tt(z,H,et,gt,null);if(typeof et.then=="function")return W(H,z,$,Nh(et),gt);if(et.$$typeof===F)return W(H,z,$,vh(z,et),gt);Mh(z,et)}return null}function At(H,z,$,et){for(var gt=null,Mt=null,mt=z,Et=z=0,Ge=null;mt!==null&&Et<$.length;Et++){mt.index>Et?(Ge=mt,mt=null):Ge=mt.sibling;var Ft=K(H,mt,$[Et],et);if(Ft===null){mt===null&&(mt=Ge);break}s&&mt&&Ft.alternate===null&&a(H,mt),z=m(Ft,z,Et),Mt===null?gt=Ft:Mt.sibling=Ft,Mt=Ft,mt=Ge}if(Et===$.length)return l(H,mt),Gt&&ha(H,Et),gt;if(mt===null){for(;Et<$.length;Et++)mt=nt(H,$[Et],et),mt!==null&&(z=m(mt,z,Et),Mt===null?gt=mt:Mt.sibling=mt,Mt=mt);return Gt&&ha(H,Et),gt}for(mt=c(mt);Et<$.length;Et++)Ge=W(mt,H,Et,$[Et],et),Ge!==null&&(s&&Ge.alternate!==null&&mt.delete(Ge.key===null?Et:Ge.key),z=m(Ge,z,Et),Mt===null?gt=Ge:Mt.sibling=Ge,Mt=Ge);return s&&mt.forEach(function(fr){return a(H,fr)}),Gt&&ha(H,Et),gt}function bt(H,z,$,et){if($==null)throw Error(i(151));for(var gt=null,Mt=null,mt=z,Et=z=0,Ge=null,Ft=$.next();mt!==null&&!Ft.done;Et++,Ft=$.next()){mt.index>Et?(Ge=mt,mt=null):Ge=mt.sibling;var fr=K(H,mt,Ft.value,et);if(fr===null){mt===null&&(mt=Ge);break}s&&mt&&fr.alternate===null&&a(H,mt),z=m(fr,z,Et),Mt===null?gt=fr:Mt.sibling=fr,Mt=fr,mt=Ge}if(Ft.done)return l(H,mt),Gt&&ha(H,Et),gt;if(mt===null){for(;!Ft.done;Et++,Ft=$.next())Ft=nt(H,Ft.value,et),Ft!==null&&(z=m(Ft,z,Et),Mt===null?gt=Ft:Mt.sibling=Ft,Mt=Ft);return Gt&&ha(H,Et),gt}for(mt=c(mt);!Ft.done;Et++,Ft=$.next())Ft=W(mt,H,Et,Ft.value,et),Ft!==null&&(s&&Ft.alternate!==null&&mt.delete(Ft.key===null?Et:Ft.key),z=m(Ft,z,Et),Mt===null?gt=Ft:Mt.sibling=Ft,Mt=Ft);return s&&mt.forEach(function(PC){return a(H,PC)}),Gt&&ha(H,Et),gt}function ne(H,z,$,et){if(typeof $=="object"&&$!==null&&$.type===w&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:t:{for(var gt=$.key;z!==null;){if(z.key===gt){if(gt=$.type,gt===w){if(z.tag===7){l(H,z.sibling),et=p(z,$.props.children),et.return=H,H=et;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===I&&m0(gt)===z.type){l(H,z.sibling),et=p(z,$.props),cu(et,$),et.return=H,H=et;break t}l(H,z);break}else a(H,z);z=z.sibling}$.type===w?(et=ua($.props.children,H.mode,et,$.key),et.return=H,H=et):(et=ph($.type,$.key,$.props,null,H.mode,et),cu(et,$),et.return=H,H=et)}return T(H);case S:t:{for(gt=$.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){l(H,z.sibling),et=p(z,$.children||[]),et.return=H,H=et;break t}else{l(H,z);break}else a(H,z);z=z.sibling}et=Mg($,H.mode,et),et.return=H,H=et}return T(H);case I:return gt=$._init,$=gt($._payload),ne(H,z,$,et)}if(vt($))return At(H,z,$,et);if(j($)){if(gt=j($),typeof gt!="function")throw Error(i(150));return $=gt.call($),bt(H,z,$,et)}if(typeof $.then=="function")return ne(H,z,Nh($),et);if($.$$typeof===F)return ne(H,z,vh(H,$),et);Mh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(l(H,z.sibling),et=p(z,$),et.return=H,H=et):(l(H,z),et=Ng($,H.mode,et),et.return=H,H=et),T(H)):l(H,z)}return function(H,z,$,et){try{uu=0;var gt=ne(H,z,$,et);return Co=null,gt}catch(mt){if(mt===tu||mt===Eh)throw mt;var Mt=In(29,mt,null,H.mode);return Mt.lanes=et,Mt.return=H,Mt}finally{}}}var Io=_0(!0),y0=_0(!1),Wn=rt(null),Ci=null;function Xs(s){var a=s.alternate;lt(Pe,Pe.current&1),lt(Wn,s),Ci===null&&(a===null||wo.current!==null||a.memoizedState!==null)&&(Ci=s)}function v0(s){if(s.tag===22){if(lt(Pe,Pe.current),lt(Wn,s),Ci===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ci=s)}}else Zs()}function Zs(){lt(Pe,Pe.current),lt(Wn,Wn.current)}function gs(s){ct(Wn),Ci===s&&(Ci=null),ct(Pe)}var Pe=rt(0);function kh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||em(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function fp(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var dp={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Mn(),p=Ks(c);p.payload=a,l!=null&&(p.callback=l),a=Ws(s,p,c),a!==null&&(kn(a,s,c),nu(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Mn(),p=Ks(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ws(s,p,c),a!==null&&(kn(a,s,c),nu(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Mn(),c=Ks(l);c.tag=2,a!=null&&(c.callback=a),a=Ws(s,c,l),a!==null&&(kn(a,s,l),nu(a,s,l))}};function b0(s,a,l,c,p,m,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,m,T):a.prototype&&a.prototype.isPureReactComponent?!$l(l,c)||!$l(p,m):!0}function E0(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&dp.enqueueReplaceState(a,a.state,null)}function ya(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function T0(s){Ph(s)}function S0(s){console.error(s)}function w0(s){Ph(s)}function Lh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function A0(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gp(s,a,l){return l=Ks(l),l.tag=3,l.payload={element:null},l.callback=function(){Lh(s,a)},l}function R0(s){return s=Ks(s),s.tag=3,s}function x0(s,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var m=c.value;s.payload=function(){return p(m)},s.callback=function(){A0(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){A0(a,l,c),typeof p!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function Px(s,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Xl(a,l,p,!0),l=Wn.current,l!==null){switch(l.tag){case 13:return Ci===null?Up():l.alternate===null&&_e===0&&(_e=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Hg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),zp(s,c,p)),!1;case 22:return l.flags|=65536,c===Hg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),zp(s,c,p)),!1}throw Error(i(435,l.tag))}return zp(s,c,p),Up(),!1}if(Gt)return a=Wn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Lg&&(s=Error(i(422),{cause:c}),Ql(Gn(s,l)))):(c!==Lg&&(a=Error(i(423),{cause:c}),Ql(Gn(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=Gn(c,l),p=gp(s.stateNode,c,p),$g(s,p),_e!==4&&(_e=2)),!1;var m=Error(i(520),{cause:c});if(m=Gn(m,l),_u===null?_u=[m]:_u.push(m),_e!==4&&(_e=2),a===null)return!0;c=Gn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=gp(l.stateNode,c,s),$g(l,s),!1;case 1:if(a=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(sr===null||!sr.has(m))))return l.flags|=65536,p&=-p,l.lanes|=p,p=R0(p),x0(p,s,l,c),$g(l,p),!1}l=l.return}while(l!==null);return!1}var C0=Error(i(461)),He=!1;function Qe(s,a,l,c){a.child=s===null?y0(a,null,l,c):Io(a,s.child,l,c)}function I0(s,a,l,c,p){l=l.render;var m=a.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return pa(a),c=Xg(s,a,l,T,m,p),A=Zg(),s!==null&&!He?(Jg(s,a,p),ps(s,a,p)):(Gt&&A&&kg(a),a.flags|=1,Qe(s,a,c,p),a.child)}function D0(s,a,l,c,p){if(s===null){var m=l.type;return typeof m=="function"&&!Og(m)&&m.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=m,O0(s,a,m,c,p)):(s=ph(l.type,null,c,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(m=s.child,!Tp(s,p)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(T,c)&&s.ref===a.ref)return ps(s,a,p)}return a.flags|=1,s=ls(m,c),s.ref=a.ref,s.return=a,a.child=s}function O0(s,a,l,c,p){if(s!==null){var m=s.memoizedProps;if($l(m,c)&&s.ref===a.ref)if(He=!1,a.pendingProps=c=m,Tp(s,p))(s.flags&131072)!==0&&(He=!0);else return a.lanes=s.lanes,ps(s,a,p)}return pp(s,a,l,c,p)}function N0(s,a,l){var c=a.pendingProps,p=c.children,m=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=m!==null?m.baseLanes|l:l,s!==null){for(p=a.child=s.child,m=0;p!==null;)m=m|p.lanes|p.childLanes,p=p.sibling;a.childLanes=m&~c}else a.childLanes=0,a.child=null;return M0(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&bh(a,m!==null?m.cachePool:null),m!==null?Ov(a,m):Kg(),v0(a);else return a.lanes=a.childLanes=536870912,M0(s,a,m!==null?m.baseLanes|l:l,l)}else m!==null?(bh(a,m.cachePool),Ov(a,m),Zs(),a.memoizedState=null):(s!==null&&bh(a,null),Kg(),Zs());return Qe(s,a,p,l),a.child}function M0(s,a,l,c){var p=Fg();return p=p===null?null:{parent:ke._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&bh(a,null),Kg(),v0(a),s!==null&&Xl(s,a,c,!0),null}function Vh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function pp(s,a,l,c,p){return pa(a),l=Xg(s,a,l,c,void 0,p),c=Zg(),s!==null&&!He?(Jg(s,a,p),ps(s,a,p)):(Gt&&c&&kg(a),a.flags|=1,Qe(s,a,l,p),a.child)}function k0(s,a,l,c,p,m){return pa(a),a.updateQueue=null,l=Mv(a,c,l,p),Nv(s),c=Zg(),s!==null&&!He?(Jg(s,a,m),ps(s,a,m)):(Gt&&c&&kg(a),a.flags|=1,Qe(s,a,l,m),a.child)}function P0(s,a,l,c,p){if(pa(a),a.stateNode===null){var m=vo,T=l.contextType;typeof T=="object"&&T!==null&&(m=rn(T)),m=new l(c,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dp,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=c,m.state=a.memoizedState,m.refs={},qg(a),T=l.contextType,m.context=typeof T=="object"&&T!==null?rn(T):vo,m.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(fp(a,l,T,c),m.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dp.enqueueReplaceState(m,m.state,null),su(a,c,m,p),iu(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){m=a.stateNode;var A=a.memoizedProps,L=ya(l,A);m.props=L;var Y=m.context,tt=l.contextType;T=vo,typeof tt=="object"&&tt!==null&&(T=rn(tt));var nt=l.getDerivedStateFromProps;tt=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,tt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||Y!==T)&&E0(a,m,c,T),Ys=!1;var K=a.memoizedState;m.state=K,su(a,c,m,p),iu(),Y=a.memoizedState,A||K!==Y||Ys?(typeof nt=="function"&&(fp(a,l,nt,c),Y=a.memoizedState),(L=Ys||b0(a,l,L,c,K,Y,T))?(tt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),m.props=c,m.state=Y,m.context=T,c=L):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{m=a.stateNode,Gg(s,a),T=a.memoizedProps,tt=ya(l,T),m.props=tt,nt=a.pendingProps,K=m.context,Y=l.contextType,L=vo,typeof Y=="object"&&Y!==null&&(L=rn(Y)),A=l.getDerivedStateFromProps,(Y=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==nt||K!==L)&&E0(a,m,c,L),Ys=!1,K=a.memoizedState,m.state=K,su(a,c,m,p),iu();var W=a.memoizedState;T!==nt||K!==W||Ys||s!==null&&s.dependencies!==null&&yh(s.dependencies)?(typeof A=="function"&&(fp(a,l,A,c),W=a.memoizedState),(tt=Ys||b0(a,l,tt,c,K,W,L)||s!==null&&s.dependencies!==null&&yh(s.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,W,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,W,L)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),m.props=c,m.state=W,m.context=L,c=tt):(typeof m.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),c=!1)}return m=c,Vh(s,a),c=(a.flags&128)!==0,m||c?(m=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,s!==null&&c?(a.child=Io(a,s.child,null,p),a.child=Io(a,null,l,p)):Qe(s,a,l,p),a.memoizedState=m.state,s=a.child):s=ps(s,a,p),s}function L0(s,a,l,c){return Wl(),a.flags|=256,Qe(s,a,l,c),a.child}var mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _p(s){return{baseLanes:s,cachePool:Sv()}}function yp(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Qn),s}function V0(s,a,l){var c=a.pendingProps,p=!1,m=(a.flags&128)!==0,T;if((T=m)||(T=s!==null&&s.memoizedState===null?!1:(Pe.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Gt){if(p?Xs(a):Zs(),Gt){var A=me,L;if(L=A){t:{for(L=A,A=xi;L.nodeType!==8;){if(!A){A=null;break t}if(L=ai(L.nextSibling),L===null){A=null;break t}}A=L}A!==null?(a.memoizedState={dehydrated:A,treeContext:ca!==null?{id:us,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},L=In(18,null,null,0),L.stateNode=A,L.return=a,a.child=L,pn=a,me=null,L=!0):L=!1}L||da(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return em(A)?a.lanes=32:a.lanes=536870912,null;gs(a)}return A=c.children,c=c.fallback,p?(Zs(),p=a.mode,A=Uh({mode:"hidden",children:A},p),c=ua(c,p,l,null),A.return=a,c.return=a,A.sibling=c,a.child=A,p=a.child,p.memoizedState=_p(l),p.childLanes=yp(s,T,l),a.memoizedState=mp,c):(Xs(a),vp(a,A))}if(L=s.memoizedState,L!==null&&(A=L.dehydrated,A!==null)){if(m)a.flags&256?(Xs(a),a.flags&=-257,a=bp(s,a,l)):a.memoizedState!==null?(Zs(),a.child=s.child,a.flags|=128,a=null):(Zs(),p=c.fallback,A=a.mode,c=Uh({mode:"visible",children:c.children},A),p=ua(p,A,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Io(a,s.child,null,l),c=a.child,c.memoizedState=_p(l),c.childLanes=yp(s,T,l),a.memoizedState=mp,a=p);else if(Xs(a),em(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Ql({value:c,source:null,stack:null}),a=bp(s,a,l)}else if(He||Xl(s,a,l,!1),T=(l&s.childLanes)!==0,He||T){if(T=re,T!==null&&(c=l&-l,c=(c&42)!==0?1:js(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,yo(s,c),kn(T,s,c),C0;A.data==="$?"||Up(),a=bp(s,a,l)}else A.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,me=ai(A.nextSibling),pn=a,Gt=!0,fa=null,xi=!1,s!==null&&(Yn[Kn++]=us,Yn[Kn++]=cs,Yn[Kn++]=ca,us=s.id,cs=s.overflow,ca=a),a=vp(a,c.children),a.flags|=4096);return a}return p?(Zs(),p=c.fallback,A=a.mode,L=s.child,Y=L.sibling,c=ls(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Y!==null?p=ls(Y,p):(p=ua(p,A,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,A=s.child.memoizedState,A===null?A=_p(l):(L=A.cachePool,L!==null?(Y=ke._currentValue,L=L.parent!==Y?{parent:Y,pool:Y}:L):L=Sv(),A={baseLanes:A.baseLanes|l,cachePool:L}),p.memoizedState=A,p.childLanes=yp(s,T,l),a.memoizedState=mp,c):(Xs(a),l=s.child,s=l.sibling,l=ls(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function vp(s,a){return a=Uh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Uh(s,a){return s=In(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function bp(s,a,l){return Io(a,s.child,null,l),s=vp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function U0(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),Ug(s.return,a,l)}function Ep(s,a,l,c,p){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=p)}function j0(s,a,l){var c=a.pendingProps,p=c.revealOrder,m=c.tail;if(Qe(s,a,c.children,l),c=Pe.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&U0(s,l,a);else if(s.tag===19)U0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(lt(Pe,c),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&kh(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Ep(a,!1,p,l,m);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&kh(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Ep(a,!0,l,null,m);break;case"together":Ep(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ir|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Xl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=ls(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ls(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Tp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&yh(s)))}function Lx(s,a,l){switch(a.tag){case 3:se(a,a.stateNode.containerInfo),$s(a,ke,s.memoizedState.cache),Wl();break;case 27:case 5:Us(a);break;case 4:se(a,a.stateNode.containerInfo);break;case 10:$s(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Xs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?V0(s,a,l):(Xs(a),s=ps(s,a,l),s!==null?s.sibling:null);Xs(a);break;case 19:var p=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Xl(s,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return j0(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),lt(Pe,Pe.current),c)break;return null;case 22:case 23:return a.lanes=0,N0(s,a,l);case 24:$s(a,ke,s.memoizedState.cache)}return ps(s,a,l)}function z0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)He=!0;else{if(!Tp(s,l)&&(a.flags&128)===0)return He=!1,Lx(s,a,l);He=(s.flags&131072)!==0}else He=!1,Gt&&(a.flags&1048576)!==0&&mv(a,_h,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Og(c)?(s=ya(c,s),a.tag=1,a=P0(null,a,c,s,l)):(a.tag=0,a=pp(null,a,c,s,l));else{if(c!=null){if(p=c.$$typeof,p===Z){a.tag=11,a=I0(null,a,c,s,l);break t}else if(p===k){a.tag=14,a=D0(null,a,c,s,l);break t}}throw a=qt(c)||c,Error(i(306,a,""))}}return a;case 0:return pp(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=ya(c,a.pendingProps),P0(s,a,c,p,l);case 3:t:{if(se(a,a.stateNode.containerInfo),s===null)throw Error(i(387));c=a.pendingProps;var m=a.memoizedState;p=m.element,Gg(s,a),su(a,c,null,l);var T=a.memoizedState;if(c=T.cache,$s(a,ke,c),c!==m.cache&&jg(a,[ke],l,!0),iu(),c=T.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=L0(s,a,c,l);break t}else if(c!==p){p=Gn(Error(i(424)),a),Ql(p),a=L0(s,a,c,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(me=ai(s.firstChild),pn=a,Gt=!0,fa=null,xi=!0,l=y0(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wl(),c===p){a=ps(s,a,l);break t}Qe(s,a,c,l)}a=a.child}return a;case 26:return Vh(s,a),s===null?(l=qb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Gt||(l=a.type,s=a.pendingProps,c=Zh(_t.current).createElement(l),c[Oe]=a,c[Se]=s,Ze(c,l,s),ye(c),a.stateNode=c):a.memoizedState=qb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Us(a),s===null&&Gt&&(c=a.stateNode=Bb(a.type,a.pendingProps,_t.current),pn=a,xi=!0,p=me,or(a.type)?(nm=p,me=ai(c.firstChild)):me=p),Qe(s,a,a.pendingProps.children,l),Vh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Gt&&((p=c=me)&&(c=cC(c,a.type,a.pendingProps,xi),c!==null?(a.stateNode=c,pn=a,me=ai(c.firstChild),xi=!1,p=!0):p=!1),p||da(a)),Us(a),p=a.type,m=a.pendingProps,T=s!==null?s.memoizedProps:null,c=m.children,Zp(p,m)?c=null:T!==null&&Zp(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=Xg(s,a,Cx,null,null,l),Ru._currentValue=p),Vh(s,a),Qe(s,a,c,l),a.child;case 6:return s===null&&Gt&&((s=l=me)&&(l=hC(l,a.pendingProps,xi),l!==null?(a.stateNode=l,pn=a,me=null,s=!0):s=!1),s||da(a)),null;case 13:return V0(s,a,l);case 4:return se(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Io(a,null,c,l):Qe(s,a,c,l),a.child;case 11:return I0(s,a,a.type,a.pendingProps,l);case 7:return Qe(s,a,a.pendingProps,l),a.child;case 8:return Qe(s,a,a.pendingProps.children,l),a.child;case 12:return Qe(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,$s(a,a.type,c.value),Qe(s,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,pa(a),p=rn(p),c=c(p),a.flags|=1,Qe(s,a,c,l),a.child;case 14:return D0(s,a,a.type,a.pendingProps,l);case 15:return O0(s,a,a.type,a.pendingProps,l);case 19:return j0(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Uh(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ls(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return N0(s,a,l);case 24:return pa(a),c=rn(ke),s===null?(p=Fg(),p===null&&(p=re,m=zg(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=l),p=m),a.memoizedState={parent:c,cache:p},qg(a),$s(a,ke,p)):((s.lanes&l)!==0&&(Gg(s,a),su(a,null,null,l),iu()),p=s.memoizedState,m=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),$s(a,ke,c)):(c=m.cache,$s(a,ke,c),c!==p.cache&&jg(a,[ke],l,!0))),Qe(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ms(s){s.flags|=4}function B0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Wb(a)){if(a=Wn.current,a!==null&&((zt&4194048)===zt?Ci!==null:(zt&62914560)!==zt&&(zt&536870912)===0||a!==Ci))throw eu=Hg,wv;s.flags|=8192}}function jh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Cl():536870912,s.lanes|=a,Mo|=a)}function hu(s,a){if(!Gt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function fe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function Vx(s,a,l){var c=a.pendingProps;switch(Pg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(a),null;case 1:return fe(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),fs(ke),pi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Kl(a)?ms(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vv())),fe(a),null;case 26:return l=a.memoizedState,s===null?(ms(a),l!==null?(fe(a),B0(a,l)):(fe(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ms(a),fe(a),B0(a,l)):(fe(a),a.flags&=-16777217):(s.memoizedProps!==c&&ms(a),fe(a),a.flags&=-16777217),null;case 27:Wi(a),l=_t.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ms(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return fe(a),null}s=pt.current,Kl(a)?_v(a):(s=Bb(p,c,l),a.stateNode=s,ms(a))}return fe(a),null;case 5:if(Wi(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ms(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return fe(a),null}if(s=pt.current,Kl(a))_v(a);else{switch(p=Zh(_t.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}s[Oe]=a,s[Se]=c;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(Ze(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ms(a)}}return fe(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&ms(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,Kl(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,p=pn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[Oe]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||kb(s.nodeValue,l)),s||da(a)}else s=Zh(s).createTextNode(c),s[Oe]=a,a.stateNode=s}return fe(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Kl(a),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Oe]=a}else Wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),p=!1}else p=vv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(gs(a),a):(gs(a),null)}if(gs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),jh(a,a.updateQueue),fe(a),null;case 4:return pi(),s===null&&Yp(a.stateNode.containerInfo),fe(a),null;case 10:return fs(a.type),fe(a),null;case 19:if(ct(Pe),p=a.memoizedState,p===null)return fe(a),null;if(c=(a.flags&128)!==0,m=p.rendering,m===null)if(c)hu(p,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(m=kh(s),m!==null){for(a.flags|=128,hu(p,!1),s=m.updateQueue,a.updateQueue=s,jh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)pv(l,s),l=l.sibling;return lt(Pe,Pe.current&1|2),a.child}s=s.sibling}p.tail!==null&&jn()>Fh&&(a.flags|=128,c=!0,hu(p,!1),a.lanes=4194304)}else{if(!c)if(s=kh(m),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,jh(a,s),hu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!Gt)return fe(a),null}else 2*jn()-p.renderingStartTime>Fh&&l!==536870912&&(a.flags|=128,c=!0,hu(p,!1),a.lanes=4194304);p.isBackwards?(m.sibling=a.child,a.child=m):(s=p.last,s!==null?s.sibling=m:a.child=m,p.last=m)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=jn(),a.sibling=null,s=Pe.current,lt(Pe,c?s&1|2:s&1),a):(fe(a),null);case 22:case 23:return gs(a),Wg(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(fe(a),a.subtreeFlags&6&&(a.flags|=8192)):fe(a),l=a.updateQueue,l!==null&&jh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ct(ma),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),fs(ke),fe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Ux(s,a){switch(Pg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return fs(ke),pi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Wi(a),null;case 13:if(gs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Wl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(Pe),null;case 4:return pi(),null;case 10:return fs(a.type),null;case 22:case 23:return gs(a),Wg(),s!==null&&ct(ma),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return fs(ke),null;case 25:return null;default:return null}}function F0(s,a){switch(Pg(a),a.tag){case 3:fs(ke),pi();break;case 26:case 27:case 5:Wi(a);break;case 4:pi();break;case 13:gs(a);break;case 19:ct(Pe);break;case 10:fs(a.type);break;case 22:case 23:gs(a),Wg(),s!==null&&ct(ma);break;case 24:fs(ke)}}function fu(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&s)===s){c=void 0;var m=l.create,T=l.inst;c=m(),T.destroy=c}l=l.next}while(l!==p)}}catch(A){ie(a,a.return,A)}}function Js(s,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var m=p.next;c=m;do{if((c.tag&s)===s){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=a;var L=l,Y=A;try{Y()}catch(tt){ie(p,L,tt)}}}c=c.next}while(c!==m)}}catch(tt){ie(a,a.return,tt)}}function H0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Dv(a,l)}catch(c){ie(s,s.return,c)}}}function q0(s,a,l){l.props=ya(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ie(s,a,c)}}function du(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(p){ie(s,a,p)}}function Ii(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ie(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ie(s,a,p)}else l.current=null}function G0(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ie(s,s.return,p)}}function Sp(s,a,l){try{var c=s.stateNode;rC(c,s.type,l,a),c[Se]=a}catch(p){ie(s,s.return,p)}}function $0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&or(s.type)||s.tag===4}function wp(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||$0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&or(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ap(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Xh));else if(c!==4&&(c===27&&or(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Ap(s,a,l),s=s.sibling;s!==null;)Ap(s,a,l),s=s.sibling}function zh(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&or(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(zh(s,a,l),s=s.sibling;s!==null;)zh(s,a,l),s=s.sibling}function Y0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Ze(a,c,l),a[Oe]=s,a[Se]=l}catch(m){ie(s,s.return,m)}}var _s=!1,be=!1,Rp=!1,K0=typeof WeakSet=="function"?WeakSet:Set,qe=null;function jx(s,a){if(s=s.containerInfo,Qp=rf,s=rv(s),wg(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var T=0,A=-1,L=-1,Y=0,tt=0,nt=s,K=null;e:for(;;){for(var W;nt!==l||p!==0&&nt.nodeType!==3||(A=T+p),nt!==m||c!==0&&nt.nodeType!==3||(L=T+c),nt.nodeType===3&&(T+=nt.nodeValue.length),(W=nt.firstChild)!==null;)K=nt,nt=W;for(;;){if(nt===s)break e;if(K===l&&++Y===p&&(A=T),K===m&&++tt===c&&(L=T),(W=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=W}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xp={focusedElem:s,selectionRange:l},rf=!1,qe=a;qe!==null;)if(a=qe,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,qe=s;else for(;qe!==null;){switch(a=qe,m=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,l=a,p=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var At=ya(l.type,p,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(At,m),c.__reactInternalSnapshotBeforeUpdate=s}catch(bt){ie(l,l.return,bt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)tm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":tm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,qe=s;break}qe=a.return}}function W0(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:tr(s,l),c&4&&fu(5,l);break;case 1:if(tr(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ie(l,l.return,T)}else{var p=ya(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(l,l.return,T)}}c&64&&H0(l),c&512&&du(l,l.return);break;case 3:if(tr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Dv(s,a)}catch(T){ie(l,l.return,T)}}break;case 27:a===null&&c&4&&Y0(l);case 26:case 5:tr(s,l),a===null&&c&4&&G0(l),c&512&&du(l,l.return);break;case 12:tr(s,l);break;case 13:tr(s,l),c&4&&Z0(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Kx.bind(null,l),fC(s,l))));break;case 22:if(c=l.memoizedState!==null||_s,!c){a=a!==null&&a.memoizedState!==null||be,p=_s;var m=be;_s=c,(be=a)&&!m?er(s,l,(l.subtreeFlags&8772)!==0):tr(s,l),_s=p,be=m}break;case 30:break;default:tr(s,l)}}function Q0(s){var a=s.alternate;a!==null&&(s.alternate=null,Q0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Fs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ce=null,vn=!1;function ys(s,a,l){for(l=l.child;l!==null;)X0(s,a,l),l=l.sibling}function X0(s,a,l){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(pe,l)}catch{}switch(l.tag){case 26:be||Ii(l,a),ys(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:be||Ii(l,a);var c=ce,p=vn;or(l.type)&&(ce=l.stateNode,vn=!1),ys(s,a,l),Tu(l.stateNode),ce=c,vn=p;break;case 5:be||Ii(l,a);case 6:if(c=ce,p=vn,ce=null,ys(s,a,l),ce=c,vn=p,ce!==null)if(vn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(l.stateNode)}catch(m){ie(l,a,m)}else try{ce.removeChild(l.stateNode)}catch(m){ie(l,a,m)}break;case 18:ce!==null&&(vn?(s=ce,jb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Du(s)):jb(ce,l.stateNode));break;case 4:c=ce,p=vn,ce=l.stateNode.containerInfo,vn=!0,ys(s,a,l),ce=c,vn=p;break;case 0:case 11:case 14:case 15:be||Js(2,l,a),be||Js(4,l,a),ys(s,a,l);break;case 1:be||(Ii(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&q0(l,a,c)),ys(s,a,l);break;case 21:ys(s,a,l);break;case 22:be=(c=be)||l.memoizedState!==null,ys(s,a,l),be=c;break;default:ys(s,a,l)}}function Z0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Du(s)}catch(l){ie(a,a.return,l)}}function zx(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new K0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new K0),a;default:throw Error(i(435,s.tag))}}function xp(s,a){var l=zx(s);a.forEach(function(c){var p=Wx.bind(null,s,c);l.has(c)||(l.add(c),c.then(p,p))})}function Dn(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],m=s,T=a,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(or(A.type)){ce=A.stateNode,vn=!1;break t}break;case 5:ce=A.stateNode,vn=!1;break t;case 3:case 4:ce=A.stateNode.containerInfo,vn=!0;break t}A=A.return}if(ce===null)throw Error(i(160));X0(m,T,p),ce=null,vn=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)J0(a,s),a=a.sibling}var ri=null;function J0(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dn(a,s),On(s),c&4&&(Js(3,s,s.return),fu(3,s),Js(5,s,s.return));break;case 1:Dn(a,s),On(s),c&512&&(be||l===null||Ii(l,l.return)),c&64&&_s&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=ri;if(Dn(a,s),On(s),c&512&&(be||l===null||Ii(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Yr]||m[Oe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(c),p.head.insertBefore(m,p.querySelector("head > title"))),Ze(m,c,l),m[Oe]=s,ye(m),c=m;break t;case"link":var T=Yb("link","href",p).get(c+(l.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(A,1);break e}}m=p.createElement(c),Ze(m,c,l),p.head.appendChild(m);break;case"meta":if(T=Yb("meta","content",p).get(c+(l.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(A,1);break e}}m=p.createElement(c),Ze(m,c,l),p.head.appendChild(m);break;default:throw Error(i(468,c))}m[Oe]=s,ye(m),c=m}s.stateNode=c}else Kb(p,s.type,s.stateNode);else s.stateNode=$b(p,c,s.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?Kb(p,s.type,s.stateNode):$b(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Sp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Dn(a,s),On(s),c&512&&(be||l===null||Ii(l,l.return)),l!==null&&c&4&&Sp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Dn(a,s),On(s),c&512&&(be||l===null||Ii(l,l.return)),s.flags&32){p=s.stateNode;try{Bn(p,"")}catch(W){ie(s,s.return,W)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,Sp(s,p,l!==null?l.memoizedProps:p)),c&1024&&(Rp=!0);break;case 6:if(Dn(a,s),On(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(W){ie(s,s.return,W)}}break;case 3:if(ef=null,p=ri,ri=Jh(a.containerInfo),Dn(a,s),ri=p,On(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Du(a.containerInfo)}catch(W){ie(s,s.return,W)}Rp&&(Rp=!1,tb(s));break;case 4:c=ri,ri=Jh(s.stateNode.containerInfo),Dn(a,s),On(s),ri=c;break;case 12:Dn(a,s),On(s);break;case 13:Dn(a,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mp=jn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,xp(s,c)));break;case 22:p=s.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,Y=_s,tt=be;if(_s=Y||p,be=tt||L,Dn(a,s),be=tt,_s=Y,On(s),c&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||L||_s||be||va(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(m=L.stateNode,p)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=L.stateNode;var nt=L.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(W){ie(L,L.return,W)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(W){ie(L,L.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,xp(s,l))));break;case 19:Dn(a,s),On(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,xp(s,c)));break;case 30:break;case 21:break;default:Dn(a,s),On(s)}}function On(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if($0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,m=wp(s);zh(s,m,p);break;case 5:var T=l.stateNode;l.flags&32&&(Bn(T,""),l.flags&=-33);var A=wp(s);zh(s,A,T);break;case 3:case 4:var L=l.stateNode.containerInfo,Y=wp(s);Ap(s,Y,L);break;default:throw Error(i(161))}}catch(tt){ie(s,s.return,tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function tb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;tb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function tr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)W0(s,a.alternate,a),a=a.sibling}function va(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Js(4,a,a.return),va(a);break;case 1:Ii(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&q0(a,a.return,l),va(a);break;case 27:Tu(a.stateNode);case 26:case 5:Ii(a,a.return),va(a);break;case 22:a.memoizedState===null&&va(a);break;case 30:va(a);break;default:va(a)}s=s.sibling}}function er(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=s,m=a,T=m.flags;switch(m.tag){case 0:case 11:case 15:er(p,m,l),fu(4,m);break;case 1:if(er(p,m,l),c=m,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){ie(c,c.return,Y)}if(c=m,p=c.updateQueue,p!==null){var A=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Iv(L[p],A)}catch(Y){ie(c,c.return,Y)}}l&&T&64&&H0(m),du(m,m.return);break;case 27:Y0(m);case 26:case 5:er(p,m,l),l&&c===null&&T&4&&G0(m),du(m,m.return);break;case 12:er(p,m,l);break;case 13:er(p,m,l),l&&T&4&&Z0(p,m);break;case 22:m.memoizedState===null&&er(p,m,l),du(m,m.return);break;case 30:break;default:er(p,m,l)}a=a.sibling}}function Cp(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Zl(l))}function Ip(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Zl(s))}function Di(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)eb(s,a,l,c),a=a.sibling}function eb(s,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Di(s,a,l,c),p&2048&&fu(9,a);break;case 1:Di(s,a,l,c);break;case 3:Di(s,a,l,c),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Zl(s)));break;case 12:if(p&2048){Di(s,a,l,c),s=a.stateNode;try{var m=a.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){ie(a,a.return,L)}}else Di(s,a,l,c);break;case 13:Di(s,a,l,c);break;case 23:break;case 22:m=a.stateNode,T=a.alternate,a.memoizedState!==null?m._visibility&2?Di(s,a,l,c):gu(s,a):m._visibility&2?Di(s,a,l,c):(m._visibility|=2,Do(s,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&Cp(T,a);break;case 24:Di(s,a,l,c),p&2048&&Ip(a.alternate,a);break;default:Di(s,a,l,c)}}function Do(s,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=s,T=a,A=l,L=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Do(m,T,A,L,p),fu(8,T);break;case 23:break;case 22:var tt=T.stateNode;T.memoizedState!==null?tt._visibility&2?Do(m,T,A,L,p):gu(m,T):(tt._visibility|=2,Do(m,T,A,L,p)),p&&Y&2048&&Cp(T.alternate,T);break;case 24:Do(m,T,A,L,p),p&&Y&2048&&Ip(T.alternate,T);break;default:Do(m,T,A,L,p)}a=a.sibling}}function gu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,p=c.flags;switch(c.tag){case 22:gu(l,c),p&2048&&Cp(c.alternate,c);break;case 24:gu(l,c),p&2048&&Ip(c.alternate,c);break;default:gu(l,c)}a=a.sibling}}var pu=8192;function Oo(s){if(s.subtreeFlags&pu)for(s=s.child;s!==null;)nb(s),s=s.sibling}function nb(s){switch(s.tag){case 26:Oo(s),s.flags&pu&&s.memoizedState!==null&&AC(ri,s.memoizedState,s.memoizedProps);break;case 5:Oo(s);break;case 3:case 4:var a=ri;ri=Jh(s.stateNode.containerInfo),Oo(s),ri=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=pu,pu=16777216,Oo(s),pu=a):Oo(s));break;default:Oo(s)}}function ib(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function mu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qe=c,rb(c,s)}ib(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sb(s),s=s.sibling}function sb(s){switch(s.tag){case 0:case 11:case 15:mu(s),s.flags&2048&&Js(9,s,s.return);break;case 3:mu(s);break;case 12:mu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Bh(s)):mu(s);break;default:mu(s)}}function Bh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qe=c,rb(c,s)}ib(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Js(8,a,a.return),Bh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Bh(a));break;default:Bh(a)}s=s.sibling}}function rb(s,a){for(;qe!==null;){var l=qe;switch(l.tag){case 0:case 11:case 15:Js(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,qe=c;else t:for(l=s;qe!==null;){c=qe;var p=c.sibling,m=c.return;if(Q0(c),c===l){qe=null;break t}if(p!==null){p.return=m,qe=p;break t}qe=m}}}var Bx={getCacheForType:function(s){var a=rn(ke),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Fx=typeof WeakMap=="function"?WeakMap:Map,Wt=0,re=null,kt=null,zt=0,Qt=0,Nn=null,nr=!1,No=!1,Dp=!1,vs=0,_e=0,ir=0,ba=0,Op=0,Qn=0,Mo=0,_u=null,bn=null,Np=!1,Mp=0,Fh=1/0,Hh=null,sr=null,Xe=0,rr=null,ko=null,Po=0,kp=0,Pp=null,ab=null,yu=0,Lp=null;function Mn(){if((Wt&2)!==0&&zt!==0)return zt&-zt;if(Q.T!==null){var s=To;return s!==0?s:Hp()}return zs()}function ob(){Qn===0&&(Qn=(zt&536870912)===0||Gt?xl():536870912);var s=Wn.current;return s!==null&&(s.flags|=32),Qn}function kn(s,a,l){(s===re&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)&&(Lo(s,0),ar(s,zt,Qn,!1)),Xi(s,l),((Wt&2)===0||s!==re)&&(s===re&&((Wt&2)===0&&(ba|=l),_e===4&&ar(s,zt,Qn,!1)),Oi(s))}function lb(s,a,l){if((Wt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||$r(s,a),p=c?Gx(s,a):jp(s,a,!0),m=c;do{if(p===0){No&&!c&&ar(s,a,0,!1);break}else{if(l=s.current.alternate,m&&!Hx(l)){p=jp(s,a,!1),m=!1;continue}if(p===2){if(m=a,s.errorRecoveryDisabledLanes&m)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var A=s;p=_u;var L=A.current.memoizedState.isDehydrated;if(L&&(Lo(A,T).flags|=256),T=jp(A,T,!1),T!==2){if(Dp&&!L){A.errorRecoveryDisabledLanes|=m,ba|=m,p=4;break t}m=bn,bn=p,m!==null&&(bn===null?bn=m:bn.push.apply(bn,m))}p=T}if(m=!1,p!==2)continue}}if(p===1){Lo(s,0),ar(s,a,0,!0);break}t:{switch(c=s,m=p,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ar(c,a,Qn,!nr);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Mp+300-jn(),10<p)){if(ar(c,a,Qn,!nr),Za(c,0,!0)!==0)break t;c.timeoutHandle=Vb(ub.bind(null,c,l,bn,Hh,Np,a,Qn,ba,Mo,nr,m,2,-0,0),p);break t}ub(c,l,bn,Hh,Np,a,Qn,ba,Mo,nr,m,0,-0,0)}}break}while(!0);Oi(s)}function ub(s,a,l,c,p,m,T,A,L,Y,tt,nt,K,W){if(s.timeoutHandle=-1,nt=a.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:wC},nb(a),nt=RC(),nt!==null)){s.cancelPendingCommit=nt(mb.bind(null,s,a,m,l,c,p,T,A,L,tt,1,K,W)),ar(s,m,T,!Y);return}mb(s,a,m,l,c,p,T,A,L)}function Hx(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],m=p.getSnapshot;p=p.value;try{if(!Cn(m(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ar(s,a,l,c){a&=~Op,a&=~ba,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var p=a;0<p;){var m=31-sn(p),T=1<<m;c[m]=-1,p&=~T}l!==0&&mi(s,l,a)}function qh(){return(Wt&6)===0?(vu(0),!1):!0}function Vp(){if(kt!==null){if(Qt===0)var s=kt.return;else s=kt,hs=ga=null,tp(s),Co=null,uu=0,s=kt;for(;s!==null;)F0(s.alternate,s),s=s.return;kt=null}}function Lo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,oC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Vp(),re=s,kt=l=ls(s.current,null),zt=a,Qt=0,Nn=null,nr=!1,No=$r(s,a),Dp=!1,Mo=Qn=Op=ba=ir=_e=0,bn=_u=null,Np=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var p=31-sn(c),m=1<<p;a|=s[p],c&=~m}return vs=a,fh(),l}function cb(s,a){Ot=null,Q.H=Oh,a===tu||a===Eh?(a=xv(),Qt=3):a===wv?(a=xv(),Qt=4):Qt=a===C0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Nn=a,kt===null&&(_e=1,Lh(s,Gn(a,s.current)))}function hb(){var s=Q.H;return Q.H=Oh,s===null?Oh:s}function fb(){var s=Q.A;return Q.A=Bx,s}function Up(){_e=4,nr||(zt&4194048)!==zt&&Wn.current!==null||(No=!0),(ir&134217727)===0&&(ba&134217727)===0||re===null||ar(re,zt,Qn,!1)}function jp(s,a,l){var c=Wt;Wt|=2;var p=hb(),m=fb();(re!==s||zt!==a)&&(Hh=null,Lo(s,a)),a=!1;var T=_e;t:do try{if(Qt!==0&&kt!==null){var A=kt,L=Nn;switch(Qt){case 8:Vp(),T=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(a=!0);var Y=Qt;if(Qt=0,Nn=null,Vo(s,A,L,Y),l&&No){T=0;break t}break;default:Y=Qt,Qt=0,Nn=null,Vo(s,A,L,Y)}}qx(),T=_e;break}catch(tt){cb(s,tt)}while(!0);return a&&s.shellSuspendCounter++,hs=ga=null,Wt=c,Q.H=p,Q.A=m,kt===null&&(re=null,zt=0,fh()),T}function qx(){for(;kt!==null;)db(kt)}function Gx(s,a){var l=Wt;Wt|=2;var c=hb(),p=fb();re!==s||zt!==a?(Hh=null,Fh=jn()+500,Lo(s,a)):No=$r(s,a);t:do try{if(Qt!==0&&kt!==null){a=kt;var m=Nn;e:switch(Qt){case 1:Qt=0,Nn=null,Vo(s,a,m,1);break;case 2:case 9:if(Av(m)){Qt=0,Nn=null,gb(a);break}a=function(){Qt!==2&&Qt!==9||re!==s||(Qt=7),Oi(s)},m.then(a,a);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Av(m)?(Qt=0,Nn=null,gb(a)):(Qt=0,Nn=null,Vo(s,a,m,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var A=kt;if(!T||Wb(T)){Qt=0,Nn=null;var L=A.sibling;if(L!==null)kt=L;else{var Y=A.return;Y!==null?(kt=Y,Gh(Y)):kt=null}break e}}Qt=0,Nn=null,Vo(s,a,m,5);break;case 6:Qt=0,Nn=null,Vo(s,a,m,6);break;case 8:Vp(),_e=6;break t;default:throw Error(i(462))}}$x();break}catch(tt){cb(s,tt)}while(!0);return hs=ga=null,Q.H=c,Q.A=p,Wt=l,kt!==null?0:(re=null,zt=0,fh(),_e)}function $x(){for(;kt!==null&&!Sl();)db(kt)}function db(s){var a=z0(s.alternate,s,vs);s.memoizedProps=s.pendingProps,a===null?Gh(s):kt=a}function gb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=k0(l,a,a.pendingProps,a.type,void 0,zt);break;case 11:a=k0(l,a,a.pendingProps,a.type.render,a.ref,zt);break;case 5:tp(a);default:F0(l,a),a=kt=pv(a,vs),a=z0(l,a,vs)}s.memoizedProps=s.pendingProps,a===null?Gh(s):kt=a}function Vo(s,a,l,c){hs=ga=null,tp(a),Co=null,uu=0;var p=a.return;try{if(Px(s,p,a,l,zt)){_e=1,Lh(s,Gn(l,s.current)),kt=null;return}}catch(m){if(p!==null)throw kt=p,m;_e=1,Lh(s,Gn(l,s.current)),kt=null;return}a.flags&32768?(Gt||c===1?s=!0:No||(zt&536870912)!==0?s=!1:(nr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),pb(a,s)):Gh(a)}function Gh(s){var a=s;do{if((a.flags&32768)!==0){pb(a,nr);return}s=a.return;var l=Vx(a.alternate,a,vs);if(l!==null){kt=l;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=s}while(a!==null);_e===0&&(_e=5)}function pb(s,a){do{var l=Ux(s.alternate,s);if(l!==null){l.flags&=32767,kt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){kt=s;return}kt=s=l}while(s!==null);_e=6,kt=null}function mb(s,a,l,c,p,m,T,A,L){s.cancelPendingCommit=null;do $h();while(Xe!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=Ig,Il(s,l,m,T,A,L),s===re&&(kt=re=null,zt=0),ko=a,rr=s,Po=l,kp=m,Pp=p,ab=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Qx(Fr,function(){return Eb(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,p=at.p,at.p=2,T=Wt,Wt|=4;try{jx(s,a,l)}finally{Wt=T,at.p=p,Q.T=c}}Xe=1,_b(),yb(),vb()}}function _b(){if(Xe===1){Xe=0;var s=rr,a=ko,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var c=at.p;at.p=2;var p=Wt;Wt|=4;try{J0(a,s);var m=Xp,T=rv(s.containerInfo),A=m.focusedElem,L=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&sv(A.ownerDocument.documentElement,A)){if(L!==null&&wg(A)){var Y=L.start,tt=L.end;if(tt===void 0&&(tt=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(tt,A.value.length);else{var nt=A.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var W=K.getSelection(),At=A.textContent.length,bt=Math.min(L.start,At),ne=L.end===void 0?bt:Math.min(L.end,At);!W.extend&&bt>ne&&(T=ne,ne=bt,bt=T);var H=iv(A,bt),z=iv(A,ne);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var $=nt.createRange();$.setStart(H.node,H.offset),W.removeAllRanges(),bt>ne?(W.addRange($),W.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),W.addRange($))}}}}for(nt=[],W=A;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var et=nt[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}rf=!!Qp,Xp=Qp=null}finally{Wt=p,at.p=c,Q.T=l}}s.current=a,Xe=2}}function yb(){if(Xe===2){Xe=0;var s=rr,a=ko,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var c=at.p;at.p=2;var p=Wt;Wt|=4;try{W0(s,a.alternate,a)}finally{Wt=p,at.p=c,Q.T=l}}Xe=3}}function vb(){if(Xe===4||Xe===3){Xe=0,Bc();var s=rr,a=ko,l=Po,c=ab;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xe=5:(Xe=0,ko=rr=null,bb(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(sr=null),Ja(l),a=a.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(pe,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,p=at.p,at.p=2,Q.T=null;try{for(var m=s.onRecoverableError,T=0;T<c.length;T++){var A=c[T];m(A.value,{componentStack:A.stack})}}finally{Q.T=a,at.p=p}}(Po&3)!==0&&$h(),Oi(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Lp?yu++:(yu=0,Lp=s):yu=0,vu(0)}}function bb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Zl(a)))}function $h(s){return _b(),yb(),vb(),Eb()}function Eb(){if(Xe!==5)return!1;var s=rr,a=kp;kp=0;var l=Ja(Po),c=Q.T,p=at.p;try{at.p=32>l?32:l,Q.T=null,l=Pp,Pp=null;var m=rr,T=Po;if(Xe=0,ko=rr=null,Po=0,(Wt&6)!==0)throw Error(i(331));var A=Wt;if(Wt|=4,sb(m.current),eb(m,m.current,T,l),Wt=A,vu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(pe,m)}catch{}return!0}finally{at.p=p,Q.T=c,bb(s,a)}}function Tb(s,a,l){a=Gn(l,a),a=gp(s.stateNode,a,2),s=Ws(s,a,2),s!==null&&(Xi(s,2),Oi(s))}function ie(s,a,l){if(s.tag===3)Tb(s,s,l);else for(;a!==null;){if(a.tag===3){Tb(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(sr===null||!sr.has(c))){s=Gn(l,s),l=R0(2),c=Ws(a,l,2),c!==null&&(x0(l,c,a,s),Xi(c,2),Oi(c));break}}a=a.return}}function zp(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Fx;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Dp=!0,p.add(l),s=Yx.bind(null,s,a,l),a.then(s,s))}function Yx(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(zt&l)===l&&(_e===4||_e===3&&(zt&62914560)===zt&&300>jn()-Mp?(Wt&2)===0&&Lo(s,0):Op|=l,Mo===zt&&(Mo=0)),Oi(s)}function Sb(s,a){a===0&&(a=Cl()),s=yo(s,a),s!==null&&(Xi(s,a),Oi(s))}function Kx(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Sb(s,l)}function Wx(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Sb(s,l)}function Qx(s,a){return zr(s,a)}var Yh=null,Uo=null,Bp=!1,Kh=!1,Fp=!1,Ea=0;function Oi(s){s!==Uo&&s.next===null&&(Uo===null?Yh=Uo=s:Uo=Uo.next=s),Kh=!0,Bp||(Bp=!0,Zx())}function vu(s,a){if(!Fp&&Kh){Fp=!0;do for(var l=!1,c=Yh;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var m=0;else{var T=c.suspendedLanes,A=c.pingedLanes;m=(1<<31-sn(42|s)+1)-1,m&=p&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,xb(c,m))}else m=zt,m=Za(c,c===re?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||$r(c,m)||(l=!0,xb(c,m));c=c.next}while(l);Fp=!1}}function Xx(){wb()}function wb(){Kh=Bp=!1;var s=0;Ea!==0&&(aC()&&(s=Ea),Ea=0);for(var a=jn(),l=null,c=Yh;c!==null;){var p=c.next,m=Ab(c,a);m===0?(c.next=null,l===null?Yh=p:l.next=p,p===null&&(Uo=l)):(l=c,(s!==0||(m&3)!==0)&&(Kh=!0)),c=p}vu(s)}function Ab(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var T=31-sn(m),A=1<<T,L=p[T];L===-1?((A&l)===0||(A&c)!==0)&&(p[T]=Rl(A,a)):L<=a&&(s.expiredLanes|=A),m&=~A}if(a=re,l=zt,l=Za(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Br(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||$r(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Br(c),Ja(l)){case 2:case 8:l=Qa;break;case 32:l=Fr;break;case 268435456:l=Xa;break;default:l=Fr}return c=Rb.bind(null,s),l=zr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Br(c),s.callbackPriority=2,s.callbackNode=null,2}function Rb(s,a){if(Xe!==0&&Xe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if($h()&&s.callbackNode!==l)return null;var c=zt;return c=Za(s,s===re?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(lb(s,c,a),Ab(s,jn()),s.callbackNode!=null&&s.callbackNode===l?Rb.bind(null,s):null)}function xb(s,a){if($h())return null;lb(s,a,!0)}function Zx(){lC(function(){(Wt&6)!==0?zr(wl,Xx):wb()})}function Hp(){return Ea===0&&(Ea=xl()),Ea}function Cb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ro(""+s)}function Ib(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function Jx(s,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var m=Cb((p[Se]||null).action),T=c.submitter;T&&(a=(a=T[Se]||null)?Cb(a.formAction):T.getAttribute("formAction"),a!==null&&(m=a,T=null));var A=new ao("action","action",null,c,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ea!==0){var L=T?Ib(p,T):new FormData(p);up(l,{pending:!0,data:L,method:p.method,action:m},null,L)}}else typeof m=="function"&&(A.preventDefault(),L=T?Ib(p,T):new FormData(p),up(l,{pending:!0,data:L,method:p.method,action:m},m,L))},currentTarget:p}]})}}for(var qp=0;qp<Cg.length;qp++){var Gp=Cg[qp],tC=Gp.toLowerCase(),eC=Gp[0].toUpperCase()+Gp.slice(1);si(tC,"on"+eC)}si(lv,"onAnimationEnd"),si(uv,"onAnimationIteration"),si(cv,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(yx,"onTransitionRun"),si(vx,"onTransitionStart"),si(bx,"onTransitionCancel"),si(hv,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function Db(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],p=c.event;c=c.listeners;t:{var m=void 0;if(a)for(var T=c.length-1;0<=T;T--){var A=c[T],L=A.instance,Y=A.currentTarget;if(A=A.listener,L!==m&&p.isPropagationStopped())break t;m=A,p.currentTarget=Y;try{m(p)}catch(tt){Ph(tt)}p.currentTarget=null,m=L}else for(T=0;T<c.length;T++){if(A=c[T],L=A.instance,Y=A.currentTarget,A=A.listener,L!==m&&p.isPropagationStopped())break t;m=A,p.currentTarget=Y;try{m(p)}catch(tt){Ph(tt)}p.currentTarget=null,m=L}}}}function Pt(s,a){var l=a[Ol];l===void 0&&(l=a[Ol]=new Set);var c=s+"__bubble";l.has(c)||(Ob(a,s,2,!1),l.add(c))}function $p(s,a,l){var c=0;a&&(c|=4),Ob(l,s,c,a)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Yp(s){if(!s[Wh]){s[Wh]=!0,Nl.forEach(function(l){l!=="selectionchange"&&(nC.has(l)||$p(l,!1,s),$p(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Wh]||(a[Wh]=!0,$p("selectionchange",!1,a))}}function Ob(s,a,l,c){switch(eE(a)){case 2:var p=IC;break;case 8:p=DC;break;default:p=om}l=p.bind(null,a,l,s),p=void 0,!Hn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Kp(s,a,l,c,p){var m=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=c.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=Zi(A),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){c=m=T;continue t}A=A.parentNode}}c=c.return}Xc(function(){var Y=m,tt=Fn(l),nt=[];t:{var K=fv.get(s);if(K!==void 0){var W=ao,At=s;switch(s){case"keypress":if(Ti(l)===0)break t;case"keydown":case"keyup":W=fo;break;case"focusin":At="focus",W=uo;break;case"focusout":At="blur",W=uo;break;case"beforeblur":case"afterblur":W=uo;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=rh;break;case lv:case uv:case cv:W=co;break;case hv:W=oh;break;case"scroll":case"scrollend":W=Zc;break;case"wheel":W=go;break;case"copy":case"cut":case"paste":W=ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ql;break;case"toggle":case"beforetoggle":W=uh}var bt=(a&4)!==0,ne=!bt&&(s==="scroll"||s==="scrollend"),H=bt?K!==null?K+"Capture":null:K;bt=[];for(var z=Y,$;z!==null;){var et=z;if($=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||$===null||H===null||(et=ta(z,H),et!=null&&bt.push(Eu(z,et,$))),ne)break;z=z.return}0<bt.length&&(K=new W(K,At,null,l,tt),nt.push({event:K,listeners:bt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==ns&&(At=l.relatedTarget||l.fromElement)&&(Zi(At)||At[zn]))break t;if((W||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,W?(At=l.relatedTarget||l.toElement,W=Y,At=At?Zi(At):null,At!==null&&(ne=o(At),bt=At.tag,At!==ne||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(W=null,At=Y),W!==At)){if(bt=qn,et="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(bt=ql,et="onPointerLeave",H="onPointerEnter",z="pointer"),ne=W==null?K:yi(W),$=At==null?K:yi(At),K=new bt(et,z+"leave",W,l,tt),K.target=ne,K.relatedTarget=$,et=null,Zi(tt)===Y&&(bt=new bt(H,z+"enter",At,l,tt),bt.target=$,bt.relatedTarget=ne,et=bt),ne=et,W&&At)e:{for(bt=W,H=At,z=0,$=bt;$;$=jo($))z++;for($=0,et=H;et;et=jo(et))$++;for(;0<z-$;)bt=jo(bt),z--;for(;0<$-z;)H=jo(H),$--;for(;z--;){if(bt===H||H!==null&&bt===H.alternate)break e;bt=jo(bt),H=jo(H)}bt=null}else bt=null;W!==null&&Nb(nt,K,W,bt,!1),At!==null&&ne!==null&&Nb(nt,ne,At,bt,!0)}}t:{if(K=Y?yi(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var gt=Xy;else if(Me(K))if(Zy)gt=px;else{gt=dx;var Mt=fx}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Vl(Y.elementType)&&(gt=Xy):gt=gx;if(gt&&(gt=gt(s,Y))){os(nt,gt,l,tt);break t}Mt&&Mt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&qs(K,"number",K.value)}switch(Mt=Y?yi(Y):window,s){case"focusin":(Me(Mt)||Mt.contentEditable==="true")&&(po=Mt,Ag=Y,Yl=null);break;case"focusout":Yl=Ag=po=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,av(nt,l,tt);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":av(nt,l,tt)}var mt;if(Ai)t:{switch(s){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ut?X(s,l)&&(Et="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(E&&l.locale!=="ko"&&(Ut||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ut&&(mt=jl()):(Ei=tt,Gs="value"in Ei?Ei.value:Ei.textContent,Ut=!0)),Mt=Qh(Y,Et),0<Mt.length&&(Et=new Fl(Et,s,null,l,tt),nt.push({event:Et,listeners:Mt}),mt?Et.data=mt:(mt=ut(l),mt!==null&&(Et.data=mt)))),(mt=y?Ne(s,l):jt(s,l))&&(Et=Qh(Y,"onBeforeInput"),0<Et.length&&(Mt=new Fl("onBeforeInput","beforeinput",null,l,tt),nt.push({event:Mt,listeners:Et}),Mt.data=mt)),Jx(nt,s,Y,l,tt)}Db(nt,a)})}function Eu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Qh(s,a){for(var l=a+"Capture",c=[];s!==null;){var p=s,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=ta(s,l),p!=null&&c.unshift(Eu(s,p,m)),p=ta(s,a),p!=null&&c.push(Eu(s,p,m))),s.tag===3)return c;s=s.return}return[]}function jo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Nb(s,a,l,c,p){for(var m=a._reactName,T=[];l!==null&&l!==c;){var A=l,L=A.alternate,Y=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||Y===null||(L=Y,p?(Y=ta(l,m),Y!=null&&T.unshift(Eu(l,Y,L))):p||(Y=ta(l,m),Y!=null&&T.push(Eu(l,Y,L)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var iC=/\r\n?/g,sC=/\u0000|\uFFFD/g;function Mb(s){return(typeof s=="string"?s:""+s).replace(iC,`
`).replace(sC,"")}function kb(s,a){return a=Mb(a),Mb(s)===a}function Xh(){}function ee(s,a,l,c,p,m){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Bn(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Bn(s,""+c);break;case"className":vi(s,"class",c);break;case"tabIndex":vi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(s,l,c);break;case"style":Ll(s,c,m);break;case"data":if(a!=="object"){vi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=ro(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(a!=="input"&&ee(s,a,"name",p.name,p,null),ee(s,a,"formEncType",p.formEncType,p,null),ee(s,a,"formMethod",p.formMethod,p,null),ee(s,a,"formTarget",p.formTarget,p,null)):(ee(s,a,"encType",p.encType,p,null),ee(s,a,"method",p.method,p,null),ee(s,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=ro(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Xh);break;case"onScroll":c!=null&&Pt("scroll",s);break;case"onScrollEnd":c!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=ro(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),Hs(s,"popover",c);break;case"xlinkActuate":Ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hs(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yg.get(l)||l,Hs(s,l,c))}}function Wp(s,a,l,c,p,m){switch(l){case"style":Ll(s,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Bn(s,c):(typeof c=="number"||typeof c=="bigint")&&Bn(s,""+c);break;case"onScroll":c!=null&&Pt("scroll",s);break;case"onScrollEnd":c!=null&&Pt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!to.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),m=s[Se]||null,m=m!=null?m[l]:null,typeof m=="function"&&s.removeEventListener(a,m,p),typeof c=="function")){typeof m!="function"&&m!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,p);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Hs(s,l,c)}}}function Ze(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var c=!1,p=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,m,T,l,null)}}p&&ee(s,a,"srcSet",l.srcSet,l,null),c&&ee(s,a,"src",l.src,l,null);return;case"input":Pt("invalid",s);var A=m=T=p=null,L=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var tt=l[c];if(tt!=null)switch(c){case"name":p=tt;break;case"type":T=tt;break;case"checked":L=tt;break;case"defaultChecked":Y=tt;break;case"value":m=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:ee(s,a,c,tt,l,null)}}Xr(s,m,A,L,Y,T,p,!1),so(s);return;case"select":Pt("invalid",s),c=T=m=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:ee(s,a,p,A,l,null)}a=m,l=T,s.multiple=!!c,a!=null?es(s,!!c,a,!1):l!=null&&es(s,!!c,l,!0);return;case"textarea":Pt("invalid",s),m=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(A=l[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":p=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ee(s,a,T,A,l,null)}Zr(s,c,p,m),so(s);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ee(s,a,L,c,l,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(c=0;c<bu.length;c++)Pt(bu[c],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,Y,c,l,null)}return;default:if(Vl(a)){for(tt in l)l.hasOwnProperty(tt)&&(c=l[tt],c!==void 0&&Wp(s,a,tt,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&ee(s,a,A,c,l,null))}function rC(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,T=null,A=null,L=null,Y=null,tt=null;for(W in l){var nt=l[W];if(l.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=nt;default:c.hasOwnProperty(W)||ee(s,a,W,null,c,nt)}}for(var K in c){var W=c[K];if(nt=l[K],c.hasOwnProperty(K)&&(W!=null||nt!=null))switch(K){case"type":m=W;break;case"name":p=W;break;case"checked":Y=W;break;case"defaultChecked":tt=W;break;case"value":T=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==nt&&ee(s,a,K,W,c,nt)}}xn(s,T,A,L,Y,tt,m,p);return;case"select":W=T=A=K=null;for(m in l)if(L=l[m],l.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":W=L;default:c.hasOwnProperty(m)||ee(s,a,m,null,c,L)}for(p in c)if(m=c[p],L=l[p],c.hasOwnProperty(p)&&(m!=null||L!=null))switch(p){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==L&&ee(s,a,p,m,c,L)}a=A,l=T,c=W,K!=null?es(s,!!l,K,!1):!!c!=!!l&&(a!=null?es(s,!!l,a,!0):es(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ee(s,a,A,null,c,p)}for(T in c)if(p=c[T],m=l[T],c.hasOwnProperty(T)&&(p!=null||m!=null))switch(T){case"value":K=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==m&&ee(s,a,T,p,c,m)}Jt(s,K,W);return;case"option":for(var At in l)if(K=l[At],l.hasOwnProperty(At)&&K!=null&&!c.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:ee(s,a,At,null,c,K)}for(L in c)if(K=c[L],W=l[L],c.hasOwnProperty(L)&&K!==W&&(K!=null||W!=null))switch(L){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ee(s,a,L,K,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)K=l[bt],l.hasOwnProperty(bt)&&K!=null&&!c.hasOwnProperty(bt)&&ee(s,a,bt,null,c,K);for(Y in c)if(K=c[Y],W=l[Y],c.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:ee(s,a,Y,K,c,W)}return;default:if(Vl(a)){for(var ne in l)K=l[ne],l.hasOwnProperty(ne)&&K!==void 0&&!c.hasOwnProperty(ne)&&Wp(s,a,ne,void 0,c,K);for(tt in c)K=c[tt],W=l[tt],!c.hasOwnProperty(tt)||K===W||K===void 0&&W===void 0||Wp(s,a,tt,K,c,W);return}}for(var H in l)K=l[H],l.hasOwnProperty(H)&&K!=null&&!c.hasOwnProperty(H)&&ee(s,a,H,null,c,K);for(nt in c)K=c[nt],W=l[nt],!c.hasOwnProperty(nt)||K===W||K==null&&W==null||ee(s,a,nt,K,c,W)}var Qp=null,Xp=null;function Zh(s){return s.nodeType===9?s:s.ownerDocument}function Pb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Zp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jp=null;function aC(){var s=window.event;return s&&s.type==="popstate"?s===Jp?!1:(Jp=s,!0):(Jp=null,!1)}var Vb=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,Ub=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ub<"u"?function(s){return Ub.resolve(null).then(s).catch(uC)}:Vb;function uC(s){setTimeout(function(){throw s})}function or(s){return s==="head"}function jb(s,a){var l=a,c=0,p=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&Tu(T.documentElement),l&2&&Tu(T.body),l&4)for(l=T.head,Tu(l),T=l.firstChild;T;){var A=T.nextSibling,L=T.nodeName;T[Yr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=A}}if(p===0){s.removeChild(m),Du(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=m}while(l);Du(a)}function tm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":tm(l),Fs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function cC(s,a,l,c){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Yr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=ai(s.nextSibling),s===null)break}return null}function hC(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ai(s.nextSibling),s===null))return null;return s}function em(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function fC(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ai(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var nm=null;function zb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function Bb(s,a,l){switch(a=Zh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Tu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Fs(s)}var Xn=new Map,Fb=new Set;function Jh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bs=at.d;at.d={f:dC,r:gC,D:pC,C:mC,L:_C,m:yC,X:bC,S:vC,M:EC};function dC(){var s=bs.f(),a=qh();return s||a}function gC(s){var a=_i(s);a!==null&&a.tag===5&&a.type==="form"?l0(a):bs.r(s)}var zo=typeof document>"u"?null:document;function Hb(s,a,l){var c=zo;if(c&&typeof a=="string"&&a){var p=we(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Fb.has(p)||(Fb.add(p),s={rel:s,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Ze(a,"link",s),ye(a),c.head.appendChild(a)))}}function pC(s){bs.D(s),Hb("dns-prefetch",s,null)}function mC(s,a){bs.C(s,a),Hb("preconnect",s,a)}function _C(s,a,l){bs.L(s,a,l);var c=zo;if(c&&s&&a){var p='link[rel="preload"][as="'+we(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+we(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+we(l.imageSizes)+'"]')):p+='[href="'+we(s)+'"]';var m=p;switch(a){case"style":m=Bo(s);break;case"script":m=Fo(s)}Xn.has(m)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Xn.set(m,s),c.querySelector(p)!==null||a==="style"&&c.querySelector(Su(m))||a==="script"&&c.querySelector(wu(m))||(a=c.createElement("link"),Ze(a,"link",s),ye(a),c.head.appendChild(a)))}}function yC(s,a){bs.m(s,a);var l=zo;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+we(c)+'"][href="'+we(s)+'"]',m=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fo(s)}if(!Xn.has(m)&&(s=_({rel:"modulepreload",href:s},a),Xn.set(m,s),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wu(m)))return}c=l.createElement("link"),Ze(c,"link",s),ye(c),l.head.appendChild(c)}}}function vC(s,a,l){bs.S(s,a,l);var c=zo;if(c&&s){var p=fn(c).hoistableStyles,m=Bo(s);a=a||"default";var T=p.get(m);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(Su(m)))A.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Xn.get(m))&&im(s,l);var L=T=c.createElement("link");ye(L),Ze(L,"link",s),L._p=new Promise(function(Y,tt){L.onload=Y,L.onerror=tt}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,tf(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(m,T)}}}function bC(s,a){bs.X(s,a);var l=zo;if(l&&s){var c=fn(l).hoistableScripts,p=Fo(s),m=c.get(p);m||(m=l.querySelector(wu(p)),m||(s=_({src:s,async:!0},a),(a=Xn.get(p))&&sm(s,a),m=l.createElement("script"),ye(m),Ze(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function EC(s,a){bs.M(s,a);var l=zo;if(l&&s){var c=fn(l).hoistableScripts,p=Fo(s),m=c.get(p);m||(m=l.querySelector(wu(p)),m||(s=_({src:s,async:!0,type:"module"},a),(a=Xn.get(p))&&sm(s,a),m=l.createElement("script"),ye(m),Ze(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function qb(s,a,l,c){var p=(p=_t.current)?Jh(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Bo(l.href),l=fn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Bo(l.href);var m=fn(p).hoistableStyles,T=m.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,T),(m=p.querySelector(Su(s)))&&!m._p&&(T.instance=m,T.state.loading=5),Xn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(s,l),m||TC(p,s,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fo(l),l=fn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Bo(s){return'href="'+we(s)+'"'}function Su(s){return'link[rel="stylesheet"]['+s+"]"}function Gb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function TC(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Ze(a,"link",l),ye(a),s.head.appendChild(a))}function Fo(s){return'[src="'+we(s)+'"]'}function wu(s){return"script[async]"+s}function $b(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+we(l.href)+'"]');if(c)return a.instance=c,ye(c),c;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ye(c),Ze(c,"style",p),tf(c,l.precedence,s),a.instance=c;case"stylesheet":p=Bo(l.href);var m=s.querySelector(Su(p));if(m)return a.state.loading|=4,a.instance=m,ye(m),m;c=Gb(l),(p=Xn.get(p))&&im(c,p),m=(s.ownerDocument||s).createElement("link"),ye(m);var T=m;return T._p=new Promise(function(A,L){T.onload=A,T.onerror=L}),Ze(m,"link",c),a.state.loading|=4,tf(m,l.precedence,s),a.instance=m;case"script":return m=Fo(l.src),(p=s.querySelector(wu(m)))?(a.instance=p,ye(p),p):(c=l,(p=Xn.get(m))&&(c=_({},l),sm(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),ye(p),Ze(p,"link",c),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,tf(c,l.precedence,s));return a.instance}function tf(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,m=p,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===a)m=A;else if(m!==p)break}m?m.parentNode.insertBefore(s,m.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function im(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function sm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ef=null;function Yb(s,a,l){if(ef===null){var c=new Map,p=ef=new Map;p.set(l,c)}else p=ef,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var m=l[p];if(!(m[Yr]||m[Oe]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(a)||"";T=s+T;var A=c.get(T);A?A.push(m):c.set(T,[m])}}return c}function Kb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function SC(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Au=null;function wC(){}function AC(s,a,l){if(Au===null)throw Error(i(475));var c=Au;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Bo(l.href),m=s.querySelector(Su(p));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=nf.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=m,ye(m);return}m=s.ownerDocument||s,l=Gb(l),(p=Xn.get(p))&&im(l,p),m=m.createElement("link"),ye(m);var T=m;T._p=new Promise(function(A,L){T.onload=A,T.onerror=L}),Ze(m,"link",l),a.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=nf.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function RC(){if(Au===null)throw Error(i(475));var s=Au;return s.stylesheets&&s.count===0&&rm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&rm(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var sf=null;function rm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,sf=new Map,a.forEach(xC,s),sf=null,nf.call(s))}function xC(s,a){if(!(a.state.loading&4)){var l=sf.get(s);if(l)var c=l.get(null);else{l=new Map,sf.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var T=p[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),m=l.get(T)||c,m===c&&l.set(null,p),l.set(T,p),this.count++,c=nf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),m?m.parentNode.insertBefore(p,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Ru={$$typeof:F,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function CC(s,a,l,c,p,m,T,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Qb(s,a,l,c,p,m,T,A,L,Y,tt,nt){return s=new CC(s,a,l,T,A,L,Y,nt),a=1,m===!0&&(a|=24),m=In(3,null,null,a),s.current=m,m.stateNode=s,a=zg(),a.refCount++,s.pooledCache=a,a.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:a},qg(m),s}function Xb(s){return s?(s=vo,s):vo}function Zb(s,a,l,c,p,m){p=Xb(p),c.context===null?c.context=p:c.pendingContext=p,c=Ks(a),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=Ws(s,c,a),l!==null&&(kn(l,s,a),nu(l,s,a))}function Jb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function am(s,a){Jb(s,a),(s=s.alternate)&&Jb(s,a)}function tE(s){if(s.tag===13){var a=yo(s,67108864);a!==null&&kn(a,s,67108864),am(s,67108864)}}var rf=!0;function IC(s,a,l,c){var p=Q.T;Q.T=null;var m=at.p;try{at.p=2,om(s,a,l,c)}finally{at.p=m,Q.T=p}}function DC(s,a,l,c){var p=Q.T;Q.T=null;var m=at.p;try{at.p=8,om(s,a,l,c)}finally{at.p=m,Q.T=p}}function om(s,a,l,c){if(rf){var p=lm(c);if(p===null)Kp(s,a,c,af,l),nE(s,c);else if(NC(p,s,a,l,c))c.stopPropagation();else if(nE(s,c),a&4&&-1<OC.indexOf(s)){for(;p!==null;){var m=_i(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ei(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var L=1<<31-sn(T);A.entanglements[1]|=L,T&=~L}Oi(m),(Wt&6)===0&&(Fh=jn()+500,vu(0))}}break;case 13:A=yo(m,2),A!==null&&kn(A,m,2),qh(),am(m,2)}if(m=lm(c),m===null&&Kp(s,a,c,af,l),m===p)break;p=m}p!==null&&c.stopPropagation()}else Kp(s,a,c,null,l)}}function lm(s){return s=Fn(s),um(s)}var af=null;function um(s){if(af=null,s=Zi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return af=s,null}function eE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fg()){case wl:return 2;case Qa:return 8;case Fr:case dg:return 32;case Xa:return 268435456;default:return 32}default:return 32}}var cm=!1,lr=null,ur=null,cr=null,xu=new Map,Cu=new Map,hr=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nE(s,a){switch(s){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":xu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(a.pointerId)}}function Iu(s,a,l,c,p,m){return s===null||s.nativeEvent!==m?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[p]},a!==null&&(a=_i(a),a!==null&&tE(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function NC(s,a,l,c,p){switch(a){case"focusin":return lr=Iu(lr,s,a,l,c,p),!0;case"dragenter":return ur=Iu(ur,s,a,l,c,p),!0;case"mouseover":return cr=Iu(cr,s,a,l,c,p),!0;case"pointerover":var m=p.pointerId;return xu.set(m,Iu(xu.get(m)||null,s,a,l,c,p)),!0;case"gotpointercapture":return m=p.pointerId,Cu.set(m,Iu(Cu.get(m)||null,s,a,l,c,p)),!0}return!1}function iE(s){var a=Zi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,qc(s.priority,function(){if(l.tag===13){var c=Mn();c=js(c);var p=yo(l,c);p!==null&&kn(p,l,c),am(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function of(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=lm(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ns=c,l.target.dispatchEvent(c),ns=null}else return a=_i(l),a!==null&&tE(a),s.blockedOn=l,!1;a.shift()}return!0}function sE(s,a,l){of(s)&&l.delete(a)}function MC(){cm=!1,lr!==null&&of(lr)&&(lr=null),ur!==null&&of(ur)&&(ur=null),cr!==null&&of(cr)&&(cr=null),xu.forEach(sE),Cu.forEach(sE)}function lf(s,a){s.blockedOn===a&&(s.blockedOn=null,cm||(cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,MC)))}var uf=null;function rE(s){uf!==s&&(uf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uf===s&&(uf=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],p=s[a+2];if(typeof c!="function"){if(um(c||l)===null)continue;break}var m=_i(l);m!==null&&(s.splice(a,3),a-=3,up(m,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Du(s){function a(L){return lf(L,s)}lr!==null&&lf(lr,s),ur!==null&&lf(ur,s),cr!==null&&lf(cr,s),xu.forEach(a),Cu.forEach(a);for(var l=0;l<hr.length;l++){var c=hr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)iE(l),l.blockedOn===null&&hr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],m=l[c+1],T=p[Se]||null;if(typeof m=="function")T||rE(l);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(p=m,T=m[Se]||null)A=T.formAction;else if(um(p)!==null)continue}else A=T.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),rE(l)}}}function hm(s){this._internalRoot=s}cf.prototype.render=hm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Mn();Zb(l,c,s,a,null,null)},cf.prototype.unmount=hm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Zb(s.current,2,null,s,null,null),qh(),a[zn]=null}};function cf(s){this._internalRoot=s}cf.prototype.unstable_scheduleHydration=function(s){if(s){var a=zs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<hr.length&&a!==0&&a<hr[l].priority;l++);hr.splice(l,0,s),l===0&&iE(s)}};var aE=t.version;if(aE!=="19.1.0")throw Error(i(527,aE,"19.1.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var kC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{pe=hf.inject(kC),Kt=hf}catch{}}return Nu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",p=T0,m=S0,T=w0,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=Qb(s,1,!1,null,null,l,c,p,m,T,A,null),s[zn]=a.current,Yp(s),new hm(a)},Nu.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,p="",m=T0,T=S0,A=w0,L=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=Qb(s,1,!0,a,l??null,c,p,m,T,A,L,Y),a.context=Xb(null),l=a.current,c=Mn(),c=js(c),p=Ks(c),p.callback=null,Ws(l,p,c),l=c,a.current.lanes=l,Xi(a,l),Oi(a),s[zn]=a.current,Yp(s),new cf(a)},Nu.version="19.1.0",Nu}var mE;function $C(){if(mE)return gm.exports;mE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gm.exports=GC(),gm.exports}var YC=$C();const KC=dw(YC);var Mu={},_E;function WC(){if(_E)return Mu;_E=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.parse=u,Mu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const w=new o,D=b.length;if(D<2)return w;const C=(S==null?void 0:S.decode)||_;let N=0;do{const B=b.indexOf("=",N);if(B===-1)break;const F=b.indexOf(";",N),Z=F===-1?D:F;if(B>Z){N=b.lastIndexOf(";",B-1)+1;continue}const J=h(b,N,B),ot=f(b,B,J),k=b.slice(J,ot);if(w[k]===void 0){let I=h(b,B+1,Z),O=f(b,Z,I);const P=C(b.slice(I,O));w[k]=P}N=Z+1}while(N<D);return w}function h(b,S,w){do{const D=b.charCodeAt(S);if(D!==32&&D!==9)return S}while(++S<w);return w}function f(b,S,w){for(;S>w;){const D=b.charCodeAt(--S);if(D!==32&&D!==9)return S+1}return w}function g(b,S,w){const D=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=D(S);if(!t.test(C))throw new TypeError(`argument val is invalid: ${S}`);let N=b+"="+C;if(!w)return N;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);N+="; Max-Age="+w.maxAge}if(w.domain){if(!e.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);N+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);N+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);N+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(N+="; HttpOnly"),w.secure&&(N+="; Secure"),w.partitioned&&(N+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return N}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return Mu}WC();var yE="popstate";function QC(n={}){function t(i,r){let{pathname:o,search:u,hash:h}=i.location;return Hm("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:cc(r)}return ZC(t,e,null,n)}function he(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ci(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XC(){return Math.random().toString(36).substring(2,10)}function vE(n,t){return{usr:n.state,key:n.key,idx:t}}function Hm(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?hl(t):t,state:e,key:t&&t.key||i||XC()}}function cc({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function hl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function ZC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let C=_(),N=C==null?null:C-g;g=C,f&&f({action:h,location:D.location,delta:N})}function b(C,N){h="PUSH";let B=Hm(D.location,C,N);g=_()+1;let F=vE(B,g),Z=D.createHref(B);try{u.pushState(F,"",Z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign(Z)}o&&f&&f({action:h,location:D.location,delta:1})}function S(C,N){h="REPLACE";let B=Hm(D.location,C,N);g=_();let F=vE(B,g),Z=D.createHref(B);u.replaceState(F,"",Z),o&&f&&f({action:h,location:D.location,delta:0})}function w(C){let N=r.location.origin!=="null"?r.location.origin:r.location.href,B=typeof C=="string"?C:cc(C);return B=B.replace(/ $/,"%20"),he(N,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,N)}let D={get action(){return h},get location(){return n(r,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(yE,v),f=C,()=>{r.removeEventListener(yE,v),f=null}},createHref(C){return t(r,C)},createURL:w,encodeLocation(C){let N=w(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:S,go(C){return u.go(C)}};return D}function gw(n,t,e="/"){return JC(n,t,e,!1)}function JC(n,t,e,i){let r=typeof t=="string"?hl(t):t,o=Os(r.pathname||"/",e);if(o==null)return null;let u=pw(n);tI(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=hI(o);h=uI(u[f],g,i)}return h}function pw(n,t=[],e=[],i=""){let r=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(he(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=xs([i,f.relativePath]),_=e.concat(f);o.children&&o.children.length>0&&(he(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),pw(o.children,t,_,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:oI(g,o.index),routesMeta:_})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,u);else for(let f of mw(o.path))r(o,u,f)}),t}function mw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=mw(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function tI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:lI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var eI=/^:[\w-]+$/,nI=3,iI=2,sI=1,rI=10,aI=-2,bE=n=>n==="*";function oI(n,t){let e=n.split("/"),i=e.length;return e.some(bE)&&(i+=aI),t&&(i+=iI),e.filter(r=>!bE(r)).reduce((r,o)=>r+(eI.test(o)?nI:o===""?sI:rI),i)}function lI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function uI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,_=o==="/"?t:t.slice(o.length)||"/",v=Zf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),b=f.route;if(!v&&g&&e&&!i[i.length-1].route.index&&(v=Zf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:xs([o,v.pathname]),pathnameBase:pI(xs([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=xs([o,v.pathnameBase]))}return u}function Zf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=cI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:v},b)=>{if(_==="*"){let w=h[b]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=h[b];return v&&!S?g[_]=void 0:g[_]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function cI(n,t=!1,e=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function hI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Os(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function fI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?hl(n):n;return{pathname:e?e.startsWith("/")?e:dI(e,t):t,search:mI(i),hash:_I(r)}}function dI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function ym(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function R_(n){let t=gI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function x_(n,t,e,i=!1){let r;typeof n=="string"?r=hl(n):(r={...n},he(!r.pathname||!r.pathname.includes("?"),ym("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),ym("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),ym("#","search","hash",r)));let o=n===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?t[v]:"/"}let f=fI(r,h),g=u&&u!=="/"&&u.endsWith("/"),_=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var xs=n=>n.join("/").replace(/\/\/+/g,"/"),pI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_I=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _w=["POST","PUT","PATCH","DELETE"];new Set(_w);var vI=["GET",..._w];new Set(vI);var fl=q.createContext(null);fl.displayName="DataRouter";var Ld=q.createContext(null);Ld.displayName="DataRouterState";var yw=q.createContext({isTransitioning:!1});yw.displayName="ViewTransition";var bI=q.createContext(new Map);bI.displayName="Fetchers";var EI=q.createContext(null);EI.displayName="Await";var gi=q.createContext(null);gi.displayName="Navigation";var Ac=q.createContext(null);Ac.displayName="Location";var $i=q.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var C_=q.createContext(null);C_.displayName="RouteError";function TI(n,{relative:t}={}){he(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=q.useContext(gi),{hash:r,pathname:o,search:u}=xc(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:xs([e,o])),i.createHref({pathname:h,search:u,hash:r})}function dl(){return q.useContext(Ac)!=null}function Lr(){return he(dl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ac).location}var vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bw(n){q.useContext(gi).static||q.useLayoutEffect(n)}function Rc(){let{isDataRoute:n}=q.useContext($i);return n?PI():SI()}function SI(){he(dl(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(fl),{basename:t,navigator:e}=q.useContext(gi),{matches:i}=q.useContext($i),{pathname:r}=Lr(),o=JSON.stringify(R_(i)),u=q.useRef(!1);return bw(()=>{u.current=!0}),q.useCallback((f,g={})=>{if(ci(u.current,vw),!u.current)return;if(typeof f=="number"){e.go(f);return}let _=x_(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:xs([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,o,r,n])}q.createContext(null);function xc(n,{relative:t}={}){let{matches:e}=q.useContext($i),{pathname:i}=Lr(),r=JSON.stringify(R_(e));return q.useMemo(()=>x_(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function wI(n,t){return Ew(n,t)}function Ew(n,t,e,i){var B;he(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=q.useContext(gi),{matches:u}=q.useContext($i),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";Tw(g,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Lr(),S;if(t){let F=typeof t=="string"?hl(t):t;he(_==="/"||((B=F.pathname)==null?void 0:B.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=b;let w=S.pathname||"/",D=w;if(_!=="/"){let F=_.replace(/^\//,"").split("/");D="/"+w.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=!o&&e&&e.matches&&e.matches.length>0?e.matches:gw(n,{pathname:D});ci(v||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=II(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:xs([_,r.encodeLocation?r.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:xs([_,r.encodeLocation?r.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,e,i);return t&&N?q.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function AI(){let n=kI(),t=yI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:r},e):null,u)}var RI=q.createElement(AI,null),xI=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?q.createElement($i.Provider,{value:this.props.routeContext},q.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CI({routeContext:n,match:t,children:e}){let i=q.useContext(fl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement($i.Provider,{value:n},e)}function II(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);he(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:v}=e,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,_)=>{let v,b=!1,S=null,w=null;e&&(v=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||RI,u&&(h<0&&_===0?(Tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):h===_&&(b=!0,w=g.route.hydrateFallbackElement||null)));let D=t.concat(r.slice(0,_+1)),C=()=>{let N;return v?N=S:b?N=w:g.route.Component?N=q.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=f,q.createElement(CI,{match:g,routeContext:{outlet:f,matches:D,isDataRoute:e!=null},children:N})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?q.createElement(xI,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function I_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(n){let t=q.useContext(fl);return he(t,I_(n)),t}function OI(n){let t=q.useContext(Ld);return he(t,I_(n)),t}function NI(n){let t=q.useContext($i);return he(t,I_(n)),t}function D_(n){let t=NI(n),e=t.matches[t.matches.length-1];return he(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function MI(){return D_("useRouteId")}function kI(){var i;let n=q.useContext(C_),t=OI("useRouteError"),e=D_("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function PI(){let{router:n}=DI("useNavigate"),t=D_("useNavigate"),e=q.useRef(!1);return bw(()=>{e.current=!0}),q.useCallback(async(r,o={})=>{ci(e.current,vw),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var EE={};function Tw(n,t,e){!t&&!EE[n]&&(EE[n]=!0,ci(!1,e))}q.memo(LI);function LI({routes:n,future:t,state:e}){return Ew(n,void 0,e,t)}function VI({to:n,replace:t,state:e,relative:i}){he(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=q.useContext(gi);ci(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext($i),{pathname:u}=Lr(),h=Rc(),f=x_(n,R_(o),u,i==="path"),g=JSON.stringify(f);return q.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function Mi(n){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){he(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=hl(e));let{pathname:f="/",search:g="",hash:_="",state:v=null,key:b="default"}=e,S=q.useMemo(()=>{let w=Os(f,u);return w==null?null:{location:{pathname:w,search:g,hash:_,state:v,key:b},navigationType:i}},[u,f,g,_,v,b,i]);return ci(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:q.createElement(gi.Provider,{value:h},q.createElement(Ac.Provider,{children:t,value:S}))}function jI({children:n,location:t}){return wI(qm(n),t)}function qm(n,t=[]){let e=[];return q.Children.forEach(n,(i,r)=>{if(!q.isValidElement(i))return;let o=[...t,r];if(i.type===q.Fragment){e.push.apply(e,qm(i.props.children,o));return}he(i.type===Mi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=qm(i.props.children,o)),e.push(u)}),e}var Vf="get",Uf="application/x-www-form-urlencoded";function Vd(n){return n!=null&&typeof n.tagName=="string"}function zI(n){return Vd(n)&&n.tagName.toLowerCase()==="button"}function BI(n){return Vd(n)&&n.tagName.toLowerCase()==="form"}function FI(n){return Vd(n)&&n.tagName.toLowerCase()==="input"}function HI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qI(n,t){return n.button===0&&(!t||t==="_self")&&!HI(n)}var ff=null;function GI(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var $I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(n){return n!=null&&!$I.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):n}function YI(n,t){let e,i,r,o,u;if(BI(n)){let h=n.getAttribute("action");i=h?Os(h,t):null,e=n.getAttribute("method")||Vf,r=vm(n.getAttribute("enctype"))||Uf,o=new FormData(n)}else if(zI(n)||FI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Os(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Vf,r=vm(n.getAttribute("formenctype"))||vm(h.getAttribute("enctype"))||Uf,o=new FormData(h,n),!GI()){let{name:g,type:_,value:v}=n;if(_==="image"){let b=g?`${g}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else g&&o.append(g,v)}}else{if(Vd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Vf,i=null,r=Uf,u=n}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:u}}function O_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function KI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await KI(o,e);return u.links?u.links():[]}return[]}));return t2(i.flat(1).filter(WI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function TE(n,t,e,i,r,o){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>{var _;return e[g].pathname!==f.pathname||((_=e[g].route.path)==null?void 0:_.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{var v;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XI(n,t,{includeHydrateFallback:e}={}){return ZI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function ZI(n){return[...new Set(n)]}function JI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function t2(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(JI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}var e2=new Set([100,101,204,205]);function n2(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Os(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Sw(){let n=q.useContext(fl);return O_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function i2(){let n=q.useContext(Ld);return O_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var N_=q.createContext(void 0);N_.displayName="FrameworkContext";function ww(){let n=q.useContext(N_);return O_(n,"You must render this element inside a <HydratedRouter> element"),n}function s2(n,t){let e=q.useContext(N_),[i,r]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=t,b=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=N=>{N.forEach(B=>{u(B.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),q.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let S=()=>{r(!0)},w=()=>{r(!1),u(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:ku(h,S),onBlur:ku(f,w),onMouseEnter:ku(g,S),onMouseLeave:ku(_,w),onTouchStart:ku(v,S)}]:[!1,b,{}]}function ku(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function r2({page:n,...t}){let{router:e}=Sw(),i=q.useMemo(()=>gw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?q.createElement(o2,{page:n,matches:i,...t}):null}function a2(n){let{manifest:t,routeModules:e}=ww(),[i,r]=q.useState([]);return q.useEffect(()=>{let o=!1;return QI(n,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[n,t,e]),i}function o2({page:n,matches:t,...e}){let i=Lr(),{manifest:r,routeModules:o}=ww(),{basename:u}=Sw(),{loaderData:h,matches:f}=i2(),g=q.useMemo(()=>TE(n,t,f,r,i,"data"),[n,t,f,r,i]),_=q.useMemo(()=>TE(n,t,f,r,i,"assets"),[n,t,f,r,i]),v=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,D=!1;if(t.forEach(N=>{var F;let B=r.routes[N.route.id];!B||!B.hasLoader||(!g.some(Z=>Z.route.id===N.route.id)&&N.route.id in h&&((F=o[N.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?D=!0:w.add(N.route.id))}),w.size===0)return[];let C=n2(n,u);return D&&w.size>0&&C.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[u,h,i,r,g,t,n,o]),b=q.useMemo(()=>XI(_,r),[_,r]),S=a2(_);return q.createElement(q.Fragment,null,v.map(w=>q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),b.map(w=>q.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),S.map(({key:w,link:D})=>q.createElement("link",{key:w,...D})))}function l2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aw&&(window.__reactRouterVersion="7.5.3")}catch{}function u2({basename:n,children:t,window:e}){let i=q.useRef();i.current==null&&(i.current=QC({window:e,v5Compat:!0}));let r=i.current,[o,u]=q.useState({action:r.action,location:r.location}),h=q.useCallback(f=>{q.startTransition(()=>u(f))},[u]);return q.useLayoutEffect(()=>r.listen(h),[r,h]),q.createElement(UI,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var Rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=q.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:_,viewTransition:v,...b},S){let{basename:w}=q.useContext(gi),D=typeof g=="string"&&Rw.test(g),C,N=!1;if(typeof g=="string"&&D&&(C=g,Aw))try{let O=new URL(window.location.href),P=g.startsWith("//")?new URL(O.protocol+g):new URL(g),V=Os(P.pathname,w);P.origin===O.origin&&V!=null?g=V+P.search+P.hash:N=!0}catch{ci(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=TI(g,{relative:r}),[F,Z,J]=s2(i,b),ot=d2(g,{replace:u,state:h,target:f,preventScrollReset:_,relative:r,viewTransition:v});function k(O){t&&t(O),O.defaultPrevented||ot(O)}let I=q.createElement("a",{...b,...J,href:C||B,onClick:N||o?t:k,ref:l2(S,Z),target:f,"data-discover":!D&&e==="render"?"true":void 0});return F&&!D?q.createElement(q.Fragment,null,I,q.createElement(r2,{page:B})):I});Le.displayName="Link";var c2=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...g},_){let v=xc(u,{relative:g.relative}),b=Lr(),S=q.useContext(Ld),{navigator:w,basename:D}=q.useContext(gi),C=S!=null&&y2(v)&&h===!0,N=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,B=b.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(B=B.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&D&&(F=Os(F,D)||F);const Z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let J=B===N||!r&&B.startsWith(N)&&B.charAt(Z)==="/",ot=F!=null&&(F===N||!r&&F.startsWith(N)&&F.charAt(N.length)==="/"),k={isActive:J,isPending:ot,isTransitioning:C},I=J?t:void 0,O;typeof i=="function"?O=i(k):O=[i,J?"active":null,ot?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(k):o;return q.createElement(Le,{...g,"aria-current":I,className:O,ref:_,style:P,to:u,viewTransition:h},typeof f=="function"?f(k):f)});c2.displayName="NavLink";var h2=q.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:u=Vf,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:v,...b},S)=>{let w=m2(),D=_2(h,{relative:g}),C=u.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&Rw.test(h),B=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let Z=F.nativeEvent.submitter,J=(Z==null?void 0:Z.getAttribute("formmethod"))||u;w(Z||F.currentTarget,{fetcherKey:t,method:J,navigate:e,replace:r,state:o,relative:g,preventScrollReset:_,viewTransition:v})};return q.createElement("form",{ref:S,method:C,action:D,onSubmit:i?f:B,...b,"data-discover":!N&&n==="render"?"true":void 0})});h2.displayName="Form";function f2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(n){let t=q.useContext(fl);return he(t,f2(n)),t}function d2(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=Rc(),f=Lr(),g=xc(n,{relative:o});return q.useCallback(_=>{if(qI(_,t)){_.preventDefault();let v=e!==void 0?e:cc(f)===cc(g);h(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,g,e,i,t,n,r,o,u])}var g2=0,p2=()=>`__${String(++g2)}__`;function m2(){let{router:n}=xw("useSubmit"),{basename:t}=q.useContext(gi),e=MI();return q.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:g}=YI(i,t);if(r.navigate===!1){let _=r.fetcherKey||p2();await n.fetch(_,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function _2(n,{relative:t}={}){let{basename:e}=q.useContext(gi),i=q.useContext($i);he(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...xc(n||".",{relative:t})},u=Lr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:xs([e,o.pathname])),cc(o)}function y2(n,t={}){let e=q.useContext(yw);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xw("useViewTransitionState"),r=xc(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Os(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=Os(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Zf(r.pathname,u)!=null||Zf(r.pathname,o)!=null}new TextEncoder;[...e2];const v2=()=>{};var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},b2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],u=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;f||(S=64,u||(b=64)),i.push(e[_],e[v],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Cw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):b2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new E2;const b=o<<2|h>>4;if(i.push(b),g!==64){const S=h<<4&240|g>>2;if(i.push(S),v!==64){const w=g<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class E2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T2=function(n){const t=Cw(n);return Iw.encodeByteArray(t,!0)},Jf=function(n){return T2(n).replace(/\./g,"")},Dw=function(n){try{return Iw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=()=>S2().__FIREBASE_DEFAULTS__,A2=()=>{if(typeof process>"u"||typeof SE>"u")return;const n=SE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},R2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Dw(n[1]);return t&&JSON.parse(t)},Ud=()=>{try{return v2()||w2()||A2()||R2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ow=n=>{var t,e;return(e=(t=Ud())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},Nw=n=>{const t=Ow(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Mw=()=>{var n;return(n=Ud())===null||n===void 0?void 0:n.config},kw=n=>{var t;return(t=Ud())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jf(JSON.stringify(e)),Jf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function I2(){var n;const t=(n=Ud())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function N2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M2(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function k2(){return!I2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="FirebaseError";class Yi extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=V2,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?U2(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new Yi(r,h,i)}}function U2(n,t){return n.replace(j2,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const j2=/\{\$([^}]+)}/g;function z2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ka(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],u=t[r];if(wE(o)&&wE(u)){if(!ka(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function wE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Bu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Fu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function B2(n,t){const e=new F2(n,t);return e.subscribe.bind(e)}class F2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");H2(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=bm),r.error===void 0&&(r.error=bm),r.complete===void 0&&(r.complete=bm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n){return n&&n._delegate?n._delegate:n}class Cr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new x2;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($2(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:G2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G2(n){return n===Ra?void 0:n}function $2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new q2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const K2={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},W2=Lt.INFO,Q2={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},X2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=Q2[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class M_{constructor(t){this.name=t,this._logLevel=W2,this._logHandler=X2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?K2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Z2=(n,t)=>t.some(e=>n instanceof e);let AE,RE;function J2(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tD(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lw=new WeakMap,Gm=new WeakMap,Vw=new WeakMap,Em=new WeakMap,k_=new WeakMap;function eD(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Sr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Lw.set(e,n)}).catch(()=>{}),k_.set(t,n),t}function nD(n){if(Gm.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Gm.set(n,t)}let $m={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Gm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Vw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Sr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function iD(n){$m=n($m)}function sD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Tm(this),t,...e);return Vw.set(i,t.sort?t.sort():[t]),Sr(i)}:tD().includes(n)?function(...t){return n.apply(Tm(this),t),Sr(Lw.get(this))}:function(...t){return Sr(n.apply(Tm(this),t))}}function rD(n){return typeof n=="function"?sD(n):(n instanceof IDBTransaction&&nD(n),Z2(n,J2())?new Proxy(n,$m):n)}function Sr(n){if(n instanceof IDBRequest)return eD(n);if(Em.has(n))return Em.get(n);const t=rD(n);return t!==n&&(Em.set(n,t),k_.set(t,n)),t}const Tm=n=>k_.get(n);function aD(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,t),h=Sr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Sr(u.result),f.oldVersion,f.newVersion,Sr(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const oD=["get","getKey","getAll","getAllKeys","count"],lD=["put","add","delete","clear"],Sm=new Map;function xE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Sm.get(t))return Sm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=lD.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||oD.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return Sm.set(t,o),o}iD(n=>({...n,get:(t,e,i)=>xE(t,e)||n.get(t,e,i),has:(t,e)=>!!xE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cD(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function cD(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ym="@firebase/app",CE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new M_("@firebase/app"),hD="@firebase/app-compat",fD="@firebase/analytics-compat",dD="@firebase/analytics",gD="@firebase/app-check-compat",pD="@firebase/app-check",mD="@firebase/auth",_D="@firebase/auth-compat",yD="@firebase/database",vD="@firebase/data-connect",bD="@firebase/database-compat",ED="@firebase/functions",TD="@firebase/functions-compat",SD="@firebase/installations",wD="@firebase/installations-compat",AD="@firebase/messaging",RD="@firebase/messaging-compat",xD="@firebase/performance",CD="@firebase/performance-compat",ID="@firebase/remote-config",DD="@firebase/remote-config-compat",OD="@firebase/storage",ND="@firebase/storage-compat",MD="@firebase/firestore",kD="@firebase/vertexai",PD="@firebase/firestore-compat",LD="firebase",VD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",UD={[Ym]:"fire-core",[hD]:"fire-core-compat",[dD]:"fire-analytics",[fD]:"fire-analytics-compat",[pD]:"fire-app-check",[gD]:"fire-app-check-compat",[mD]:"fire-auth",[_D]:"fire-auth-compat",[yD]:"fire-rtdb",[vD]:"fire-data-connect",[bD]:"fire-rtdb-compat",[ED]:"fire-fn",[TD]:"fire-fn-compat",[SD]:"fire-iid",[wD]:"fire-iid-compat",[AD]:"fire-fcm",[RD]:"fire-fcm-compat",[xD]:"fire-perf",[CD]:"fire-perf-compat",[ID]:"fire-rc",[DD]:"fire-rc-compat",[OD]:"fire-gcs",[ND]:"fire-gcs-compat",[MD]:"fire-fst",[PD]:"fire-fst-compat",[kD]:"fire-vertex","fire-js":"fire-js",[LD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,jD=new Map,Wm=new Map;function IE(n,t){try{n.container.addComponent(t)}catch(e){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Pa(n){const t=n.name;if(Wm.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;Wm.set(t,n);for(const e of td.values())IE(e,n);for(const e of jD.values())IE(e,n);return!0}function jd(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ln(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Cc("app","Firebase",zD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=VD;function Uw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Km,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(e||(e=Mw()),!e)throw wr.create("no-options");const o=td.get(r);if(o){if(ka(e,o.options)&&ka(i,o.config))return o;throw wr.create("duplicate-app",{appName:r})}const u=new Y2(r);for(const f of Wm.values())u.addComponent(f);const h=new BD(e,i,u);return td.set(r,h),h}function P_(n=Km){const t=td.get(n);if(!t&&n===Km&&Mw())return Uw();if(!t)throw wr.create("no-app",{appName:n});return t}function ji(n,t,e){var i;let r=(i=UD[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(h.join(" "));return}Pa(new Cr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="firebase-heartbeat-database",HD=1,hc="firebase-heartbeat-store";let wm=null;function jw(){return wm||(wm=aD(FD,HD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(hc)}catch(e){console.warn(e)}}}}).catch(n=>{throw wr.create("idb-open",{originalErrorMessage:n.message})})),wm}async function qD(n){try{const e=(await jw()).transaction(hc),i=await e.objectStore(hc).get(zw(n));return await e.done,i}catch(t){if(t instanceof Yi)Ns.warn(t.message);else{const e=wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ns.warn(e.message)}}}async function DE(n,t){try{const i=(await jw()).transaction(hc,"readwrite");await i.objectStore(hc).put(t,zw(n)),await i.done}catch(e){if(e instanceof Yi)Ns.warn(e.message);else{const i=wr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(i.message)}}}function zw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1024,$D=30;class YD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new WD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>$D){const u=QD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ns.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OE(),{heartbeatsToSend:i,unsentEntries:r}=KD(this._heartbeatsCache.heartbeats),o=Jf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ns.warn(e),""}}}function OE(){return new Date().toISOString().substring(0,10)}function KD(n,t=GD){const e=[];let i=n.slice();for(const r of n){const o=e.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),NE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),NE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class WD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await qD(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function NE(n){return Jf(JSON.stringify({version:2,heartbeats:n})).length}function QD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){Pa(new Cr("platform-logger",t=>new uD(t),"PRIVATE")),Pa(new Cr("heartbeat",t=>new YD(t),"PRIVATE")),ji(Ym,CE,n),ji(Ym,CE,"esm2017"),ji("fire-js","")}XD("");var ZD="firebase",JD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(ZD,JD,"app");function L_(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tO=Bw,Fw=new Cc("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new M_("@firebase/auth");function eO(n,...t){ed.logLevel<=Lt.WARN&&ed.warn(`Auth (${qa}): ${n}`,...t)}function jf(n,...t){ed.logLevel<=Lt.ERROR&&ed.error(`Auth (${qa}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...t){throw V_(n,...t)}function zi(n,...t){return V_(n,...t)}function Hw(n,t,e){const i=Object.assign(Object.assign({},tO()),{[t]:e});return new Cc("auth","Firebase",i).create(t,{appName:n.name})}function Cs(n){return Hw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Fw.create(n,...t)}function Tt(n,t,...e){if(!n)throw V_(t,...e)}function As(n){const t="INTERNAL ASSERTION FAILED: "+n;throw jf(t),new Error(t)}function Ms(n,t){n||As(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nO(){return ME()==="http:"||ME()==="https:"}function ME(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||O2()||"connection"in navigator)?navigator.onLine:!0}function sO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ms(e>t,"Short delay should be less than long delay!"),this.isMobile=C2()||N2()}get(){return iO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,t){Ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oO=new Dc(3e4,6e4);function Vr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Ur(n,t,e,i,r={}){return Gw(n,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=Ic(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return D2()||(g.referrerPolicy="no-referrer"),qw.fetch()(await $w(n,n.config.apiHost,e,h),g)})}async function Gw(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},rO),t);try{const r=new uO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw df(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw df(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw df(n,"user-disabled",u);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hw(n,_,g);hi(n,_)}}catch(r){if(r instanceof Yi)throw r;hi(n,"network-request-failed",{message:String(r)})}}async function Oc(n,t,e,i,r={}){const o=await Ur(n,t,e,i,r);return"mfaPendingCredential"in o&&hi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $w(n,t,e,i){const r=`${t}${e}?${i}`,o=n,u=o.config.emulator?U_(n.config,r):`${n.config.apiScheme}://${r}`;return aO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function lO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(zi(this.auth,"network-request-failed")),oO.get())})}}function df(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=zi(n,t,i);return r.customData._tokenResponse=e,r}function kE(n){return n!==void 0&&n.enterprise!==void 0}class cO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return lO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hO(n,t){return Ur(n,"GET","/v2/recaptchaConfig",Vr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(n,t){return Ur(n,"POST","/v1/accounts:delete",t)}async function nd(n,t){return Ur(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dO(n,t=!1){const e=De(n),i=await e.getIdToken(t),r=j_(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Ju(Am(r.auth_time)),issuedAtTime:Ju(Am(r.iat)),expirationTime:Ju(Am(r.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Am(n){return Number(n)*1e3}function j_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Dw(e);return r?JSON.parse(r):(jf("Failed to decode base64 JWT payload"),null)}catch(r){return jf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function PE(n){const t=j_(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Yi&&gO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function gO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(n){var t;const e=n.auth,i=await n.getIdToken(),r=await fc(n,nd(e,{idToken:i}));Tt(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Yw(o.providerUserInfo):[],h=_O(n.providerData,u),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),_=f?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function mO(n){const t=De(n);await id(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _O(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Yw(n){return n.map(t=>{var{providerId:e}=t,i=L_(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,t){const e=await Gw(n,{},async()=>{const i=Ic({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,u=await $w(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",qw.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function vO(n,t){return Ur(n,"POST","/v2/accounts:revokeToken",Vr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):PE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=PE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await yO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,u=new Zo;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class oi{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=L_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await fc(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return dO(this,t)}reload(){return mO(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new oi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Cs(this.auth));const t=await this.getIdToken();return await fc(this,fO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,u,h,f,g,_;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,S=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=e.photoURL)!==null&&u!==void 0?u:void 0,D=(h=e.tenantId)!==null&&h!==void 0?h:void 0,C=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,N=(g=e.createdAt)!==null&&g!==void 0?g:void 0,B=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:F,emailVerified:Z,isAnonymous:J,providerData:ot,stsTokenManager:k}=e;Tt(F&&k,t,"internal-error");const I=Zo.fromJSON(this.name,k);Tt(typeof F=="string",t,"internal-error"),dr(v,t.name),dr(b,t.name),Tt(typeof Z=="boolean",t,"internal-error"),Tt(typeof J=="boolean",t,"internal-error"),dr(S,t.name),dr(w,t.name),dr(D,t.name),dr(C,t.name),dr(N,t.name),dr(B,t.name);const O=new oi({uid:F,auth:t,email:b,emailVerified:Z,displayName:v,isAnonymous:J,photoURL:w,phoneNumber:S,tenantId:D,stsTokenManager:I,createdAt:N,lastLoginAt:B});return ot&&Array.isArray(ot)&&(O.providerData=ot.map(P=>Object.assign({},P))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new Zo;r.updateFromServerResponse(e);const o=new oi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await id(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Yw(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new Zo;h.updateFromIdToken(i);const f=new oi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Xm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function Rs(n){Ms(n instanceof Function,"Expected a class definition");let t=LE.get(n);return t?(Ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,LE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Kw.type="NONE";const VE=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,t,e){return`firebase:${n}:${t}:${e}`}class Jo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=zf(this.userKey,r.apiKey,o),this.fullPersistenceKey=zf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await nd(this.auth,{idToken:t}).catch(()=>{});return e?oi._fromGetAccountInfoResponse(this.auth,e,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Jo(Rs(VE),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||Rs(VE);const u=zf(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(u);if(_){let v;if(typeof _=="string"){const b=await nd(t,{idToken:_}).catch(()=>{});if(!b)break;v=await oi._fromGetAccountInfoResponse(t,b,_)}else v=oi._fromJSON(t,_);g!==o&&(h=v),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Jo(o,t,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Jo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ww(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tA(t))return"Blackberry";if(eA(t))return"Webos";if(Qw(t))return"Safari";if((t.includes("chrome/")||Xw(t))&&!t.includes("edge/"))return"Chrome";if(Jw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ww(n=hn()){return/firefox\//i.test(n)}function Qw(n=hn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xw(n=hn()){return/crios\//i.test(n)}function Zw(n=hn()){return/iemobile/i.test(n)}function Jw(n=hn()){return/android/i.test(n)}function tA(n=hn()){return/blackberry/i.test(n)}function eA(n=hn()){return/webos/i.test(n)}function z_(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bO(n=hn()){var t;return z_(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EO(){return M2()&&document.documentMode===10}function nA(n=hn()){return z_(n)||Jw(n)||eA(n)||tA(n)||/windows phone/i.test(n)||Zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,t=[]){let e;switch(n){case"Browser":e=UE(hn());break;case"Worker":e=`${UE(hn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${qa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,t={}){return Ur(n,"GET","/v2/passwordPolicy",Vr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=6;class AO{constructor(t){var e,i,r,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:wO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new TO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Rs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await nd(this,{idToken:t}),i=await oi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await id(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Cs(this));const e=t?De(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await SO(this),e=new AO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await vO(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Rs(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Rs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&eO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ga(n){return De(n)}class jE{constructor(t){this.auth=t,this.observer=null,this.addObserver=B2(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xO(n){zd=n}function sA(n){return zd.loadJS(n)}function CO(){return zd.recaptchaEnterpriseScript}function IO(){return zd.gapiScript}function DO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OO{constructor(){this.enterprise=new NO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class NO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const MO="recaptcha-enterprise",rA="NO_RECAPTCHA";class kO{constructor(t){this.type=MO,this.auth=Ga(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{hO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new cO(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,u,h){const f=window.grecaptcha;kE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{u(g)}).catch(()=>{u(rA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OO().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!e&&kE(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=CO();f.length!==0&&(f+=h),sA(f).then(()=>{r(h,o,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function zE(n,t,e,i=!1,r=!1){const o=new kO(n);let u;if(r)u=rA;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Zm(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await zE(n,t,e,e==="getOobCode");return i(n,u)}else return i(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await zE(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n,t){const e=jd(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(ka(o,t??{}))return r;hi(r,"already-initialized")}return e.initialize({options:t})}function LO(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Rs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function VO(n,t,e){const i=Ga(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=aA(t),{host:u,port:h}=UO(t),f=h===null?"":`:${h}`,g={url:`${o}//${u}${f}/`},_=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(ka(g,i.config.emulator)&&ka(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,jO()}function aA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function UO(n){const t=aA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:BE(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:BE(u)}}}function BE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function jO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return As("not implemented")}_getIdTokenResponse(t){return As("not implemented")}_linkToIdToken(t,e){return As("not implemented")}_getReauthenticationResolver(t){return As("not implemented")}}async function zO(n,t){return Ur(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(n,t){return Oc(n,"POST","/v1/accounts:signInWithPassword",Vr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(n,t){return Oc(n,"POST","/v1/accounts:signInWithEmailLink",Vr(n,t))}async function HO(n,t){return Oc(n,"POST","/v1/accounts:signInWithEmailLink",Vr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends B_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new dc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new dc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(t,e,"signInWithPassword",BO);case"emailLink":return FO(t,{email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(t,i,"signUpPassword",zO);case"emailLink":return HO(t,{idToken:e,email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n,t){return Oc(n,"POST","/v1/accounts:signInWithIdp",Vr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="http://localhost";class La extends B_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new La(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):hi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=L_(e,["providerId","signInMethod"]);if(!i||!r)return null;const u=new La(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return tl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,tl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,tl(t,e)}buildRequest(){const t={requestUri:qO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ic(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $O(n){const t=Bu(Fu(n)).link,e=t?Bu(Fu(t)).deep_link_id:null,i=Bu(Fu(n)).deep_link_id;return(i?Bu(Fu(i)).link:null)||i||e||t||n}class F_{constructor(t){var e,i,r,o,u,h;const f=Bu(Fu(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,v=GO((r=f.mode)!==null&&r!==void 0?r:null);Tt(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=$O(t);try{return new F_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(t,e){return dc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=F_.parseLink(e);return Tt(i,"argument-error"),dc._fromEmailAndCode(t,i.code,i.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Nc{constructor(){super("facebook.com")}static credential(t){return La._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return La._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return mr.credential(e,i)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Nc{constructor(){super("github.com")}static credential(t){return La._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Nc{constructor(){super("twitter.com")}static credential(t,e){return La._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return yr.credential(e,i)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(n,t){return Oc(n,"POST","/v1/accounts:signUp",Vr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await oi._fromIdTokenResponse(t,i,r),u=FE(i);return new Va({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=FE(i);return new Va({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function FE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Yi{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new sd(t,e,i,r)}}function lA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(n,o,t,i):o})}async function KO(n,t,e=!1){const i=await fc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Va._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n,t,e=!1){const{auth:i}=n;if(Ln(i.app))return Promise.reject(Cs(i));const r="reauthenticate";try{const o=await fc(n,lA(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const u=j_(o.idToken);Tt(u,i,"internal-error");const{sub:h}=u;return Tt(n.uid===h,i,"user-mismatch"),Va._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(n,t,e=!1){if(Ln(n.app))return Promise.reject(Cs(n));const i="signIn",r=await lA(n,i,t),o=await Va._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function QO(n,t){return uA(Ga(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(n){const t=Ga(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function XO(n,t,e){if(Ln(n.app))return Promise.reject(Cs(n));const i=Ga(n),u=await Zm(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&cA(n),f}),h=await Va._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function ZO(n,t,e){return Ln(n.app)?Promise.reject(Cs(n)):QO(De(n),gl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cA(n),i})}function JO(n,t,e,i){return De(n).onIdTokenChanged(t,e,i)}function tN(n,t,e){return De(n).beforeAuthStateChanged(t,e)}function eN(n,t,e,i){return De(n).onAuthStateChanged(t,e,i)}function nN(n){return De(n).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e3,sN=10;class fA extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);EO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,sN):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fA.type="LOCAL";const rN=fA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}dA.type="SESSION";const gA=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Bd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async g=>g(e.origin,o)),f=await aN(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const g=H_("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function lN(n){Bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function uN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hN(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",fN=1,ad="firebaseLocalStorage",_A="fbase_key";class Mc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Fd(n,t){return n.transaction([ad],t?"readwrite":"readonly").objectStore(ad)}function dN(){const n=indexedDB.deleteDatabase(mA);return new Mc(n).toPromise()}function Jm(){const n=indexedDB.open(mA,fN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ad,{keyPath:_A})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ad)?t(i):(i.close(),await dN(),t(await Jm()))})})}async function HE(n,t,e){const i=Fd(n,!0).put({[_A]:t,value:e});return new Mc(i).toPromise()}async function gN(n,t){const e=Fd(n,!1).get(t),i=await new Mc(e).toPromise();return i===void 0?null:i.value}function qE(n,t){const e=Fd(n,!0).delete(t);return new Mc(e).toPromise()}const pN=800,mN=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>mN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(hN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await uN(),!this.activeServiceWorker)return;this.sender=new oN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jm();return await HE(t,rd,"1"),await qE(t,rd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>HE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>gN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>qE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Fd(r,!1).getAll();return new Mc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const _N=yA;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,t){return t?Rs(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends B_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return tl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return tl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return tl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function vN(n){return uA(n.auth,new q_(n),n.bypassAuthState)}function bN(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),WO(e,new q_(n),n.bypassAuthState)}async function EN(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),KO(e,new q_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vN;case"linkViaPopup":case"linkViaRedirect":return EN;case"reauthViaPopup":case"reauthViaRedirect":return bN;default:hi(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Dc(2e3,1e4);class Xo extends vA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,TN.get())};t()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="pendingRedirect",Bf=new Map;class wN extends vA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Bf.get(this.auth._key());if(!t){try{const i=await AN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Bf.set(this.auth._key(),t)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AN(n,t){const e=CN(t),i=xN(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function RN(n,t){Bf.set(n._key(),t)}function xN(n){return Rs(n._redirectPersistence)}function CN(n){return zf(SN,n.config.apiKey,n.name)}async function IN(n,t,e=!1){if(Ln(n.app))return Promise.reject(Cs(n));const i=Ga(n),r=yN(i,t),u=await new wN(i,r,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=10*60*1e3;class ON{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!bA(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(zi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DN&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(t))}saveEventToCache(t){this.cachedEventUids.add(GE(t)),this.lastProcessedEventTime=Date.now()}}function GE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function bA({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function NN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(n,t={}){return Ur(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function LN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await MN(n);for(const e of t)try{if(VN(e))return}catch{}hi(n,"unauthorized-domain")}function VN(n){const t=Qm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!PN.test(e))return!1;if(kN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new Dc(3e4,6e4);function $E(){const n=Bi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function jN(n){return new Promise((t,e)=>{var i,r,o;function u(){$E(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$E(),e(zi(n,"network-request-failed"))},timeout:UN.get()})}if(!((r=(i=Bi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Bi().gapi)===null||o===void 0)&&o.load)u();else{const h=DO("iframefcb");return Bi()[h]=()=>{gapi.load?u():e(zi(n,"network-request-failed"))},sA(`${IO()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw Ff=null,t})}let Ff=null;function zN(n){return Ff=Ff||jN(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Dc(5e3,15e3),FN="__/auth/iframe",HN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?U_(t,HN):`https://${n.config.authDomain}/${FN}`,i={apiKey:t.apiKey,appName:n.name,v:qa},r=GN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Ic(i).slice(1)}`}async function YN(n){const t=await zN(n),e=Bi().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:$N(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=zi(n,"network-request-failed"),h=Bi().setTimeout(()=>{o(u)},BN.get());function f(){Bi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WN=500,QN=600,XN="_blank",ZN="http://localhost";class YE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JN(n,t,e,i=WN,r=QN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},KN),{width:i.toString(),height:r.toString(),top:o,left:u}),g=hn().toLowerCase();e&&(h=Xw(g)?XN:e),Ww(g)&&(t=t||ZN,f.scrollbars="yes");const _=Object.entries(f).reduce((b,[S,w])=>`${b}${S}=${w},`,"");if(bO(g)&&h!=="_self")return tM(t||"",h),new YE(null);const v=window.open(t||"",h,_);Tt(v,n,"popup-blocked");try{v.focus()}catch{}return new YE(v)}function tM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__/auth/handler",nM="emulator/auth/handler",iM=encodeURIComponent("fac");async function KE(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:qa,eventId:r};if(t instanceof oA){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",z2(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(t instanceof Nc){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${iM}=${encodeURIComponent(f)}`:"";return`${sM(n)}?${Ic(h).slice(1)}${g}`}function sM({config:n}){return n.emulator?U_(n,nM):`https://${n.authDomain}/${eM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class rM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gA,this._completeRedirectFn=IN,this._overrideRedirectResult=RN}async _openPopup(t,e,i,r){var o;Ms((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await KE(t,e,i,Qm(),r);return JN(t,u,H_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await KE(t,e,i,Qm(),r);return lN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ms(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await YN(t),i=new ON(t);return e.register("authEvent",r=>(Tt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Rm,{type:Rm},r=>{var o;const u=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Rm];u!==void 0&&e(!!u),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=LN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return nA()||Qw()||z_()}}const aM=rM;var WE="@firebase/auth",QE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uM(n){Pa(new Cr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Tt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(n)},g=new RO(i,r,o,f);return LO(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Pa(new Cr("auth-internal",t=>{const e=Ga(t.getProvider("auth").getImmediate());return(i=>new oM(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(WE,QE,lM(n)),ji(WE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=5*60,hM=kw("authIdTokenMaxAge")||cM;let XE=null;const fM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>hM)return;const r=e==null?void 0:e.token;XE!==r&&(XE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function dM(n=P_()){const t=jd(n,"auth");if(t.isInitialized())return t.getImmediate();const e=PO(n,{popupRedirectResolver:aM,persistence:[_N,rN,gA]}),i=kw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=fM(o.toString());tN(e,u,()=>u(e.currentUser)),JO(e,h=>u(h))}}const r=Ow("auth");return r&&VO(e,`http://${r}`),e}function gM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}xO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=zi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",gM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uM("Browser");var ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,EA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,I){function O(){}O.prototype=I.prototype,k.D=I.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(P,V,j){for(var M=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)M[qt-2]=arguments[qt];return I.prototype[V].apply(P,M)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,I,O){O||(O=0);var P=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)P[V]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(V=0;16>V;++V)P[V]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=k.g[0],O=k.g[1],V=k.g[2];var j=k.g[3],M=I+(j^O&(V^j))+P[0]+3614090360&4294967295;I=O+(M<<7&4294967295|M>>>25),M=j+(V^I&(O^V))+P[1]+3905402710&4294967295,j=I+(M<<12&4294967295|M>>>20),M=V+(O^j&(I^O))+P[2]+606105819&4294967295,V=j+(M<<17&4294967295|M>>>15),M=O+(I^V&(j^I))+P[3]+3250441966&4294967295,O=V+(M<<22&4294967295|M>>>10),M=I+(j^O&(V^j))+P[4]+4118548399&4294967295,I=O+(M<<7&4294967295|M>>>25),M=j+(V^I&(O^V))+P[5]+1200080426&4294967295,j=I+(M<<12&4294967295|M>>>20),M=V+(O^j&(I^O))+P[6]+2821735955&4294967295,V=j+(M<<17&4294967295|M>>>15),M=O+(I^V&(j^I))+P[7]+4249261313&4294967295,O=V+(M<<22&4294967295|M>>>10),M=I+(j^O&(V^j))+P[8]+1770035416&4294967295,I=O+(M<<7&4294967295|M>>>25),M=j+(V^I&(O^V))+P[9]+2336552879&4294967295,j=I+(M<<12&4294967295|M>>>20),M=V+(O^j&(I^O))+P[10]+4294925233&4294967295,V=j+(M<<17&4294967295|M>>>15),M=O+(I^V&(j^I))+P[11]+2304563134&4294967295,O=V+(M<<22&4294967295|M>>>10),M=I+(j^O&(V^j))+P[12]+1804603682&4294967295,I=O+(M<<7&4294967295|M>>>25),M=j+(V^I&(O^V))+P[13]+4254626195&4294967295,j=I+(M<<12&4294967295|M>>>20),M=V+(O^j&(I^O))+P[14]+2792965006&4294967295,V=j+(M<<17&4294967295|M>>>15),M=O+(I^V&(j^I))+P[15]+1236535329&4294967295,O=V+(M<<22&4294967295|M>>>10),M=I+(V^j&(O^V))+P[1]+4129170786&4294967295,I=O+(M<<5&4294967295|M>>>27),M=j+(O^V&(I^O))+P[6]+3225465664&4294967295,j=I+(M<<9&4294967295|M>>>23),M=V+(I^O&(j^I))+P[11]+643717713&4294967295,V=j+(M<<14&4294967295|M>>>18),M=O+(j^I&(V^j))+P[0]+3921069994&4294967295,O=V+(M<<20&4294967295|M>>>12),M=I+(V^j&(O^V))+P[5]+3593408605&4294967295,I=O+(M<<5&4294967295|M>>>27),M=j+(O^V&(I^O))+P[10]+38016083&4294967295,j=I+(M<<9&4294967295|M>>>23),M=V+(I^O&(j^I))+P[15]+3634488961&4294967295,V=j+(M<<14&4294967295|M>>>18),M=O+(j^I&(V^j))+P[4]+3889429448&4294967295,O=V+(M<<20&4294967295|M>>>12),M=I+(V^j&(O^V))+P[9]+568446438&4294967295,I=O+(M<<5&4294967295|M>>>27),M=j+(O^V&(I^O))+P[14]+3275163606&4294967295,j=I+(M<<9&4294967295|M>>>23),M=V+(I^O&(j^I))+P[3]+4107603335&4294967295,V=j+(M<<14&4294967295|M>>>18),M=O+(j^I&(V^j))+P[8]+1163531501&4294967295,O=V+(M<<20&4294967295|M>>>12),M=I+(V^j&(O^V))+P[13]+2850285829&4294967295,I=O+(M<<5&4294967295|M>>>27),M=j+(O^V&(I^O))+P[2]+4243563512&4294967295,j=I+(M<<9&4294967295|M>>>23),M=V+(I^O&(j^I))+P[7]+1735328473&4294967295,V=j+(M<<14&4294967295|M>>>18),M=O+(j^I&(V^j))+P[12]+2368359562&4294967295,O=V+(M<<20&4294967295|M>>>12),M=I+(O^V^j)+P[5]+4294588738&4294967295,I=O+(M<<4&4294967295|M>>>28),M=j+(I^O^V)+P[8]+2272392833&4294967295,j=I+(M<<11&4294967295|M>>>21),M=V+(j^I^O)+P[11]+1839030562&4294967295,V=j+(M<<16&4294967295|M>>>16),M=O+(V^j^I)+P[14]+4259657740&4294967295,O=V+(M<<23&4294967295|M>>>9),M=I+(O^V^j)+P[1]+2763975236&4294967295,I=O+(M<<4&4294967295|M>>>28),M=j+(I^O^V)+P[4]+1272893353&4294967295,j=I+(M<<11&4294967295|M>>>21),M=V+(j^I^O)+P[7]+4139469664&4294967295,V=j+(M<<16&4294967295|M>>>16),M=O+(V^j^I)+P[10]+3200236656&4294967295,O=V+(M<<23&4294967295|M>>>9),M=I+(O^V^j)+P[13]+681279174&4294967295,I=O+(M<<4&4294967295|M>>>28),M=j+(I^O^V)+P[0]+3936430074&4294967295,j=I+(M<<11&4294967295|M>>>21),M=V+(j^I^O)+P[3]+3572445317&4294967295,V=j+(M<<16&4294967295|M>>>16),M=O+(V^j^I)+P[6]+76029189&4294967295,O=V+(M<<23&4294967295|M>>>9),M=I+(O^V^j)+P[9]+3654602809&4294967295,I=O+(M<<4&4294967295|M>>>28),M=j+(I^O^V)+P[12]+3873151461&4294967295,j=I+(M<<11&4294967295|M>>>21),M=V+(j^I^O)+P[15]+530742520&4294967295,V=j+(M<<16&4294967295|M>>>16),M=O+(V^j^I)+P[2]+3299628645&4294967295,O=V+(M<<23&4294967295|M>>>9),M=I+(V^(O|~j))+P[0]+4096336452&4294967295,I=O+(M<<6&4294967295|M>>>26),M=j+(O^(I|~V))+P[7]+1126891415&4294967295,j=I+(M<<10&4294967295|M>>>22),M=V+(I^(j|~O))+P[14]+2878612391&4294967295,V=j+(M<<15&4294967295|M>>>17),M=O+(j^(V|~I))+P[5]+4237533241&4294967295,O=V+(M<<21&4294967295|M>>>11),M=I+(V^(O|~j))+P[12]+1700485571&4294967295,I=O+(M<<6&4294967295|M>>>26),M=j+(O^(I|~V))+P[3]+2399980690&4294967295,j=I+(M<<10&4294967295|M>>>22),M=V+(I^(j|~O))+P[10]+4293915773&4294967295,V=j+(M<<15&4294967295|M>>>17),M=O+(j^(V|~I))+P[1]+2240044497&4294967295,O=V+(M<<21&4294967295|M>>>11),M=I+(V^(O|~j))+P[8]+1873313359&4294967295,I=O+(M<<6&4294967295|M>>>26),M=j+(O^(I|~V))+P[15]+4264355552&4294967295,j=I+(M<<10&4294967295|M>>>22),M=V+(I^(j|~O))+P[6]+2734768916&4294967295,V=j+(M<<15&4294967295|M>>>17),M=O+(j^(V|~I))+P[13]+1309151649&4294967295,O=V+(M<<21&4294967295|M>>>11),M=I+(V^(O|~j))+P[4]+4149444226&4294967295,I=O+(M<<6&4294967295|M>>>26),M=j+(O^(I|~V))+P[11]+3174756917&4294967295,j=I+(M<<10&4294967295|M>>>22),M=V+(I^(j|~O))+P[2]+718787259&4294967295,V=j+(M<<15&4294967295|M>>>17),M=O+(j^(V|~I))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var O=I-this.blockSize,P=this.B,V=this.h,j=0;j<I;){if(V==0)for(;j<=O;)r(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<I;)if(P[V++]=k.charCodeAt(j++),V==this.blockSize){r(this,P),V=0;break}}else for(;j<I;)if(P[V++]=k[j++],V==this.blockSize){r(this,P),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var O=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=O&255,O/=256;for(this.u(k),k=Array(16),I=O=0;4>I;++I)for(var P=0;32>P;P+=8)k[O++]=this.g[I]>>>P&255;return k};function o(k,I){var O=h;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=I(k)}function u(k,I){this.h=I;for(var O=[],P=!0,V=k.length-1;0<=V;V--){var j=k[V]|0;P&&j==I||(O[V]=j,P=!1)}this.g=O}var h={};function f(k){return-128<=k&&128>k?o(k,function(I){return new u([I|0],0>I?-1:0)}):new u([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return C(g(-k));for(var I=[],O=1,P=0;k>=O;P++)I[P]=k/O|0,O*=4294967296;return new u(I,0)}function _(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return C(_(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(I,8)),P=v,V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V),M=parseInt(k.substring(V,V+j),I);8>j?(j=g(Math.pow(I,j)),P=P.j(j).add(g(M))):(P=P.j(O),P=P.add(g(M)))}return P}var v=f(0),b=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-C(this).m();for(var k=0,I=1,O=0;O<this.g.length;O++){var P=this.i(O);k+=(0<=P?P:4294967296+P)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(w(this))return"0";if(D(this))return"-"+C(this).toString(k);for(var I=g(Math.pow(k,6)),O=this,P="";;){var V=Z(O,I).g;O=N(O,V.j(I));var j=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=V,w(O))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function w(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=N(this,k),D(k)?-1:w(k)?0:1};function C(k){for(var I=k.g.length,O=[],P=0;P<I;P++)O[P]=~k.g[P];return new u(O,~k.h).add(b)}n.abs=function(){return D(this)?C(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),O=[],P=0,V=0;V<=I;V++){var j=P+(this.i(V)&65535)+(k.i(V)&65535),M=(j>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=M>>>16,j&=65535,M&=65535,O[V]=M<<16|j}return new u(O,O[O.length-1]&-2147483648?-1:0)};function N(k,I){return k.add(C(I))}n.j=function(k){if(w(this)||w(k))return v;if(D(this))return D(k)?C(this).j(C(k)):C(C(this).j(k));if(D(k))return C(this.j(C(k)));if(0>this.l(S)&&0>k.l(S))return g(this.m()*k.m());for(var I=this.g.length+k.g.length,O=[],P=0;P<2*I;P++)O[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var j=this.i(P)>>>16,M=this.i(P)&65535,qt=k.i(V)>>>16,vt=k.i(V)&65535;O[2*P+2*V]+=M*vt,B(O,2*P+2*V),O[2*P+2*V+1]+=j*vt,B(O,2*P+2*V+1),O[2*P+2*V+1]+=M*qt,B(O,2*P+2*V+1),O[2*P+2*V+2]+=j*qt,B(O,2*P+2*V+2)}for(P=0;P<I;P++)O[P]=O[2*P+1]<<16|O[2*P];for(P=I;P<2*I;P++)O[P]=0;return new u(O,0)};function B(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function F(k,I){this.g=k,this.h=I}function Z(k,I){if(w(I))throw Error("division by zero");if(w(k))return new F(v,v);if(D(k))return I=Z(C(k),I),new F(C(I.g),C(I.h));if(D(I))return I=Z(k,C(I)),new F(C(I.g),I.h);if(30<k.g.length){if(D(k)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var O=b,P=I;0>=P.l(k);)O=J(O),P=J(P);var V=ot(O,1),j=ot(P,1);for(P=ot(P,2),O=ot(O,2);!w(P);){var M=j.add(P);0>=M.l(k)&&(V=V.add(O),j=M),P=ot(P,1),O=ot(O,1)}return I=N(k,V.j(I)),new F(V,I)}for(V=v;0<=k.l(I);){for(O=Math.max(1,Math.floor(k.m()/I.m())),P=Math.ceil(Math.log(O)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=g(O),M=j.j(I);D(M)||0<M.l(k);)O-=P,j=g(O),M=j.j(I);w(j)&&(j=b),V=V.add(j),k=N(k,M)}return new F(V,k)}n.A=function(k){return Z(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),O=[],P=0;P<I;P++)O[P]=this.i(P)&k.i(P);return new u(O,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),O=[],P=0;P<I;P++)O[P]=this.i(P)|k.i(P);return new u(O,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),O=[],P=0;P<I;P++)O[P]=this.i(P)^k.i(P);return new u(O,this.h^k.h)};function J(k){for(var I=k.g.length+1,O=[],P=0;P<I;P++)O[P]=k.i(P)<<1|k.i(P-1)>>>31;return new u(O,k.h)}function ot(k,I){var O=I>>5;I%=32;for(var P=k.g.length-O,V=[],j=0;j<P;j++)V[j]=0<I?k.i(j+O)>>>I|k.i(j+O+1)<<32-I:k.i(j+O);return new u(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,EA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Ar=u}).apply(typeof ZE<"u"?ZE:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TA,Hu,SA,Hf,t_,wA,AA,RA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,y){if(y)t:{var E=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var G=d[x];if(!(G in E))break t;E=E[G]}d=d[d.length-1],x=E[d],y=y(x),y!=x&&y!=null&&t(E,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var E=0,x=!1,G={next:function(){if(!x&&E<d.length){var X=E++;return{value:y(X,d[X]),done:!1}}return x=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(d){return d||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function _(d,y,E){return d.call.apply(d.bind,arguments)}function v(d,y,E){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,x),d.apply(y,G)}}return function(){return d.apply(y,arguments)}}function b(d,y,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,b.apply(null,arguments)}function S(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function w(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(x,G,X){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return y.prototype[G].apply(x,ut)}}function D(d){const y=d.length;if(0<y){const E=Array(y);for(let x=0;x<y;x++)E[x]=d[x];return E}return[]}function C(d,y){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(f(x)){const G=d.length||0,X=x.length||0;d.length=G+X;for(let ut=0;ut<X;ut++)d[G+ut]=x[ut]}else d.push(x)}}class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var J=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ot(d,y,E){for(const x in d)y.call(E,d[x],x,d)}function k(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function I(d){const y={};for(const E in d)y[E]=d[E];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,y){let E,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(E in x)d[E]=x[E];for(let X=0;X<O.length;X++)E=O[X],Object.prototype.hasOwnProperty.call(x,E)&&(d[E]=x[E])}}function V(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function j(d){h.setTimeout(()=>{throw d},0)}function M(){var d=wt;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class qt{constructor(){this.h=this.g=null}add(y,E){const x=vt.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var vt=new N(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,wt=new qt,U=()=>{const d=h.Promise.resolve(void 0);at=()=>{d.then(rt)}};var rt=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){j(E)}var y=vt;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ft=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return d}();function xt(d,y){if(lt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(J){t:{try{Z(y.nodeName);var G=!0;break t}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_t[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xt.aa.h.call(this)}}w(xt,lt);var _t={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),se=0;function pi(d,y,E,x,G){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=G,this.key=++se,this.da=this.fa=!1}function Us(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Wi(d){this.src=d,this.g={},this.h=0}Wi.prototype.add=function(d,y,E,x,G){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ut=zr(d,y,x,G);return-1<ut?(y=d[ut],E||(y.fa=!1)):(y=new pi(y,this.src,X,!!x,G),y.fa=E,d.push(y)),y};function jr(d,y){var E=y.type;if(E in d.g){var x=d.g[E],G=Array.prototype.indexOf.call(x,y,void 0),X;(X=0<=G)&&Array.prototype.splice.call(x,G,1),X&&(Us(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function zr(d,y,E,x){for(var G=0;G<d.length;++G){var X=d[G];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==x)return G}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Sl={};function Bc(d,y,E,x,G){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Bc(d,y[X],E,x,G);return null}return E=Fc(E),d&&d[ze]?d.K(y,E,g(x)?!!x.capture:!1,G):jn(d,y,E,!1,x,G)}function jn(d,y,E,x,G,X){if(!y)throw Error("Invalid event type");var ut=g(G)?!!G.capture:!!G,Ut=Xa(d);if(Ut||(d[Br]=Ut=new Wi(d)),E=Ut.add(y,E,x,ut,X),E.proxy)return E;if(x=fg(),E.proxy=x,x.src=d,x.listener=E,d.addEventListener)pt||(G=ut),G===void 0&&(G=!1),d.addEventListener(y.toString(),x,G);else if(d.attachEvent)d.attachEvent(Fr(y.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fg(){function d(E){return y.call(d.src,d.listener,E)}const y=dg;return d}function wl(d,y,E,x,G){if(Array.isArray(y))for(var X=0;X<y.length;X++)wl(d,y[X],E,x,G);else x=g(x)?!!x.capture:!!x,E=Fc(E),d&&d[ze]?(d=d.i,y=String(y).toString(),y in d.g&&(X=d.g[y],E=zr(X,E,x,G),-1<E&&(Us(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete d.g[y],d.h--)))):d&&(d=Xa(d))&&(y=d.g[y.toString()],d=-1,y&&(d=zr(y,E,x,G)),(E=-1<d?y[d]:null)&&Qa(E))}function Qa(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ze])jr(y.i,d);else{var E=d.type,x=d.proxy;y.removeEventListener?y.removeEventListener(E,x,d.capture):y.detachEvent?y.detachEvent(Fr(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=Xa(y))?(jr(E,d),E.h==0&&(E.src=null,y[Br]=null)):Us(d)}}}function Fr(d){return d in Sl?Sl[d]:Sl[d]="on"+d}function dg(d,y){if(d.da)d=!0;else{y=new xt(y,this);var E=d.listener,x=d.ha||d.src;d.fa&&Qa(d),d=E.call(x,y)}return d}function Xa(d){return d=d[Br],d instanceof Wi?d:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fc(d){return typeof d=="function"?d:(d[Al]||(d[Al]=function(y){return d.handleEvent(y)}),d[Al])}function pe(){ct.call(this),this.i=new Wi(this),this.M=this,this.F=null}w(pe,ct),pe.prototype[ze]=!0,pe.prototype.removeEventListener=function(d,y,E,x){wl(this,d,y,E,x)};function Kt(d,y){var E,x=d.F;if(x)for(E=[];x;x=x.F)E.push(x);if(d=d.M,x=y.type||y,typeof y=="string")y=new lt(y,d);else if(y instanceof lt)y.target=y.target||d;else{var G=y;y=new lt(x,d),P(y,G)}if(G=!0,E)for(var X=E.length-1;0<=X;X--){var ut=y.g=E[X];G=Rn(ut,x,!0,y)&&G}if(ut=y.g=d,G=Rn(ut,x,!0,y)&&G,G=Rn(ut,x,!1,y)&&G,E)for(X=0;X<E.length;X++)ut=y.g=E[X],G=Rn(ut,x,!1,y)&&G}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],x=0;x<E.length;x++)Us(E[x]);delete d.g[y],d.h--}}this.F=null},pe.prototype.K=function(d,y,E,x){return this.i.add(String(d),y,!1,E,x)},pe.prototype.L=function(d,y,E,x){return this.i.add(String(d),y,!0,E,x)};function Rn(d,y,E,x){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,X=0;X<y.length;++X){var ut=y[X];if(ut&&!ut.da&&ut.capture==E){var Ut=ut.listener,Ne=ut.ha||ut.src;ut.fa&&jr(d.i,ut),G=Ut.call(Ne,x)!==!1&&G}}return G&&!x.defaultPrevented}function sn(d,y,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(d,y||0)}function Hc(d){d.g=sn(()=>{d.g=null,d.i&&(d.i=!1,Hc(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class gg extends ct{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(d){ct.call(this),this.h=d,this.g={}}w(Hr,ct);var qr=[];function Gr(d){ot(d.g,function(y,E){this.g.hasOwnProperty(E)&&Qa(y)},d),d.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Gr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=h.JSON.stringify,Za=h.JSON.parse,$r=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Rl(){}Rl.prototype.h=null;function xl(d){return d.h||(d.h=d.i())}function Cl(){}var Qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){lt.call(this,"d")}w(Xi,lt);function Il(){lt.call(this,"c")}w(Il,lt);var mi={},Dl=null;function js(){return Dl=Dl||new pe}mi.La="serverreachability";function Ja(d){lt.call(this,mi.La,d)}w(Ja,lt);function zs(d){const y=js();Kt(y,new Ja(y))}mi.STAT_EVENT="statevent";function qc(d,y){lt.call(this,mi.STAT_EVENT,d),this.stat=y}w(qc,lt);function ue(d){const y=js();Kt(y,new qc(y,d))}mi.Ma="timingevent";function Oe(d,y){lt.call(this,mi.Ma,d),this.size=y}w(Oe,lt);function Se(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},y)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Ol(d,y,E,x,G,X){d.info(function(){if(d.g)if(X)for(var ut="",Ut=X.split("&"),Ne=0;Ne<Ut.length;Ne++){var jt=Ut[Ne].split("=");if(1<jt.length){var Fe=jt[0];jt=jt[1];var Me=Fe.split("_");ut=2<=Me.length&&Me[1]=="type"?ut+(Fe+"="+jt+"&"):ut+(Fe+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+y+`
`+E+`
`+ut})}function pg(d,y,E,x,G,X,ut){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+y+`
`+E+`
`+X+" "+ut})}function Bs(d,y,E,x){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yr(d,E)+(x?" "+x:"")})}function Gc(d,y){d.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function Yr(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var x=E[d];if(!(2>x.length)){var G=x[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<G.length;ut++)G[ut]=""}}}}return ei(E)}catch{return y}}var Fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function yi(){}w(yi,Rl),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},_i=new yi;function fn(d,y,E,x){this.j=d,this.i=y,this.l=E,this.R=x||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var Nl={},to={};function ni(d,y,E){d.L=1,d.v=Zr(xn(y)),d.m=E,d.P=!0,Ji(d,null)}function Ji(d,y){d.F=Date.now(),Kr(d),d.A=xn(d.v);var E=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),Ul(E.i,"t",x),d.C=0,E=d.j.J,d.h=new ye,d.g=oh(d.j,E?y:null,!d.m),0<d.O&&(d.M=new gg(b(d.Y,d,d.g),d.O)),y=d.U,E=d.g,x=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(qr[0]=G.toString()),G=qr);for(var X=0;X<G.length;X++){var ut=Bc(E,G[X],x||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),zs(),Ol(d.i,d.u,d.A,d.l,d.R,d.m)}fn.prototype.ca=function(d){d=d.target;const y=this.M;y&&qn(d)==3?y.j():this.Y(d)},fn.prototype.Y=function(d){try{if(d==this.g)t:{const Me=qn(this.g);var y=this.g.Ba();const os=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||Me!=4||y==7||(y==8||0>=os?zs(3):zs(2)),Hs(this);var E=this.g.Z();this.X=E;e:if($c(this)){var x=Jc(this.g);d="";var G=x.length,X=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),vi(this);var ut="";break e}this.h.i=new h.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,d+=this.h.i.decode(x[y],{stream:!(X&&y==G-1)});x.length=0,this.h.g+=d,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=E==200,pg(this.i,this.u,this.A,this.l,this.R,Me,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ne=this.g;if((Ut=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ut)){var jt=Ut;break e}}jt=null}if(E=jt)Bs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,E);else{this.o=!1,this.s=3,ue(12),Ke(this),vi(this);break t}}if(this.P){E=!0;let We;for(;!this.J&&this.C<ut.length;)if(We=Yc(this,ut),We==to){Me==4&&(this.s=4,ue(14),E=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(We==Nl){this.s=4,ue(15),Bs(this.i,this.l,ut,"[Invalid Chunk]"),E=!1;break}else Bs(this.i,this.l,We,null),Wr(this,We);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ut.length!=0||this.h.h||(this.s=1,ue(16),E=!1),this.o=this.o&&E,!E)Bs(this.i,this.l,ut,"[Invalid Chunked Response]"),Ke(this),vi(this);else if(0<ut.length&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.ba&&!Fe.M&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),aa(Fe),Fe.M=!0,ue(11))}}else Bs(this.i,this.l,ut,null),Wr(this,ut);Me==4&&Ke(this),this.o&&!this.J&&(Me==4?sh(this.j,this):(this.o=!1,Kr(this)))}else bg(this.g),E==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Ke(this),vi(this)}}}catch{}finally{}};function $c(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yc(d,y){var E=d.C,x=y.indexOf(`
`,E);return x==-1?to:(E=Number(y.substring(E,x)),isNaN(E)?Nl:(x+=1,x+E>y.length?to:(y=y.slice(x,x+E),d.C=x+E,y)))}fn.prototype.cancel=function(){this.J=!0,Ke(this)};function Kr(d){d.S=Date.now()+d.I,Kc(d,d.I)}function Kc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Se(b(d.ba,d),y)}function Hs(d){d.B&&(h.clearTimeout(d.B),d.B=null)}fn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Gc(this.i,this.A),this.L!=2&&(zs(),ue(17)),Ke(this),this.s=2,vi(this)):Kc(this,this.S-d)};function vi(d){d.j.G==0||d.J||sh(d.j,d)}function Ke(d){Hs(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Gr(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Wr(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||Ml(E.h,d))){if(!d.K&&Ml(E.h,d)&&E.G==3){try{var x=E.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)fo(E),co(E);else break t;Hl(E),ue(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Se(b(E.Za,E),6e3));if(1>=no(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else as(E,11)}else if((d.K||E.g==d)&&fo(E),!B(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let jt=G[y];if(E.T=jt[0],jt=jt[1],E.G==2)if(jt[0]=="c"){E.K=jt[1],E.ia=jt[2];const Fe=jt[3];Fe!=null&&(E.la=Fe,E.j.info("VER="+E.la));const Me=jt[4];Me!=null&&(E.Aa=Me,E.j.info("SVER="+E.Aa));const os=jt[5];os!=null&&typeof os=="number"&&0<os&&(x=1.5*os,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const We=d.g;if(We){const Ri=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var X=x.h;X.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(io(X,X.h),X.h=null))}if(x.D){const Gl=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(x.ya=Gl,Jt(x.I,x.D,Gl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var ut=d;if(x.qa=ah(x,x.J?x.ia:null,x.W),ut.K){dn(x.h,ut);var Ut=ut,Ne=x.L;Ne&&(Ut.I=Ne),Ut.B&&(Hs(Ut),Kr(Ut)),x.g=ut}else nh(x);0<E.i.length&&ho(E)}else jt[0]!="stop"&&jt[0]!="close"||as(E,7);else E.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?as(E,7):Bl(E):jt[0]!="noop"&&E.l&&E.l.ta(jt),E.v=0)}}zs(4)}catch{}}var Wc=class{constructor(d,y){this.g=d,this.map=y}};function ts(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function no(d){return d.h?1:d.g?d.g.size:0}function Ml(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function io(d,y){d.g?d.g.add(y):d.h=y}function dn(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}ts.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return D(d.i)}function mg(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],E=d.length,x=0;x<E;x++)y.push(d[x]);return y}y=[],E=0;for(x in d)y[E++]=d[x];return y}function so(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const x in d)y[E++]=x;return y}}}function Pl(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=so(d),x=mg(d),G=x.length,X=0;X<G;X++)y.call(void 0,x[X],E&&E[X],d)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _g(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var x=d[E].indexOf("="),G=null;if(0<=x){var X=d[E].substring(0,x);G=d[E].substring(x+1)}else X=d[E];y(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function we(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof we){this.h=d.h,Xr(this,d.j),this.o=d.o,this.g=d.g,qs(this,d.s),this.l=d.l;var y=d.i,E=new ns;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),es(this,E),this.m=d.m}else d&&(y=String(d).match(Qr))?(this.h=!1,Xr(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),qs(this,y[4]),this.l=Bn(y[5]||"",!0),es(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}we.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Jr(y,Ll,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Jr(y,Ll,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Jr(E,E.charAt(0)=="/"?yg:Vl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Jr(E,ro)),d.join("")};function xn(d){return new we(d)}function Xr(d,y,E){d.j=E?Bn(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function qs(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function es(d,y,E){y instanceof ns?(d.i=y,Xc(d.i,d.h)):(E||(y=Jr(y,vg)),d.i=new ns(y,d.h))}function Jt(d,y,E){d.i.set(y,E)}function Zr(d){return Jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Bn(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Jr(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Qc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Qc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ll=/[#\/\?@]/g,Vl=/[#\?:]/g,yg=/[#\?]/g,vg=/[#\?@]/g,ro=/#/g;function ns(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Fn(d){d.g||(d.g=new Map,d.h=0,d.i&&_g(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=ns.prototype,n.add=function(d,y){Fn(this),this.i=null,d=bi(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function is(d,y){Fn(d),y=bi(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ss(d,y){return Fn(d),y=bi(d,y),d.g.has(y)}n.forEach=function(d,y){Fn(this),this.g.forEach(function(E,x){E.forEach(function(G){d.call(y,G,x,this)},this)},this)},n.na=function(){Fn(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let x=0;x<y.length;x++){const G=d[x];for(let X=0;X<G.length;X++)E.push(y[x])}return E},n.V=function(d){Fn(this);let y=[];if(typeof d=="string")ss(this,d)&&(y=y.concat(this.g.get(bi(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return Fn(this),this.i=null,d=bi(this,d),ss(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ul(d,y,E){is(d,y),0<E.length&&(d.i=null,d.g.set(bi(d,y),D(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var x=y[E];const X=encodeURIComponent(String(x)),ut=this.V(x);for(x=0;x<ut.length;x++){var G=X;ut[x]!==""&&(G+="="+encodeURIComponent(String(ut[x]))),d.push(G)}}return this.i=d.join("&")};function bi(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Xc(d,y){y&&!d.j&&(Fn(d),d.i=null,d.g.forEach(function(E,x){var G=x.toLowerCase();x!=G&&(is(this,x),Ul(this,G,E))},d)),d.j=y}function ta(d,y){const E=new zn;if(h.Image){const x=new Image;x.onload=S(Hn,E,"TestLoadImage: loaded",!0,y,x),x.onerror=S(Hn,E,"TestLoadImage: error",!1,y,x),x.onabort=S(Hn,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=S(Hn,E,"TestLoadImage: timeout",!1,y,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else y(!1)}function ii(d,y){const E=new zn,x=new AbortController,G=setTimeout(()=>{x.abort(),Hn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:x.signal}).then(X=>{clearTimeout(G),X.ok?Hn(E,"TestPingServer: ok",!0,y):Hn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Hn(E,"TestPingServer: error",!1,y)})}function Hn(d,y,E,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(E)}catch{}}function ea(){this.g=new $r}function Ei(d,y,E){const x=E||"";try{Pl(d,function(G,X){let ut=G;g(G)&&(ut=ei(G)),y.push(x+X+"="+encodeURIComponent(ut))})}catch(G){throw y.push(x+"type="+encodeURIComponent("_badmap")),G}}function Gs(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Gs,Rl),Gs.prototype.g=function(){return new rs(this.l,this.j)},Gs.prototype.i=function(d){return function(){return d}}({});function rs(d,y){pe.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(rs,pe),n=rs.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Si(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ti(this):Si(this),this.readyState==3&&jl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ti(this))},n.Qa=function(d){this.g&&(this.response=d,Ti(this))},n.ga=function(){this.g&&Ti(this)};function Ti(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Si(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function Si(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zl(d){let y="";return ot(d,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function Be(d,y,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=zl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Jt(d,y,E))}function $t(d){pe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w($t,pe);var ao=/^https?$/i,na=["POST","PUT"];n=$t.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?xl(this.o):xl(_i),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){Zc(this,X);return}if(d=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)E.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())E.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),G=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(na,y,void 0))||x||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of E)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Zc(this,X)}};function Zc(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,oo(d),wi(d)}function oo(d){d.A||(d.A=!0,Kt(d,"complete"),Kt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Kt(this,"complete"),Kt(this,"abort"),wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},n.bb=function(){lo(this)};function lo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||qn(d)!=4||d.Z()!=2)){if(d.u&&qn(d)==4)sn(d.Ea,0,d);else if(Kt(d,"readystatechange"),qn(d)==4){d.h=!1;try{const ut=d.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var x;if(x=ut===0){var G=String(d.D).match(Qr)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),x=!ao.test(G?G.toLowerCase():"")}E=x}if(E)Kt(d,"complete"),Kt(d,"success");else{d.m=6;try{var X=2<qn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",oo(d)}}finally{wi(d)}}}}function wi(d,y){if(d.g){ia(d);const E=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Kt(d,"ready");try{E.onreadystatechange=x}catch{}}}function ia(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function qn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Za(y)}};function Jc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function bg(d){const y={};d=(d.g&&2<=qn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(B(d[x]))continue;var E=V(d[x]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[G]||[];y[G]=X,X.push(E)}k(y,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function uo(d){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,d),this.cb=sa("retryDelaySeedMs",1e4,d),this.Wa=sa("forwardChannelMaxRetries",2,d),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(d&&d.concurrentRequestLimit),this.Da=new ea,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=uo.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,x){ue(0),this.W=d,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=ah(this,null,this.W),ho(this)};function Bl(d){if(th(d),d.G==3){var y=d.U++,E=xn(d.I);if(Jt(E,"SID",d.K),Jt(E,"RID",y),Jt(E,"TYPE","terminate"),ra(d,E),y=new fn(d,d.j,y),y.L=2,y.v=Zr(xn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=oh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Kr(y)}rh(d)}function co(d){d.g&&(aa(d),d.g.cancel(),d.g=null)}function th(d){co(d),d.u&&(h.clearTimeout(d.u),d.u=null),fo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function ho(d){if(!eo(d.h)&&!d.s){d.s=!0;var y=d.Ga;at||U(),ft||(at(),ft=!0),wt.add(y,d),d.B=0}}function Eg(d,y){return no(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Se(b(d.Ga,d,y),ql(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new fn(this,this.j,d);let X=this.o;if(this.S&&(X?(X=I(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=eh(this,G,y),E=xn(this.I),Jt(E,"RID",d),Jt(E,"CVER",22),this.D&&Jt(E,"X-HTTP-Session-Id",this.D),ra(this,E),X&&(this.O?y="headers="+encodeURIComponent(String(zl(X)))+"&"+y:this.m&&Be(E,this.m,X)),io(this.h,G),this.Ua&&Jt(E,"TYPE","init"),this.P?(Jt(E,"$req",y),Jt(E,"SID","null"),G.T=!0,ni(G,E,null)):ni(G,E,y),this.G=2}}else this.G==3&&(d?Fl(this,d):this.i.length==0||eo(this.h)||Fl(this))};function Fl(d,y){var E;y?E=y.l:E=d.U++;const x=xn(d.I);Jt(x,"SID",d.K),Jt(x,"RID",E),Jt(x,"AID",d.T),ra(d,x),d.m&&d.o&&Be(x,d.m,d.o),E=new fn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=eh(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),io(d.h,E),ni(E,x,y)}function ra(d,y){d.H&&ot(d.H,function(E,x){Jt(y,x,E)}),d.l&&Pl({},function(E,x){Jt(y,x,E)})}function eh(d,y,E){E=Math.min(d.i.length,E);var x=d.l?b(d.l.Na,d.l,d):null;t:{var G=d.i;let X=-1;for(;;){const ut=["count="+E];X==-1?0<E?(X=G[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Ut=!0;for(let Ne=0;Ne<E;Ne++){let jt=G[Ne].g;const Fe=G[Ne].map;if(jt-=X,0>jt)X=Math.max(0,G[Ne].g-100),Ut=!1;else try{Ei(Fe,ut,"req"+jt+"_")}catch{x&&x(Fe)}}if(Ut){x=ut.join("&");break t}}}return d=d.i.splice(0,E),y.D=d,x}function nh(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;at||U(),ft||(at(),ft=!0),wt.add(y,d),d.v=0}}function Hl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Se(b(d.Fa,d),ql(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Se(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),co(this),ih(this))};function aa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function ih(d){d.g=new fn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=xn(d.qa);Jt(y,"RID","rpc"),Jt(y,"SID",d.K),Jt(y,"AID",d.T),Jt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Jt(y,"TO",d.ja),Jt(y,"TYPE","xmlhttp"),ra(d,y),d.m&&d.o&&Be(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Zr(xn(y)),E.m=null,E.P=!0,Ji(E,d)}n.Za=function(){this.C!=null&&(this.C=null,co(this),Hl(this),ue(19))};function fo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function sh(d,y){var E=null;if(d.g==y){fo(d),aa(d),d.g=null;var x=2}else if(Ml(d.h,y))E=y.D,dn(d.h,y),x=1;else return;if(d.G!=0){if(y.o)if(x==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=d.B;x=js(),Kt(x,new Oe(x,E)),ho(d)}else nh(d);else if(G=y.s,G==3||G==0&&0<y.X||!(x==1&&Eg(d,y)||x==2&&Hl(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),G){case 1:as(d,5);break;case 4:as(d,10);break;case 3:as(d,6);break;default:as(d,2)}}}function ql(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function as(d,y){if(d.j.info("Error code "+y),y==2){var E=b(d.fb,d),x=d.Xa;const G=!x;x=new we(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Xr(x,"https"),Zr(x),G?ta(x.toString(),E):ii(x.toString(),E)}else ue(2);d.G=0,d.l&&d.l.sa(y),rh(d),th(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function rh(d){if(d.G=0,d.ka=[],d.l){const y=kl(d.h);(y.length!=0||d.i.length!=0)&&(C(d.ka,y),C(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function ah(d,y,E){var x=E instanceof we?xn(E):new we(E);if(x.g!="")y&&(x.g=y+"."+x.g),qs(x,x.s);else{var G=h.location;x=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var X=new we(null);x&&Xr(X,x),y&&(X.g=y),G&&qs(X,G),E&&(X.l=E),x=X}return E=d.D,y=d.ya,E&&y&&Jt(x,E,y),Jt(x,"VER",d.la),ra(d,x),x}function oh(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new $t(new Gs({eb:E})):new $t(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}n=lh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(d,y){return new gn(d,y)};function gn(d,y){pe.call(this),this.g=new uo(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!B(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ai(this)}w(gn,pe),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Bl(this.g)},gn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=ei(d),d=E);y.i.push(new Wc(y.Ya++,d)),y.G==3&&ho(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,gn.aa.N.call(this)};function uh(d){Xi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){t:{for(const E in y){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}w(uh,Xi);function ch(){Il.call(this),this.status=1}w(ch,Il);function Ai(d){this.g=d}w(Ai,lh),Ai.prototype.ua=function(){Kt(this.g,"a")},Ai.prototype.ta=function(d){Kt(this.g,new uh(d))},Ai.prototype.sa=function(d){Kt(this.g,new ch)},Ai.prototype.ra=function(){Kt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,RA=function(){return new go},AA=function(){return js()},wA=mi,t_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Hf=Fs,Zi.COMPLETE="complete",SA=Zi,Cl.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Hu=Cl,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,TA=$t}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",tT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new M_("@firebase/firestore");function $o(){return Ua.logLevel}function ht(n,...t){if(Ua.logLevel<=Lt.DEBUG){const e=t.map(G_);Ua.debug(`Firestore (${pl}): ${n}`,...e)}}function ks(n,...t){if(Ua.logLevel<=Lt.ERROR){const e=t.map(G_);Ua.error(`Firestore (${pl}): ${n}`,...e)}}function il(n,...t){if(Ua.logLevel<=Lt.WARN){const e=t.map(G_);Ua.warn(`Firestore (${pl}): ${n}`,...e)}}function G_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,xA(n,i,e)}function xA(n,t,e){let i=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ks(i),new Error(i)}function Yt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||xA(t,r,i)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Yi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ln.UNAUTHENTICATED))}shutdown(){}}class mM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class _M{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Is,t.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Is)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string",31837,{l:i}),new CA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class yM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new yM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new eT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=EM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Nt(n,t){return n<t?-1:n>t?1:0}function e_(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Nt(i,r);{const o=IA(),u=TM(o.encode(nT(n,e)),o.encode(nT(t,e)));return u!==0?u:Nt(i,r)}}e+=i>65535?2:1}return Nt(n.length,t.length)}function nT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function TM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Nt(n[e],t[e]);return Nt(n.length,t.length)}function sl(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-62135596800,sT=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(t){return Ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*sT);return new Ue(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<iT)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-iT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ue(0,0))}static max(){return new Rt(new Ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class Li{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Li.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Nt(t.length,e.length)}static compareSegments(t,e){const i=Li.isNumericId(t),r=Li.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Li.extractNumericId(t).compare(Li.extractNumericId(e)):e_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ar.fromString(t.substring(4,t.length-2))}}class oe extends Li{construct(t,e,i){return new oe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new dt(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new oe(e)}static emptyPath(){return new oe([])}}const SM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Li{construct(t,e,i){return new tn(t,e,i)}static isValidIdentifier(t){return SM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new tn([rT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new dt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new dt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new dt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(e)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function wM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(i===1e9?new Ue(e+1,0):new Ue(e,i));return new Ir(r,yt.empty(),t)}function AM(n){return new Ir(n.readTime,n.key,gc)}class Ir{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ir(Rt.min(),yt.empty(),gc)}static max(){return new Ir(Rt.max(),yt.empty(),gc)}}function RM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Nt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==xM)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):st.reject(e)}static resolve(t){return new st((e,i)=>{e(t)})}static reject(t){return new st((e,i)=>{i(t)})}static waitFor(t){return new st((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},f=>i(f))}),u=!0,o===r&&e()})}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next(r=>r?st.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new st((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(_=>{u[g]=_,++h,h===o&&i(u)},_=>r(_))}})}static doWhile(t,e){return new st((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function IM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _l(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-1;function qd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function DM(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="";function OM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=aT(t)),t=NM(n.get(e),t);return aT(t)}function NM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case OA:e+="";break;default:e+=o}}return e}function aT(n){return n+OA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $a(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function NA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pf(this.root,t,this.comparator,!1)}getReverseIterator(){return new pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pf(this.root,t,this.comparator,!0)}}class pf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Je.RED,this.left=r??Je.EMPTY,this.right=o??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Je(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Je.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(t){return new lT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new je(this.comparator);return e.data=t,e}}class lT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new li([])}unionWith(t){let e=new je(tn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new li(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MA("Invalid base64 string: "+o):o}}(t);return new nn(e)}static fromUint8Array(t){const e=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=MM.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="server_timestamp",PA="__type__",LA="__previous_value__",VA="__local_write_time__";function Y_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[PA])===null||e===void 0?void 0:e.stringValue)===kA}function Gd(n){const t=n.mapValue.fields[LA];return Y_(t)?Gd(t):t}function pc(n){const t=Dr(n.mapValue.fields[VA].timestampValue);return new Ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,e,i,r,o,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}const ld="(default)";class mc{constructor(t,e){this.projectId=t,this.database=e||ld}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(t){return t instanceof mc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="__type__",PM="__max__",mf={mapValue:{}},jA="__vector__",ud="value";function Nr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y_(n)?4:VM(n)?9007199254740991:LM(n)?10:11:St(28295,{value:n})}function Gi(n,t){if(n===t)return!0;const e=Nr(n);if(e!==Nr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pc(n).isEqual(pc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Dr(r.timestampValue),h=Dr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return Or(r.bytesValue).isEqual(Or(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Ee(r.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ee(r.integerValue)===Ee(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Ee(r.doubleValue),h=Ee(o.doubleValue);return u===h?od(u)===od(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return sl(n.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(oT(u)!==oT(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Gi(u[f],h[f])))return!1;return!0}(n,t);default:return St(52216,{left:n})}}function _c(n,t){return(n.values||[]).find(e=>Gi(e,t))!==void 0}function rl(n,t){if(n===t)return 0;const e=Nr(n),i=Nr(t);if(e!==i)return Nt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=Ee(o.integerValue||o.doubleValue),f=Ee(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return uT(n.timestampValue,t.timestampValue);case 4:return uT(pc(n),pc(t));case 5:return e_(n.stringValue,t.stringValue);case 6:return function(o,u){const h=Or(o),f=Or(u);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=Nt(h[g],f[g]);if(_!==0)return _}return Nt(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=Nt(Ee(o.latitude),Ee(u.latitude));return h!==0?h:Nt(Ee(o.longitude),Ee(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return cT(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,g,_;const v=o.fields||{},b=u.fields||{},S=(h=v[ud])===null||h===void 0?void 0:h.arrayValue,w=(f=b[ud])===null||f===void 0?void 0:f.arrayValue,D=Nt(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((_=w==null?void 0:w.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:cT(S,w)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===mf.mapValue&&u===mf.mapValue)return 0;if(o===mf.mapValue)return 1;if(u===mf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const b=e_(f[v],_[v]);if(b!==0)return b;const S=rl(h[f[v]],g[_[v]]);if(S!==0)return S}return Nt(f.length,_.length)}(n.mapValue,t.mapValue);default:throw St(23264,{Pe:e})}}function uT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Nt(n,t);const e=Dr(n),i=Dr(t),r=Nt(e.seconds,i.seconds);return r!==0?r:Nt(e.nanos,i.nanos)}function cT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=rl(e[r],i[r]);if(o)return o}return Nt(e.length,i.length)}function al(n){return n_(n)}function n_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Dr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Or(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return yt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=n_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${n_(e.fields[u])}`;return r+"}"}(n.mapValue):St(61005,{value:n})}function qf(n){switch(Nr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gd(n);return t?16+qf(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+qf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return $a(i.fields,(o,u)=>{r+=o.length+qf(u)}),r}(n.mapValue);default:throw St(13486,{value:n})}}function hT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function i_(n){return!!n&&"integerValue"in n}function K_(n){return!!n&&"arrayValue"in n}function fT(n){return!!n&&"nullValue"in n}function dT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function LM(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[UA])===null||e===void 0?void 0:e.stringValue)===jA}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return $a(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=tc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=tc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function VM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===PM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.value=t}static empty(){return new Jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Gf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=tc(e)}setAll(t){let e=tn.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=tc(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Gf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){$a(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Jn(tc(this.value))}}function zA(n){const t=[];return $a(n.fields,(e,i)=>{const r=new tn([e]);if(Gf(i)){const o=zA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new li(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new un(t,0,Rt.min(),Rt.min(),Rt.min(),Jn.empty(),0)}static newFoundDocument(t,e,i,r){return new un(t,1,e,Rt.min(),i,r,0)}static newNoDocument(t,e){return new un(t,2,e,Rt.min(),Rt.min(),Jn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,Rt.min(),Rt.min(),Jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,e){this.position=t,this.inclusive=e}}function gT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(u.referenceValue),e.key):i=rl(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function pT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,e="asc"){this.field=t,this.dir=e}}function UM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{}class Ce extends BA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new zM(t,e,i):e==="array-contains"?new HM(t,i):e==="in"?new qM(t,i):e==="not-in"?new GM(t,i):e==="array-contains-any"?new $M(t,i):new Ce(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new BM(t,i):new FM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(rl(e,this.value)):e!==null&&Nr(this.value)===Nr(e)&&this.matchesComparison(rl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends BA{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new fi(t,e)}matches(t){return FA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FA(n){return n.op==="and"}function HA(n){return jM(n)&&FA(n)}function jM(n){for(const t of n.filters)if(t instanceof fi)return!1;return!0}function s_(n){if(n instanceof Ce)return n.field.canonicalString()+n.op.toString()+al(n.value);if(HA(n))return n.filters.map(t=>s_(t)).join(",");{const t=n.filters.map(e=>s_(e)).join(",");return`${n.op}(${t})`}}function qA(n,t){return n instanceof Ce?function(i,r){return r instanceof Ce&&i.op===r.op&&i.field.isEqual(r.field)&&Gi(i.value,r.value)}(n,t):n instanceof fi?function(i,r){return r instanceof fi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,u,h)=>o&&qA(u,r.filters[h]),!0):!1}(n,t):void St(19439)}function GA(n){return n instanceof Ce?function(e){return`${e.field.canonicalString()} ${e.op} ${al(e.value)}`}(n):n instanceof fi?function(e){return e.op.toString()+" {"+e.getFilters().map(GA).join(" ,")+"}"}(n):"Filter"}class zM extends Ce{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class BM extends Ce{constructor(t,e){super(t,"in",e),this.keys=$A("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class FM extends Ce{constructor(t,e){super(t,"not-in",e),this.keys=$A("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function $A(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>yt.fromName(i.referenceValue))}class HM extends Ce{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return K_(e)&&_c(e.arrayValue,this.value)}}class qM extends Ce{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&_c(this.value.arrayValue,e)}}class GM extends Ce{constructor(t,e){super(t,"not-in",e)}matches(t){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!_c(this.value.arrayValue,e)}}class $M extends Ce{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!K_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>_c(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function mT(n,t=null,e=[],i=[],r=null,o=null,u=null){return new YM(n,t,e,i,r,o,u)}function W_(n){const t=Ct(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>s_(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),qd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>al(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>al(i)).join(",")),t.Ie=e}return t.Ie}function Q_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!UM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!qA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!pT(n.startAt,t.startAt)&&pT(n.endAt,t.endAt)}function r_(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KM(n,t,e,i,r,o,u,h){return new yl(n,t,e,i,r,o,u,h)}function $d(n){return new yl(n)}function _T(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YA(n){return n.collectionGroup!==null}function ec(n){const t=Ct(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new je(tn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new yc(o,i))}),e.has(tn.keyField().canonicalString())||t.Ee.push(new yc(tn.keyField(),i))}return t.Ee}function Fi(n){const t=Ct(n);return t.de||(t.de=WM(t,ec(n))),t.de}function WM(n,t){if(n.limitType==="F")return mT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new yc(r.field,o)});const e=n.endAt?new cd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new cd(n.startAt.position,n.startAt.inclusive):null;return mT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function a_(n,t){const e=n.filters.concat([t]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function hd(n,t,e){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Yd(n,t){return Q_(Fi(n),Fi(t))&&n.limitType===t.limitType}function KA(n){return`${W_(Fi(n))}|lt:${n.limitType}`}function Yo(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>GA(r)).join(", ")}]`),qd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>al(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>al(r)).join(",")),`Target(${i})`}(Fi(n))}; limitType=${n.limitType})`}function Kd(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of ec(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(u,h,f){const g=gT(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,ec(i),r)||i.endAt&&!function(u,h,f){const g=gT(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,ec(i),r))}(n,t)}function QM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WA(n){return(t,e)=>{let i=!1;for(const r of ec(n)){const o=XM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function XM(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?rl(f,g):St(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$a(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return NA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new de(yt.comparator);function Ps(){return ZM}const QA=new de(yt.comparator);function qu(...n){let t=QA;for(const e of n)t=t.insert(e.key,e);return t}function XA(n){let t=QA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ca(){return nc()}function ZA(){return nc()}function nc(){return new Ya(n=>n.toString(),(n,t)=>n.isEqual(t))}const JM=new de(yt.comparator),tk=new je(yt.comparator);function Vt(...n){let t=tk;for(const e of n)t=t.add(e);return t}const ek=new je(Nt);function nk(){return ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(t)?"-0":t}}function JA(n){return{integerValue:""+n}}function ik(n,t){return DM(t)?JA(t):X_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function sk(n,t,e){return n instanceof fd?function(r,o){const u={fields:{[PA]:{stringValue:kA},[VA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Y_(o)&&(o=Gd(o)),o&&(u.fields[LA]=o),{mapValue:u}}(e,t):n instanceof vc?eR(n,t):n instanceof bc?nR(n,t):function(r,o){const u=tR(r,o),h=yT(u)+yT(r.Re);return i_(u)&&i_(r.Re)?JA(h):X_(r.serializer,h)}(n,t)}function rk(n,t,e){return n instanceof vc?eR(n,t):n instanceof bc?nR(n,t):e}function tR(n,t){return n instanceof dd?function(i){return i_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class fd extends Wd{}class vc extends Wd{constructor(t){super(),this.elements=t}}function eR(n,t){const e=iR(t);for(const i of n.elements)e.some(r=>Gi(r,i))||e.push(i);return{arrayValue:{values:e}}}class bc extends Wd{constructor(t){super(),this.elements=t}}function nR(n,t){let e=iR(t);for(const i of n.elements)e=e.filter(r=>!Gi(r,i));return{arrayValue:{values:e}}}class dd extends Wd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function yT(n){return Ee(n.integerValue||n.doubleValue)}function iR(n){return K_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ak(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof vc&&r instanceof vc||i instanceof bc&&r instanceof bc?sl(i.elements,r.elements,Gi):i instanceof dd&&r instanceof dd?Gi(i.Re,r.Re):i instanceof fd&&r instanceof fd}(n.transform,t.transform)}class ok{constructor(t,e){this.version=t,this.transformResults=e}}class Hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Hi}static exists(t){return new Hi(void 0,t)}static updateTime(t){return new Hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $f(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Qd{}function sR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new aR(n.key,Hi.none()):new kc(n.key,n.data,Hi.none());{const e=n.data,i=Jn.empty();let r=new je(tn.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new Ka(n.key,i,new li(r.toArray()),Hi.none())}}function lk(n,t,e){n instanceof kc?function(r,o,u){const h=r.value.clone(),f=bT(r.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Ka?function(r,o,u){if(!$f(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=bT(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(rR(r)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function ic(n,t,e,i){return n instanceof kc?function(o,u,h,f){if(!$f(o.precondition,u))return h;const g=o.value.clone(),_=ET(o.fieldTransforms,f,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ka?function(o,u,h,f){if(!$f(o.precondition,u))return h;const g=ET(o.fieldTransforms,f,u),_=u.data;return _.setAll(rR(o)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,h){return $f(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function uk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=tR(i.transform,r||null);o!=null&&(e===null&&(e=Jn.empty()),e.set(i.field,o))}return e||null}function vT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&sl(i,r,(o,u)=>ak(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class kc extends Qd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ka extends Qd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rR(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function bT(n,t,e){const i=new Map;Yt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,rk(u,h,e[r]))}return i}function ET(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,sk(o,u,t))}return i}class aR extends Qd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Qd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&lk(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ic(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ic(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=ZA();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const f=sR(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,(e,i)=>vT(e,i))&&sl(this.baseMutations,t.baseMutations,(e,i)=>vT(e,i))}}class Z_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Yt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return JM}();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Z_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Bt;function gk(n){switch(n){case it.OK:return St(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function oR(n){if(n===void 0)return ks("GRPC error has no .code"),it.UNKNOWN;switch(n){case xe.OK:return it.OK;case xe.CANCELLED:return it.CANCELLED;case xe.UNKNOWN:return it.UNKNOWN;case xe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case xe.INTERNAL:return it.INTERNAL;case xe.UNAVAILABLE:return it.UNAVAILABLE;case xe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case xe.NOT_FOUND:return it.NOT_FOUND;case xe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case xe.ABORTED:return it.ABORTED;case xe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case xe.DATA_LOSS:return it.DATA_LOSS;default:return St(39323,{code:n})}}(Bt=xe||(xe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Ar([4294967295,4294967295],0);function TT(n){const t=IA().encode(n),e=new EA;return e.update(t),new Uint8Array(e.digest())}function ST(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ar([e,i],0),new Ar([r,o],0)]}class J_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Gu(`Invalid padding: ${e}`);if(i<0)throw new Gu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ar.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(Ar.fromNumber(i)));return r.compare(pk)===1&&(r=new Ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=TT(t),[i,r]=ST(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,r,o);if(!this.be(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new J_(o,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.pe===0)return;const e=TT(t),[i,r]=ST(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,r,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Pc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Xd(Rt.min(),r,new de(Nt),Ps(),Vt())}}class Pc{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Pc(i,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class lR{constructor(t,e){this.targetId=t,this.Ce=e}}class uR{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class wT{constructor(){this.Fe=0,this.Me=AT(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),e=Vt(),i=Vt();return this.Me.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}}),new Pc(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=AT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mk{constructor(t){this.ze=t,this.je=new Map,this.He=Ps(),this.Je=_f(),this.Ye=_f(),this.Ze=new de(Nt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const o=r.target;if(r_(o))if(i===0){const u=new yt(o.path);this.tt(e,u,un.newNoDocument(u,Rt.min()))}else Yt(i===1,20013,{expectedCount:i});else{const u=this.ut(e);if(u!==i){const h=this.ct(t),f=h?this.lt(h,t,u):1;if(f!==0){this.st(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let u,h;try{u=Or(i).toUint8Array()}catch(f){if(f instanceof MA)return il("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new J_(u,r,o)}catch(f){return il(f instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.tt(e,o,null),r++)}),r}It(t){const e=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&r_(h.target)){const f=new yt(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,un.newNoDocument(f,t))}o.Le&&(e.set(u,o.qe()),o.Qe())}});let i=Vt();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const g=this._t(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(t));const r=new Xd(t,e,this.Ze,this.He,i);return this.He=Ps(),this.Je=_f(),this.Ye=_f(),this.Ze=new de(Nt),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new wT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new je(Nt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new je(Nt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new wT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function _f(){return new de(yt.comparator)}function AT(){return new de(yt.comparator)}const _k={asc:"ASCENDING",desc:"DESCENDING"},yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vk={and:"AND",or:"OR"};class bk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function o_(n,t){return n.useProto3Json||qd(t)?t:{value:t}}function gd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ek(n,t){return gd(n,t.toTimestamp())}function qi(n){return Yt(!!n,49232),Rt.fromTimestamp(function(e){const i=Dr(e);return new Ue(i.seconds,i.nanos)}(n))}function ty(n,t){return l_(n,t).canonicalString()}function l_(n,t){const e=function(r){return new oe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function hR(n){const t=oe.fromString(n);return Yt(mR(t),10190,{key:t.toString()}),t}function u_(n,t){return ty(n.databaseId,t.path)}function xm(n,t){const e=hR(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(dR(e))}function fR(n,t){return ty(n.databaseId,t)}function Tk(n){const t=hR(n);return t.length===4?oe.emptyPath():dR(t)}function c_(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dR(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RT(n,t,e){return{name:u_(n,t),fields:e.value.mapValue.fields}}function Sk(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,_){return g.useProto3Json?(Yt(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Yt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const _=g.code===void 0?it.UNKNOWN:oR(g.code);return new dt(_,g.message||"")}(u);e=new uR(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=xm(n,i.document.name),o=qi(i.document.updateTime),u=i.document.createTime?qi(i.document.createTime):Rt.min(),h=new Jn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(r,o,u,h),g=i.targetIds||[],_=i.removedTargetIds||[];e=new Yf(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=xm(n,i.document),o=i.readTime?qi(i.readTime):Rt.min(),u=un.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Yf([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=xm(n,i.document),o=i.removedTargetIds||[];e=new Yf([],o,r,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new dk(r,o),h=i.targetId;e=new lR(h,u)}}return e}function wk(n,t){let e;if(t instanceof kc)e={update:RT(n,t.key,t.value)};else if(t instanceof aR)e={delete:u_(n,t.key)};else if(t instanceof Ka)e={update:RT(n,t.key,t.data),updateMask:Mk(t.fieldMask)};else{if(!(t instanceof ck))return St(16599,{ft:t.type});e={verify:u_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof fd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dd)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw St(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Ek(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)}(n,t.precondition)),e}function Ak(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map(e=>function(r,o){let u=r.updateTime?qi(r.updateTime):qi(o);return u.isEqual(Rt.min())&&(u=qi(o)),new ok(u,r.transformResults||[])}(e,t))):[]}function Rk(n,t){return{documents:[fR(n,t.path)]}}function xk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=fR(n,r);const o=function(g){if(g.length!==0)return pR(fi.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:Ko(b.field),direction:Dk(b.dir)}}(_))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=o_(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:r}}function Ck(n){let t=Tk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Yt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(v){const b=gR(v);return b instanceof fi&&HA(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(w){return new yc(Wo(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,qd(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(v){const b=!!v.before,S=v.values||[];return new cd(S,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,S=v.values||[];return new cd(S,b)}(e.endAt)),KM(t,r,u,o,h,"F",f,g)}function Ik(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gR(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Wo(e.unaryFilter.field);return Ce.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Wo(e.unaryFilter.field);return Ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wo(e.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(e.unaryFilter.field);return Ce.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ce.create(Wo(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return fi.create(e.compositeFilter.filters.map(i=>gR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(e.compositeFilter.op))}(n):St(30097,{filter:n})}function Dk(n){return _k[n]}function Ok(n){return yk[n]}function Nk(n){return vk[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Wo(n){return tn.fromServerFormat(n.fieldPath)}function pR(n){return n instanceof Ce?function(e){if(e.op==="=="){if(dT(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NAN"}};if(fT(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dT(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NOT_NAN"}};if(fT(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(e.field),op:Ok(e.op),value:e.value}}}(n):n instanceof fi?function(e){const i=e.getFilters().map(r=>pR(r));return i.length===1?i[0]:{compositeFilter:{op:Nk(e.op),filters:i}}}(n):St(54877,{filter:n})}function Mk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,e,i,r,o=Rt.min(),u=Rt.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t){this.wt=t}}function Pk(n){const t=Ck({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.yn=new Vk}addToCollectionParentIndex(t,e){return this.yn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Ir.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class Vk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new je(oe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new je(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_R=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(_R,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new ol(0)}static ir(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="LruGarbageCollector",Uk=1048576;function IT([n,t],[e,i]){const r=Nt(n,e);return r===0?Nt(t,i):r}class jk{constructor(t){this.cr=t,this.buffer=new je(IT),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();IT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ht(CT,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_l(e)?ht(CT,"Ignoring IndexedDB error during garbage collection: ",e):await ml(e)}await this.Ir(3e5)})}}class Bk{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Hd.le);const i=new jk(e);return this.Er.forEachTarget(t,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(t,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(xT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,r,o,u,h,f,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(g=Date.now(),$o()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function Fk(n,t){return new Bk(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.changes=new Ya(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&ic(i.mutation,r,li.empty(),Ue.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=Ca();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=qu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Ca();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Ps();const u=nc(),h=function(){return nc()}();return e.forEach((f,g)=>{const _=i.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof Ka)?o=o.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),ic(_.mutation,g,_.mutation.getFieldMask(),Ue.now())):u.set(g.key,li.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,_)=>u.set(g,_)),e.forEach((g,_)=>{var v;return h.set(g,new qk(_,(v=u.get(g))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=nc();let r=new de((u,h)=>u-h),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let _=i.get(f)||li.empty();_=h.applyToLocalView(g,_),i.set(f,_);const v=(r.get(h.batchId)||Vt()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,v=ZA();_.forEach(b=>{if(!o.has(b)){const S=sR(e.get(b),i.get(b));S!==null&&v.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return st.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(u){return yt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):YA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(Ca());let h=gc,f=o;return u.next(g=>st.forEach(g,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{f=f.insert(_,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,Vt())).next(_=>({batchId:h,changes:XA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next(i=>{let r=qu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let u=qu();return this.indexManager.getCollectionParents(t,o).next(h=>st.forEach(h,f=>{const g=function(v,b){return new yl(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(_=>{_.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(u=>{o.forEach((f,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,un.newInvalidDocument(_)))});let h=qu();return u.forEach((f,g)=>{const _=o.get(f);_!==void 0&&ic(_.mutation,g,li.empty(),Ue.now()),Kd(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return st.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:qi(r.createTime)}}(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(r){return{name:r.name,query:Pk(r.bundledQuery),readTime:qi(r.readTime)}}(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.overlays=new de(yt.comparator),this.Or=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ca();return st.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=Ca(),o=e.length+1,u=new yt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new de((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=o.get(g.largestBatchId);_===null&&(_=Ca(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Ca(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new fk(e,i));let o=this.Or.get(e);o===void 0&&(o=Vt(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Nr=new je($e.Br),this.Lr=new je($e.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new $e(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new $e(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new yt(new oe([])),i=new $e(e,t),r=new $e(e,t+1),o=[];return this.Lr.forEachInRange([i,r],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new yt(new oe([])),i=new $e(e,t),r=new $e(e,t+1);let o=Vt();return this.Lr.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new $e(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class $e{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return yt.comparator(t.key,e.key)||Nt(t.Gr,e.Gr)}static kr(t,e){return Nt(t.Gr,e.Gr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new je($e.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new hk(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.zr=this.zr.add(new $e(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(u)}lookupMutationBatch(t,e){return st.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Hr(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?$_:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $e(e,0),r=new $e(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,r],u=>{const h=this.jr(u.Gr);o.push(h)}),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new je(Nt);return e.forEach(r=>{const o=new $e(r,0),u=new $e(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{i=i.add(h.Gr)})}),st.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const u=new $e(new yt(o),0);let h=new je(Nt);return this.zr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Gr)),!0)},u),st.resolve(this.Jr(h))}Jr(t){const e=[];return t.forEach(i=>{const r=this.jr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return st.forEach(e.mutations,r=>{const o=new $e(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new $e(e,0),r=this.zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t){this.Zr=t,this.docs=function(){return new de(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=Ps();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))}),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ps();const u=e.path,h=new yt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||RM(AM(_),i)<=0||(r.has(_.key)||Kd(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}Xr(t,e){return st.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Xk(this)}getSize(t){return st.resolve(this.size)}}class Xk extends Hk{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.vr.addEntry(t,r)):this.vr.removeEntry(i)}),st.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t){this.persistence=t,this.ei=new Ya(e=>W_(e),Q_),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new ey,this.targetCount=0,this.ri=ol.rr()}forEachTarget(t,e){return this.ei.forEach((i,r)=>e(r)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),st.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new ol(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.ar(e),st.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),st.waitFor(o).next(()=>r)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,e){this.ii={},this.overlays={},this.si=new Hd(0),this.oi=!1,this.oi=!0,this._i=new Kk,this.referenceDelegate=t(this),this.ai=new Zk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(r){return new Qk(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new kk(e),this.ci=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Yk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new Wk(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new Jk(this.si.next());return this.referenceDelegate.li(),i(r).next(o=>this.referenceDelegate.hi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Pi(t,e){return st.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class Jk extends CM{constructor(t){super(),this.currentSequenceNumber=t}}class ny{constructor(t){this.persistence=t,this.Ti=new ey,this.Ii=null}static Ei(t){return new ny(t)}get di(){if(this.Ii)return this.Ii;throw St(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,i=>{const r=yt.fromPath(i);return this.Ai(t,r).next(o=>{o||e.removeEntry(r,Rt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return st.or([()=>st.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class pd{constructor(t,e){this.persistence=t,this.Ri=new Ya(i=>OM(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Fk(this,e)}static Ei(t,e){return new pd(t,e)}li(){}hi(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return st.forEach(this.Ri,(i,r)=>this.gr(t,i,r).next(o=>o?st.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(t,u=>this.gr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,Rt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),st.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=qf(t.data.value)),e}gr(t,e,i){return st.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.Ri.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=r}static Ps(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new iy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return k2()?8:IM(hn())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(t,e,r,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new tP;return this.fs(t,e,u).next(h=>{if(o.result=h,this.Is)return this.gs(t,e,u,h.size)})}).next(()=>o.result)}gs(t,e,i,r){return i.documentReadCount<this.Es?($o()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Yo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):($o()<=Lt.DEBUG&&ht("QueryEngine","Query:",Yo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?($o()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Yo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(e))):st.resolve())}Rs(t,e){if(_T(e))return st.resolve(null);let i=Fi(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=hd(e,null,"F"),i=Fi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Vt(...o);return this.As.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ps(e,h);return this.ys(e,g,u,f.readTime)?this.Rs(t,hd(e,null,"F")):this.ws(t,g,e,f)}))})))}Vs(t,e,i,r){return _T(e)||r.isEqual(Rt.min())?st.resolve(null):this.As.getDocuments(t,i).next(o=>{const u=this.ps(e,o);return this.ys(e,u,i,r)?st.resolve(null):($o()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yo(e)),this.ws(t,u,e,wM(r,gc)).next(h=>h))})}ps(t,e){let i=new je(WA(t));return e.forEach((r,o)=>{Kd(t,o)&&(i=i.add(o))}),i}ys(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(t,e,i){return $o()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Yo(e)),this.As.getDocumentsMatchingQuery(t,e,Ir.min(),i)}ws(t,e,i,r){return this.As.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="LocalStore",nP=3e8;class iP{constructor(t,e,i,r){this.persistence=t,this.bs=e,this.serializer=r,this.Ss=new de(Nt),this.Ds=new Ya(o=>W_(o),Q_),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gk(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function sP(n,t,e,i){return new iP(n,t,e,i)}async function vR(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Vt();for(const g of r){u.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Ms:g,removedBatchIds:u,addedBatchIds:h}))})})}function rP(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,_){const v=g.batch,b=v.keys();let S=st.resolve();return b.forEach(w=>{S=S.next(()=>_.getEntry(f,w)).next(D=>{const C=g.docVersions.get(w);Yt(C!==null,48541),D.version.compareTo(C)<0&&(v.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),_.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Vt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function bR(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function aP(n,t){const e=Ct(n),i=t.snapshotVersion;let r=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Cs.newChangeBuffer({trackRemovals:!0});r=e.Ss;const h=[];t.targetChanges.forEach((_,v)=>{const b=r.get(v);if(!b)return;h.push(e.ai.removeMatchingKeys(o,_.removedDocuments,v).next(()=>e.ai.addMatchingKeys(o,_.addedDocuments,v)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(nn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),r=r.insert(v,S),function(D,C,N){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=nP?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(b,S,_)&&h.push(e.ai.updateTargetData(o,S))});let f=Ps(),g=Vt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(oP(o,u,t.documentUpdates).next(_=>{f=_.xs,g=_.Os})),!i.isEqual(Rt.min())){const _=e.ai.getLastRemoteSnapshotVersion(o).next(v=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return st.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Ss=r,o))}function oP(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Ps();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Rt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ht(sy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{xs:u,Os:r}})}function lP(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=$_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function uP(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ai.getTargetData(i,t).next(o=>o?(r=o,st.resolve(r)):e.ai.allocateTargetId(i).next(u=>(r=new br(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function h_(n,t,e){const i=Ct(n),r=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!_l(u))throw u;ht(sy,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(r.target)}function DT(n,t,e){const i=Ct(n);let r=Rt.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,_){const v=Ct(f),b=v.Ds.get(_);return b!==void 0?st.resolve(v.Ss.get(b)):v.ai.getTargetData(g,_)}(i,u,Fi(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.bs.getDocumentsMatchingQuery(u,t,e?r:Rt.min(),e?o:Vt())).next(h=>(cP(i,QM(t),h),{documents:h,Ns:o})))}function cP(n,t,e){let i=n.vs.get(t)||Rt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class OT{constructor(){this.activeTargetIds=nk()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hP{constructor(){this.So=new OT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new OT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="ConnectivityMonitor";class MT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ht(NT,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ht(NT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function f_(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",dP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gP{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===ld?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(t,e,i,r,o){const u=f_(),h=this.$o(t,e.toUriEncodedString());ht(Cm,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,r,o),this.Ko(t,h,f,i).then(g=>(ht(Cm,`Received RPC '${t}' ${u}: `,g),g),g=>{throw il(Cm,`RPC '${t}' ${u} failed with error: `,g,"url: ",h,"request:",i),g})}Wo(t,e,i,r,o,u){return this.Qo(t,e,i,r,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}$o(t,e){const i=dP[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class mP extends gP{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,r){const o=f_();return new Promise((u,h)=>{const f=new TA;f.setWithCredentials(!0),f.listenOnce(SA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Hf.NO_ERROR:const _=f.getResponseJson();ht(on,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),u(_);break;case Hf.TIMEOUT:ht(on,`RPC '${t}' ${o} timed out`),h(new dt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const v=f.getStatus();if(ht(on,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const w=function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(N)>=0?N:it.UNKNOWN}(S.status);h(new dt(w,S.message))}else h(new dt(it.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new dt(it.UNAVAILABLE,"Connection failed."));break;default:St(9055,{s_:t,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ht(on,`RPC '${t}' ${o} completed.`)}});const g=JSON.stringify(r);ht(on,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",g,i,15)})}a_(t,e,i){const r=f_(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=RA(),h=AA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");ht(on,`Creating RPC '${t}' stream ${r}: ${_}`,f);const v=u.createWebChannel(_,f);let b=!1,S=!1;const w=new pP({Go:C=>{S?ht(on,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(b||(ht(on,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ht(on,`RPC '${t}' stream ${r} sending:`,C),v.send(C))},zo:()=>v.close()}),D=(C,N,B)=>{C.listen(N,F=>{try{B(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return D(v,Hu.EventType.OPEN,()=>{S||(ht(on,`RPC '${t}' stream ${r} transport opened.`),w.t_())}),D(v,Hu.EventType.CLOSE,()=>{S||(S=!0,ht(on,`RPC '${t}' stream ${r} transport closed`),w.r_())}),D(v,Hu.EventType.ERROR,C=>{S||(S=!0,il(on,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),w.r_(new dt(it.UNAVAILABLE,"The operation could not be completed")))}),D(v,Hu.EventType.MESSAGE,C=>{var N;if(!S){const B=C.data[0];Yt(!!B,16349);const F=B,Z=(F==null?void 0:F.error)||((N=F[0])===null||N===void 0?void 0:N.error);if(Z){ht(on,`RPC '${t}' stream ${r} received error:`,Z);const J=Z.status;let ot=function(O){const P=xe[O];if(P!==void 0)return oR(P)}(J),k=Z.message;ot===void 0&&(ot=it.INTERNAL,k="Unknown error status: "+J+" with message "+Z.message),S=!0,w.r_(new dt(ot,k)),v.close()}else ht(on,`RPC '${t}' stream ${r} received:`,B),w.i_(B)}}),D(h,wA.STAT_EVENT,C=>{C.stat===t_.PROXY?ht(on,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===t_.NOPROXY&&ht(on,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.n_()},0),w}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new bk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,e,i=1e3,r=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class TR{constructor(t,e,i,r,o,u,h,f){this.bi=t,this.R_=i,this.V_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ER(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(ks(e.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===e&&this.B_(i,r)},i=>{t(()=>{const r=new dt(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ht(kT,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(ht(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _P extends TR{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=Sk(this.serializer,t),i=function(o){if(!("targetChange"in o))return Rt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Rt.min():u.readTime?qi(u.readTime):Rt.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=c_(this.serializer),e.addTarget=function(o,u){let h;const f=u.target;if(h=r_(f)?{documents:Rk(o,f)}:{query:xk(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=cR(o,u.resumeToken);const g=o_(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Rt.min())>0){h.readTime=gd(o,u.snapshotVersion.toTimestamp());const g=o_(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=Ik(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=c_(this.serializer),e.removeTarget=t,this.F_(e)}}class yP extends TR{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=Ak(t.writeResults,t.commitTime),i=qi(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=c_(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>wk(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{}class bP extends vP{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(t,l_(e,i),r,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(it.UNKNOWN,o.toString())})}Wo(t,e,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,l_(e,i),r,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(it.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class EP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ks(e),this.ea=!1):ht("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class TP{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{Wa(this)&&(ht(ja,"Restarting streams for network reachability change."),await async function(f){const g=Ct(f);g.aa.add(4),await Lc(g),g.la.set("Unknown"),g.aa.delete(4),await Jd(g)}(this))})}),this.la=new EP(i,r)}}async function Jd(n){if(Wa(n))for(const t of n.ua)await t(!0)}async function Lc(n){for(const t of n.ua)await t(!1)}function SR(n,t){const e=Ct(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),ly(e)?oy(e):vl(e).b_()&&ay(e,t))}function ry(n,t){const e=Ct(n),i=vl(e);e._a.delete(t),i.b_()&&wR(e,t),e._a.size===0&&(i.b_()?i.v_():Wa(e)&&e.la.set("Unknown"))}function ay(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vl(n).U_(t)}function wR(n,t){n.ha.Ke(t),vl(n).K_(t)}function oy(n){n.ha=new mk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.la.ta()}function ly(n){return Wa(n)&&!vl(n).w_()&&n._a.size>0}function Wa(n){return Ct(n).aa.size===0}function AR(n){n.ha=void 0}async function SP(n){n.la.set("Online")}async function wP(n){n._a.forEach((t,e)=>{ay(n,t)})}async function AP(n,t){AR(n),ly(n)?(n.la.ia(t),oy(n)):n.la.set("Unknown")}async function RP(n,t,e){if(n.la.set("Online"),t instanceof uR&&t.state===2&&t.cause)try{await async function(r,o){const u=o.cause;for(const h of o.targetIds)r._a.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r._a.delete(h),r.ha.removeTarget(h))}(n,t)}catch(i){ht(ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await md(n,i)}else if(t instanceof Yf?n.ha.Xe(t):t instanceof lR?n.ha.ot(t):n.ha.nt(t),!e.isEqual(Rt.min()))try{const i=await bR(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o._a.get(g);_&&o._a.set(g,_.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const _=o._a.get(f);if(!_)return;o._a.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),wR(o,f);const v=new br(_.target,f,g,_.sequenceNumber);ay(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(ja,"Failed to raise snapshot:",i),await md(n,i)}}async function md(n,t,e){if(!_l(t))throw t;n.aa.add(1),await Lc(n),n.la.set("Offline"),e||(e=()=>bR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(ja,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await Jd(n)})}function RR(n,t){return t().catch(e=>md(n,e,t))}async function tg(n){const t=Ct(n),e=Mr(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:$_;for(;xP(t);)try{const r=await lP(t.localStore,i);if(r===null){t.oa.length===0&&e.v_();break}i=r.batchId,CP(t,r)}catch(r){await md(t,r)}xR(t)&&CR(t)}function xP(n){return Wa(n)&&n.oa.length<10}function CP(n,t){n.oa.push(t);const e=Mr(n);e.b_()&&e.W_&&e.G_(t.mutations)}function xR(n){return Wa(n)&&!Mr(n).w_()&&n.oa.length>0}function CR(n){Mr(n).start()}async function IP(n){Mr(n).H_()}async function DP(n){const t=Mr(n);for(const e of n.oa)t.G_(e.mutations)}async function OP(n,t,e){const i=n.oa.shift(),r=Z_.from(i,t,e);await RR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await tg(n)}async function NP(n,t){t&&Mr(n).W_&&await async function(i,r){if(function(u){return gk(u)&&u!==it.ABORTED}(r.code)){const o=i.oa.shift();Mr(i).D_(),await RR(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await tg(i)}}(n,t),xR(n)&&CR(n)}async function PT(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ht(ja,"RemoteStore received new credentials");const i=Wa(e);e.aa.add(3),await Lc(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await Jd(e)}async function MP(n,t){const e=Ct(n);t?(e.aa.delete(2),await Jd(e)):t||(e.aa.add(2),await Lc(e),e.la.set("Unknown"))}function vl(n){return n.Pa||(n.Pa=function(e,i,r){const o=Ct(e);return o.Y_(),new _P(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:SP.bind(null,n),Jo:wP.bind(null,n),Zo:AP.bind(null,n),Q_:RP.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),ly(n)?oy(n):n.la.set("Unknown")):(await n.Pa.stop(),AR(n))})),n.Pa}function Mr(n){return n.Ta||(n.Ta=function(e,i,r){const o=Ct(e);return o.Y_(),new yP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:IP.bind(null,n),Zo:NP.bind(null,n),z_:DP.bind(null,n),j_:OP.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await tg(n)):(await n.Ta.stop(),n.oa.length>0&&(ht(ja,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new uy(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,t){if(ks("AsyncQueue",`${t}: ${n}`),_l(n))return new dt(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(t){return new el(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=qu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof el)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new el;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.Ia=new de(yt.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):St(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class ll{constructor(t,e,i,r,o,u,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new ll(t,e,el.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class PP{constructor(){this.queries=VT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const r=Ct(e),o=r.queries;r.queries=VT(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(i)})})(this,new dt(it.ABORTED,"Firestore shutting down"))}}function VT(){return new Ya(n=>KA(n),Yd)}async function hy(n,t){const e=Ct(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Va()&&t.ma()&&(i=2):(o=new kP,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(r,!0);break;case 1:o.Aa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(u){const h=cy(u,`Initialization of query '${Yo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&dy(e)}async function fy(n,t){const e=Ct(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const u=o.Ra.indexOf(t);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?r=t.ma()?0:1:!o.Va()&&t.ma()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function LP(n,t){const e=Ct(n);let i=!1;for(const r of t){const o=r.query,u=e.queries.get(o);if(u){for(const h of u.Ra)h.pa(r)&&(i=!0);u.Aa=r}}i&&dy(e)}function VP(n,t,e){const i=Ct(n),r=i.queries.get(t);if(r)for(const o of r.Ra)o.onError(e);i.queries.delete(t)}function dy(n){n.fa.forEach(t=>{t.next()})}var d_,UT;(UT=d_||(d_={})).ya="default",UT.Cache="cache";class gy{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ll(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==d_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.key=t}}class DR{constructor(t){this.key=t}}class UP{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=WA(t),this.Ka=new el(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new LT,r=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,v)=>{const b=r.get(_),S=Kd(this.query,v)?v:null,w=!!b&&this.mutatedKeys.has(b.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;b&&S?b.data.isEqual(S.data)?w!==D&&(i.track({type:3,doc:S}),C=!0):this.ja(b,S)||(i.track({type:2,doc:S}),C=!0,(f&&this.Ua(S,f)>0||g&&this.Ua(S,g)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),C=!0):b&&!S&&(i.track({type:1,doc:b}),C=!0,(f||g)&&(h=!0)),C&&(S?(u=u.add(S),o=D?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{Ka:u,za:i,ys:h,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const u=t.za.da();u.sort((_,v)=>function(S,w){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:C})}};return D(S)-D(w)}(_.type,v.type)||this.Ua(_.doc,v.doc)),this.Ha(i),r=r!=null&&r;const h=e&&!r?this.Ja():[],f=this.$a.size===0&&this.current&&!r?1:0,g=f!==this.Qa;return this.Qa=f,u.length!==0||g?{snapshot:new ll(this.query,t.Ka,o,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new LT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Vt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new DR(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new IR(i))}),e}Xa(t){this.qa=t.Ns,this.$a=Vt();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return ll.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const py="SyncEngine";class jP{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zP{constructor(t){this.key=t,this.tu=!1}}class BP{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ya(h=>KA(h),Yd),this.iu=new Map,this.su=new Set,this.ou=new de(yt.comparator),this._u=new Map,this.au=new ey,this.uu={},this.cu=new Map,this.lu=ol.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function FP(n,t,e=!0){const i=LR(n);let r;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.eu()):r=await OR(i,t,e,!0),r}async function HP(n,t){const e=LR(n);await OR(e,t,!0,!1)}async function OR(n,t,e,i){const r=await uP(n.localStore,Fi(t)),o=r.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await qP(n,t,o,u==="current",r.resumeToken)),n.isPrimaryClient&&e&&SR(n.remoteStore,r),h}async function qP(n,t,e,i,r){n.Pu=(v,b,S)=>async function(D,C,N,B){let F=C.view.Ga(N);F.ys&&(F=await DT(D.localStore,C.query,!1).then(({documents:k})=>C.view.Ga(k,F)));const Z=B&&B.targetChanges.get(C.targetId),J=B&&B.targetMismatches.get(C.targetId)!=null,ot=C.view.applyChanges(F,D.isPrimaryClient,Z,J);return zT(D,C.targetId,ot.Ya),ot.snapshot}(n,v,b,S);const o=await DT(n.localStore,t,!0),u=new UP(t,o.Ns),h=u.Ga(o.documents),f=Pc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=u.applyChanges(h,n.isPrimaryClient,f);zT(n,e,g.Ya);const _=new jP(t,e,u);return n.ru.set(t,_),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),g.snapshot}async function GP(n,t,e){const i=Ct(n),r=i.ru.get(t),o=i.iu.get(r.targetId);if(o.length>1)return i.iu.set(r.targetId,o.filter(u=>!Yd(u,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await h_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&ry(i.remoteStore,r.targetId),g_(i,r.targetId)}).catch(ml)):(g_(i,r.targetId),await h_(i.localStore,r.targetId,!0))}async function $P(n,t){const e=Ct(n),i=e.ru.get(t),r=e.iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ry(e.remoteStore,i.targetId))}async function YP(n,t,e){const i=tL(n);try{const r=await function(u,h){const f=Ct(u),g=Ue.now(),_=h.reduce((S,w)=>S.add(w.key),Vt());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let w=Ps(),D=Vt();return f.Cs.getEntries(S,_).next(C=>{w=C,w.forEach((N,B)=>{B.isValidDocument()||(D=D.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,w)).next(C=>{v=C;const N=[];for(const B of h){const F=uk(B,v.get(B.key).overlayedDocument);F!=null&&N.push(new Ka(B.key,F,zA(F.value.mapValue),Hi.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,N,h)}).next(C=>{b=C;const N=C.applyToLocalDocumentSet(v,D);return f.documentOverlayCache.saveOverlays(S,C.batchId,N)})}).then(()=>({batchId:b.batchId,changes:XA(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,f){let g=u.uu[u.currentUser.toKey()];g||(g=new de(Nt)),g=g.insert(h,f),u.uu[u.currentUser.toKey()]=g}(i,r.batchId,e),await Vc(i,r.changes),await tg(i.remoteStore)}catch(r){const o=cy(r,"Failed to persist write");e.reject(o)}}async function NR(n,t){const e=Ct(n);try{const i=await aP(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e._u.get(o);u&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.tu=!0:r.modifiedDocuments.size>0?Yt(u.tu,14607):r.removedDocuments.size>0&&(Yt(u.tu,42227),u.tu=!1))}),await Vc(e,i,t)}catch(i){await ml(i)}}function jT(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.ru.forEach((o,u)=>{const h=u.view.ga(t);h.snapshot&&r.push(h.snapshot)}),function(u,h){const f=Ct(u);f.onlineState=h;let g=!1;f.queries.forEach((_,v)=>{for(const b of v.Ra)b.ga(h)&&(g=!0)}),g&&dy(f)}(i.eventManager,t),r.length&&i.nu.Q_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function KP(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i._u.get(t),o=r&&r.key;if(o){let u=new de(yt.comparator);u=u.insert(o,un.newNoDocument(o,Rt.min()));const h=Vt().add(o),f=new Xd(Rt.min(),new Map,new de(Nt),u,h);await NR(i,f),i.ou=i.ou.remove(o),i._u.delete(t),my(i)}else await h_(i.localStore,t,!1).then(()=>g_(i,t,e)).catch(ml)}async function WP(n,t){const e=Ct(n),i=t.batch.batchId;try{const r=await rP(e.localStore,t);kR(e,i,null),MR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Vc(e,r)}catch(r){await ml(r)}}async function QP(n,t,e){const i=Ct(n);try{const r=await function(u,h){const f=Ct(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next(v=>(Yt(v!==null,37113),_=v.keys(),f.mutationQueue.removeMutationBatch(g,v))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(i.localStore,t);kR(i,t,e),MR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Vc(i,r)}catch(r){await ml(r)}}function MR(n,t){(n.cu.get(t)||[]).forEach(e=>{e.resolve()}),n.cu.delete(t)}function kR(n,t,e){const i=Ct(n);let r=i.uu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.uu[i.currentUser.toKey()]=r}}function g_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||PR(n,i)})}function PR(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(ry(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),my(n))}function zT(n,t,e){for(const i of e)i instanceof IR?(n.au.addReference(i.key,t),XP(n,i)):i instanceof DR?(ht(py,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||PR(n,i.key)):St(19791,{Iu:i})}function XP(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(ht(py,"New document in limbo: "+e),n.su.add(i),my(n))}function my(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new yt(oe.fromString(t)),i=n.lu.next();n._u.set(i,new zP(e)),n.ou=n.ou.insert(e,i),SR(n.remoteStore,new br(Fi($d(e.path)),i,"TargetPurposeLimboResolution",Hd.le))}}async function Vc(n,t,e){const i=Ct(n),r=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,f)=>{u.push(i.Pu(f,t,e).then(g=>{var _;if((g||e)&&i.isPrimaryClient){const v=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){r.push(g);const v=iy.Ps(f.targetId,g);o.push(v)}}))}),await Promise.all(u),i.nu.Q_(r),await async function(f,g){const _=Ct(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>st.forEach(g,b=>st.forEach(b.ls,S=>_.persistence.referenceDelegate.addReference(v,b.targetId,S)).next(()=>st.forEach(b.hs,S=>_.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))}catch(v){if(!_l(v))throw v;ht(sy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const S=_.Ss.get(b),w=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(w);_.Ss=_.Ss.insert(b,D)}}}(i.localStore,o))}async function ZP(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ht(py,"User change. New user:",t.toKey());const i=await vR(e.localStore,t);e.currentUser=t,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new dt(it.CANCELLED,u))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Vc(e,i.Ms)}}function JP(n,t){const e=Ct(n),i=e._u.get(t);if(i&&i.tu)return Vt().add(i.key);{let r=Vt();const o=e.iu.get(t);if(!o)return r;for(const u of o){const h=e.ru.get(u);r=r.unionWith(h.view.Wa)}return r}}function LR(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=NR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KP.bind(null,t),t.nu.Q_=LP.bind(null,t.eventManager),t.nu.Tu=VP.bind(null,t.eventManager),t}function tL(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QP.bind(null,t),t}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zd(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return sP(this.persistence,new eP,t.initialUser,this.serializer)}Ru(t){return new yR(ny.Ei,this.serializer)}Au(t){return new hP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class eL extends _d{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Yt(this.persistence.referenceDelegate instanceof pd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zk(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new yR(i=>pd.Ei(i,e),this.serializer)}}class p_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZP.bind(null,this.syncEngine),await MP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new PP}()}createDatastore(t){const e=Zd(t.databaseInfo.databaseId),i=function(o){return new mP(o)}(t.databaseInfo);return function(o,u,h,f){return new bP(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,u,h){return new TP(i,r,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>jT(this.syncEngine,e,0),function(){return MT.C()?new MT:new fP}())}createSyncEngine(t,e){return function(r,o,u,h,f,g,_){const v=new BP(r,o,u,h,f,g);return _&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Ct(r);ht(ja,"RemoteStore shutting down."),o.aa.add(5),await Lc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}p_.provider={build:()=>new p_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ks("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class nL{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ln.UNAUTHENTICATED,this.clientId=DA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{ht(kr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ht(kr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=cy(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Dm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await vR(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function BT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await iL(n);ht(kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>PT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>PT(t.remoteStore,r)),n._onlineComponents=t}async function iL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(kr,"Using user provided OfflineComponentProvider");try{await Dm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===it.FAILED_PRECONDITION||r.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;il("Error using user provided cache. Falling back to memory cache: "+e),await Dm(n,new _d)}}else ht(kr,"Using default OfflineComponentProvider"),await Dm(n,new eL(void 0));return n._offlineComponents}async function VR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(kr,"Using user provided OnlineComponentProvider"),await BT(n,n._uninitializedComponentsProvider._online)):(ht(kr,"Using default OnlineComponentProvider"),await BT(n,new p_))),n._onlineComponents}function sL(n){return VR(n).then(t=>t.syncEngine)}async function yd(n){const t=await VR(n),e=t.eventManager;return e.onListen=FP.bind(null,t.syncEngine),e.onUnlisten=GP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=HP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=$P.bind(null,t.syncEngine),e}function rL(n,t,e={}){const i=new Is;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const _=new _y({next:b=>{_.yu(),u.enqueueAndForget(()=>fy(o,v));const S=b.docs.has(h);!S&&b.fromCache?g.reject(new dt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&f&&f.source==="server"?g.reject(new dt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new gy($d(h.path),_,{includeMetadataChanges:!0,Fa:!0});return hy(o,v)}(await yd(n),n.asyncQueue,t,e,i)),i.promise}function aL(n,t,e={}){const i=new Is;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const _=new _y({next:b=>{_.yu(),u.enqueueAndForget(()=>fy(o,v)),b.fromCache&&f.source==="server"?g.reject(new dt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new gy(h,_,{includeMetadataChanges:!0,Fa:!0});return hy(o,v)}(await yd(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n,t,e){if(!e)throw new dt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function oL(n,t,e,i){if(t===!0&&i===!0)throw new dt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function HT(n){if(!yt.isDocumentKey(n))throw new dt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qT(n){if(yt.isDocumentKey(n))throw new dt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function ui(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=eg(n);throw new dt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firestore.googleapis.com",GT=!0;class $T{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zR,this.ssl=GT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:GT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_R;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uk)throw new dt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ng{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pM;switch(i.type){case"firstParty":return new vM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new dt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=FT.get(e);i&&(ht("ComponentProvider","Removing Datastore"),FT.delete(e),i.terminate())}(this),Promise.resolve()}}function lL(n,t,e,i={}){var r;const o=(n=ui(n,ng))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${t}:${e}`;o.host!==zR&&o.host!==h&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!ka(f,u)&&(n._setSettings(f),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=ln.MOCK_USER;else{g=Pw(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new dt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ln(v)}n._authCredentials=new mM(new CA(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Vs(this.firestore,t,this._query)}}class _n{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class Rr extends Vs{constructor(t,e,i){super(t,e,$d(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new yt(t))}withConverter(t){return new Rr(this.firestore,t,this._path)}}function Ia(n,t,...e){if(n=De(n),jR("collection","path",t),n instanceof ng){const i=oe.fromString(t,...e);return qT(i),new Rr(n,null,i)}{if(!(n instanceof _n||n instanceof Rr))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return qT(i),new Rr(n.firestore,null,i)}}function Oa(n,t,...e){if(n=De(n),arguments.length===1&&(t=DA.newId()),jR("doc","path",t),n instanceof ng){const i=oe.fromString(t,...e);return HT(i),new _n(n,null,new yt(i))}{if(!(n instanceof _n||n instanceof Rr))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return HT(i),new _n(n.firestore,n instanceof Rr?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="AsyncQueue";class KT{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ER(this,"async_queue_retry"),this.ju=()=>{const i=Im();i&&ht(YT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=Im();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Im();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new Is;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!_l(t))throw t;ht(YT,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,ks("INTERNAL UNHANDLED ERROR: ",WT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const r=uy.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(r),r}Ju(){this.Ku&&St(47125,{ec:WT(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function WT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class za extends ng{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new KT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new KT(t),this._firestoreClient=void 0,await t}}}function uL(n,t){const e=typeof n=="object"?n:P_(),i=typeof n=="string"?n:ld,r=jd(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Nw("firestore");o&&lL(r,...o)}return r}function ig(n){if(n._terminated)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||cL(n),n._firestoreClient}function cL(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,_){return new kM(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,UR(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new nL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ul(nn.fromBase64String(t))}catch(e){throw new dt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ul(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new dt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=/^__.*__$/;class fL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,e,this.fieldTransforms):new kc(t,this.data,e,this.fieldTransforms)}}function FR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{oc:n})}}class Ey{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Ey(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r.lc(t),r}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return vd(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(FR(this.oc)&&hL.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class dL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Zd(t)}dc(t,e,i,r=!1){return new Ey({oc:t,methodName:e,Ec:i,path:tn.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(n){const t=n._freezeSettings(),e=Zd(n._databaseId);return new dL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function HR(n,t,e,i,r,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,t,e,r);$R("Data must be an object, but it was:",u,i);const h=qR(i,u);let f,g;if(o.merge)f=new li(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const b=pL(t,v,e);if(!u.contains(b))throw new dt(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);_L(_,b)||_.push(b)}f=new li(_),g=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,g=u.fieldTransforms;return new fL(new Jn(h),f,g)}function gL(n,t,e,i=!1){return Sy(e,n.dc(i?4:3,t))}function Sy(n,t){if(GR(n=De(n)))return $R("Unsupported field value:",t,n),qR(n,t);if(n instanceof BR)return function(i,r){if(!FR(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,r){const o=[];let u=0;for(const h of i){let f=Sy(h,r.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=De(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ik(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ue.fromDate(i);return{timestampValue:gd(r.serializer,o)}}if(i instanceof Ue){const o=new Ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gd(r.serializer,o)}}if(i instanceof vy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ul)return{bytesValue:cR(r.serializer,i._byteString)};if(i instanceof _n){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ty(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof by)return function(u,h){return{mapValue:{fields:{[UA]:{stringValue:jA},[ud]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.Tc("VectorValues must only contain numeric values.");return X_(h.serializer,g)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${eg(i)}`)}(n,t)}function qR(n,t){const e={};return NA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$a(n,(i,r)=>{const o=Sy(r,t.uc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function GR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof vy||n instanceof ul||n instanceof _n||n instanceof BR||n instanceof by)}function $R(n,t,e){if(!GR(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=eg(e);throw i==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+i)}}function pL(n,t,e){if((t=De(t))instanceof yy)return t._internalPath;if(typeof t=="string")return YR(n,t);throw vd("Field path arguments must be of type string or ",n,!1,void 0,e)}const mL=new RegExp("[~\\*/\\[\\]]");function YR(n,t,e){if(t.search(mL)>=0)throw vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new yy(...t.split("."))._internalPath}catch{throw vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vd(n,t,e,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new dt(it.INVALID_ARGUMENT,h+n+f)}function _L(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(sg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class yL extends KR{data(){return super.data()}}function sg(n,t){return typeof t=="string"?YR(n,t):t instanceof yy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wy{}class Ay extends wy{}function bd(n,t,...e){let i=[];t instanceof wy&&i.push(t),i=i.concat(e),function(o){const u=o.filter(f=>f instanceof Ry).length,h=o.filter(f=>f instanceof rg).length;if(u>1||u>0&&h>0)throw new dt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class rg extends Ay{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new rg(t,e,i)}_apply(t){const e=this._parse(t);return QR(t._query,e),new Vs(t.firestore,t.converter,a_(t._query,e))}_parse(t){const e=Ty(t.firestore);return function(o,u,h,f,g,_,v){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new dt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){ZT(v,_);const w=[];for(const D of v)w.push(XT(f,o,D));b={arrayValue:{values:w}}}else b=XT(f,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||ZT(v,_),b=gL(h,u,v,_==="in"||_==="not-in");return Ce.create(g,_,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Kf(n,t,e){const i=t,r=sg("where",n);return rg._create(r,i,e)}class Ry extends wy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ry(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let u=r;const h=o.getFlattenedFilters();for(const f of h)QR(u,f),u=a_(u,f)}(t._query,e),new Vs(t.firestore,t.converter,a_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xy extends Ay{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new xy(t,e)}_apply(t){const e=function(r,o,u){if(r.startAt!==null)throw new dt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new dt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(o,u)}(t._query,this._field,this._direction);return new Vs(t.firestore,t.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new yl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function vL(n,t="asc"){const e=t,i=sg("orderBy",n);return xy._create(i,e)}class Cy extends Ay{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Cy(t,e,i)}_apply(t){return new Vs(t.firestore,t.converter,hd(t._query,this._limit,this._limitType))}}function bL(n){return Cy._create("limit",n,"F")}function XT(n,t,e){if(typeof(e=De(e))=="string"){if(e==="")throw new dt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YA(t)&&e.indexOf("/")!==-1)throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(oe.fromString(e));if(!yt.isDocumentKey(i))throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hT(n,new yt(i))}if(e instanceof _n)return hT(n,e._key);throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eg(e)}.`)}function ZT(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QR(n,t){const e=function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new dt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class EL{convertValue(t,e="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return $a(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[ud].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>Ee(u.doubleValue));return new by(o)}convertGeoPoint(t){return new vy(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Gd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(pc(t));default:return null}}convertTimestamp(t){const e=Dr(t);return new Ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=oe.fromString(t);Yt(mR(i),9688,{name:t});const r=new mc(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||ks(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ZR extends KR{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(sg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Wf extends ZR{data(t={}){return super.data(t)}}class JR{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $u(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Wf(this._firestore,this._userDataWriter,i.key,i,new $u(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>{const f=new Wf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new $u(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Wf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new $u(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:TL(h.type),doc:f,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function TL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n){n=ui(n,_n);const t=ui(n.firestore,za);return rL(ig(t),n._key).then(e=>i1(t,n,e))}class Dy extends EL{constructor(t){super(),this.firestore=t}convertBytes(t){return new ul(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,e)}}function Ed(n){n=ui(n,Vs);const t=ui(n.firestore,za),e=ig(t),i=new Dy(t);return WR(n._query),aL(e,n._query).then(r=>new JR(t,i,n,r))}function JT(n,t,e){n=ui(n,_n);const i=ui(n.firestore,za),r=XR(n.converter,t,e);return n1(i,[HR(Ty(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Hi.none())])}function t1(n,t){const e=ui(n.firestore,za),i=Oa(n),r=XR(n.converter,t);return n1(e,[HR(Ty(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Hi.exists(!1))]).then(()=>i)}function e1(n,...t){var e,i,r;n=De(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof t[u]!="object"||QT(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QT(t[u])){const v=t[u];t[u]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[u+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[u+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let f,g,_;if(n instanceof _n)g=ui(n.firestore,za),_=$d(n._key.path),f={next:v=>{t[u]&&t[u](i1(g,n,v))},error:t[u+1],complete:t[u+2]};else{const v=ui(n,Vs);g=ui(v.firestore,za),_=v._query;const b=new Dy(g);f={next:S=>{t[u]&&t[u](new JR(g,b,v,S))},error:t[u+1],complete:t[u+2]},WR(n._query)}return function(b,S,w,D){const C=new _y(D),N=new gy(S,C,w);return b.asyncQueue.enqueueAndForget(async()=>hy(await yd(b),N)),()=>{C.yu(),b.asyncQueue.enqueueAndForget(async()=>fy(await yd(b),N))}}(ig(g),_,h,f)}function n1(n,t){return function(i,r){const o=new Is;return i.asyncQueue.enqueueAndForget(async()=>YP(await sL(i),r,o)),o.promise}(ig(n),t)}function i1(n,t,e){const i=e.docs.get(t._key),r=new Dy(n);return new ZR(n,r,t._key,i,new $u(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){pl=r})(qa),Pa(new Cr("firestore",(i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new za(new _M(i.getProvider("auth-internal")),new bM(u,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new dt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(g.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ji(JE,tT,t),ji(JE,tT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",r1="storageBucket",SL=2*60*1e3,wL=10*60*1e3,AL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge extends Yi{constructor(t,e,i=0){super(Om(t),`Firebase Storage: ${e} (${Om(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ge.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Om(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var le;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(le||(le={}));function Om(n){return"storage/"+n}function Oy(){const n="An unknown error occurred, please check the error payload for server response.";return new ge(le.UNKNOWN,n)}function RL(n){return new ge(le.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function xL(n){return new ge(le.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ge(le.UNAUTHENTICATED,n)}function IL(){return new ge(le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DL(n){return new ge(le.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function a1(){return new ge(le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o1(){return new ge(le.CANCELED,"User canceled the upload/download.")}function OL(n){return new ge(le.INVALID_URL,"Invalid URL '"+n+"'.")}function NL(n){return new ge(le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ML(){return new ge(le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r1+"' property when initializing the app?")}function l1(){return new ge(le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kL(){return new ge(le.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function PL(){return new ge(le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LL(n){return new ge(le.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function m_(n){return new ge(le.INVALID_ARGUMENT,n)}function u1(){return new ge(le.APP_DELETED,"The Firebase app was deleted.")}function VL(n){return new ge(le.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(n,t){return new ge(le.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Pu(n){throw new ge(le.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Vn.makeFromUrl(t,e)}catch{return new Vn(t,"")}if(i.path==="")return i;throw NL(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),f={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${_}/b/${r}/o${b}`,"i"),w={bucket:1,path:3},D=e===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,C="([^?#]*)",N=new RegExp(`^https?://${D}/${r}/${C}`,"i"),F=[{regex:h,indices:f,postModify:o},{regex:S,indices:w,postModify:g},{regex:N,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<F.length;Z++){const J=F[Z],ot=J.regex.exec(t);if(ot){const k=ot[J.indices.bucket];let I=ot[J.indices.path];I||(I=""),i=new Vn(k,I),J.postModify(i);break}}if(i==null)throw OL(t);return i}}class UL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n,t,e){let i=1,r=null,o=null,u=!1,h=0;function f(){return h===2}let g=!1;function _(...C){g||(g=!0,t.apply(null,C))}function v(C){r=setTimeout(()=>{r=null,n(S,f())},C)}function b(){o&&clearTimeout(o)}function S(C,...N){if(g){b();return}if(C){b(),_.call(null,C,...N);return}if(f()||u){b(),_.call(null,C,...N);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,v(F)}let w=!1;function D(C){w||(w=!0,b(),!g&&(r!==null?(C||(h=2),clearTimeout(r),v(0)):C||(h=1)))}return v(0),o=setTimeout(()=>{u=!0,D(!0)},e),D}function zL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){return n!==void 0}function FL(n){return typeof n=="function"}function HL(n){return typeof n=="object"&&!Array.isArray(n)}function ag(n){return typeof n=="string"||n instanceof String}function tS(n){return Ny()&&n instanceof Blob}function Ny(){return typeof Blob<"u"}function eS(n,t,e,i){if(i<t)throw m_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw m_(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function c1(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Na;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Na||(Na={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t,e,i,r,o,u,h,f,g,_,v,b=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,w)=>{this.resolve_=S,this.reject_=w,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new vf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Na.NO_ERROR,f=o.getStatus();if(!h||h1(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Na.ABORT;i(!1,new vf(!1,null,_));return}const g=this.successCodes_.indexOf(f)!==-1;i(!0,new vf(g,o))})},e=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());BL(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=Oy();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(r.canceled){const f=this.appDelete_?u1():o1();u(f)}else{const f=a1();u(f)}};this.canceled_?e(!1,new vf(!1,null,!0)):this.backoffId_=jL(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&zL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vf{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function GL(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function $L(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function YL(n,t){t&&(n["X-Firebase-GMPID"]=t)}function KL(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function WL(n,t,e,i,r,o,u=!0){const h=c1(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return YL(g,t),GL(g,e),$L(g,o),KL(g,i),new qL(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XL(...n){const t=QL();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(Ny())return new Blob(n);throw new ge(le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZL(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(n){if(typeof atob>"u")throw LL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nm{constructor(t,e){this.data=t,this.contentType=e||null}}function tV(n,t){switch(n){case Vi.RAW:return new Nm(f1(t));case Vi.BASE64:case Vi.BASE64URL:return new Nm(d1(n,t));case Vi.DATA_URL:return new Nm(nV(t),iV(t))}throw Oy()}function f1(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=i,u=n.charCodeAt(++e);i=65536|(o&1023)<<10|u&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function eV(n){let t;try{t=decodeURIComponent(n)}catch{throw sc(Vi.DATA_URL,"Malformed data URL.")}return f1(t)}function d1(n,t){switch(n){case Vi.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw sc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw sc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=JL(t)}catch(r){throw r.message.includes("polyfill")?r:sc(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class g1{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw sc(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=sV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function nV(n){const t=new g1(n);return t.base64?d1(Vi.BASE64,t.rest):eV(t.rest)}function iV(n){return new g1(n).contentType}function sV(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,e){let i=0,r="";tS(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(tS(this.data_)){const i=this.data_,r=ZL(i,t,e);return r===null?null:new vr(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new vr(i,!0)}}static getBlob(...t){if(Ny()){const e=t.map(i=>i instanceof vr?i.data_:i);return new vr(XL.apply(null,e))}else{const e=t.map(u=>ag(u)?tV(Vi.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new vr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n){let t;try{t=JSON.parse(n)}catch{return null}return HL(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function aV(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function m1(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n,t){return t}class mn{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||oV}}let bf=null;function lV(n){return!ag(n)||n.length<2?n:m1(n)}function _1(){if(bf)return bf;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function t(o,u){return lV(u)}const e=new mn("name");e.xform=t,n.push(e);function i(o,u){return u!==void 0?Number(u):u}const r=new mn("size");return r.xform=i,n.push(r),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),bf=n,bf}function uV(n,t){function e(){const i=n.bucket,r=n.fullPath,o=new Vn(i,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function cV(n,t,e){const i={};i.type="file";const r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return uV(i,n),i}function y1(n,t,e){const i=p1(t);return i===null?null:cV(n,i,e)}function hV(n,t,e,i){const r=p1(t);if(r===null||!ag(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(g=>{const _=n.bucket,v=n.fullPath,b="/b/"+u(_)+"/o/"+u(v),S=Uc(b,e,i),w=c1({alt:"media",token:g});return S+w})[0]}function v1(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class bl{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n){if(!n)throw Oy()}function My(n,t){function e(i,r){const o=y1(n,r,t);return Ds(o!==null),o}return e}function fV(n,t){function e(i,r){const o=y1(n,r,t);return Ds(o!==null),hV(o,r,n.host,n._protocol)}return e}function jc(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=IL():r=CL():e.getStatus()===402?r=xL(n.bucket):e.getStatus()===403?r=DL(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function b1(n){const t=jc(n);function e(i,r){let o=t(i,r);return i.getStatus()===404&&(o=RL(n.path)),o.serverResponse=r.serverResponse,o}return e}function dV(n,t,e){const i=t.fullServerUrl(),r=Uc(i,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new bl(r,o,My(n,e),u);return h.errorHandler=b1(t),h}function gV(n,t,e){const i=t.fullServerUrl(),r=Uc(i,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new bl(r,o,fV(n,e),u);return h.errorHandler=b1(t),h}function pV(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function E1(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=pV(null,t)),i}function mV(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let Z=0;Z<2;Z++)F=F+Math.random().toString().slice(2);return F}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const g=E1(t,i,r),_=v1(g,e),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+f+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+f+"--",S=vr.getBlob(v,i,b);if(S===null)throw l1();const w={name:g.fullPath},D=Uc(o,n.host,n._protocol),C="POST",N=n.maxUploadRetryTime,B=new bl(D,C,My(n,e),N);return B.urlParams=w,B.headers=u,B.body=S.uploadData(),B.errorHandler=jc(t),B}class Td{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function ky(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ds(!1)}return Ds(!!e&&(t||["active"]).indexOf(e)!==-1),e}function _V(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u=E1(t,i,r),h={name:u.fullPath},f=Uc(o,n.host,n._protocol),g="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},v=v1(u,e),b=n.maxUploadRetryTime;function S(D){ky(D);let C;try{C=D.getResponseHeader("X-Goog-Upload-URL")}catch{Ds(!1)}return Ds(ag(C)),C}const w=new bl(f,g,S,b);return w.urlParams=h,w.headers=_,w.body=v,w.errorHandler=jc(t),w}function yV(n,t,e,i){const r={"X-Goog-Upload-Command":"query"};function o(g){const _=ky(g,["active","final"]);let v=null;try{v=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ds(!1)}v||Ds(!1);const b=Number(v);return Ds(!isNaN(b)),new Td(b,i.size(),_==="final")}const u="POST",h=n.maxUploadRetryTime,f=new bl(e,u,o,h);return f.headers=r,f.errorHandler=jc(t),f}const nS=256*1024;function vV(n,t,e,i,r,o,u,h){const f=new Td(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw kL();const g=f.total-f.current;let _=g;r>0&&(_=Math.min(_,r));const v=f.current,b=v+_;let S="";_===0?S="finalize":g===_?S="upload, finalize":S="upload";const w={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${f.current}`},D=i.slice(v,b);if(D===null)throw l1();function C(Z,J){const ot=ky(Z,["active","final"]),k=f.current+_,I=i.size();let O;return ot==="final"?O=My(t,o)(Z,J):O=null,new Td(k,I,ot==="final",O)}const N="POST",B=t.maxUploadRetryTime,F=new bl(e,N,C,B);return F.headers=w,F.body=D.uploadData(),F.progressCallback=h||null,F.errorHandler=jc(n),F}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mm(n){switch(n){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t,e,i){if(FL(t)||e!=null||i!=null)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class EV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Na.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Na.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Na.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Pu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class TV extends EV{initXhr(){this.xhr_.responseType="text"}}function Qo(){return new TV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=_1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(le.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(h1(r.status,[]))if(o)r=a1();else{this.sleepTime=Math.max(this.sleepTime*2,AL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(le.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,e)=>{const i=_V(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Qo,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=yV(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Qo,e,i);this._request=o,o.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=nS*this._chunkMultiplier,e=new Td(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let u;try{u=vV(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(u,Qo,r,o,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){nS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=dV(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Qo,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=mV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Qo,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e=this._state==="paused";this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=o1(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=Mm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new bV(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);e!==-1&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Mm(this._state)){case Sn.SUCCESS:Ho(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:const e=this._reject;Ho(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Mm(this._state)){case Sn.RUNNING:case Sn.PAUSED:t.next&&Ho(t.next.bind(t,this.snapshot))();break;case Sn.SUCCESS:t.complete&&Ho(t.complete.bind(t))();break;case Sn.CANCELED:case Sn.ERROR:t.error&&Ho(t.error.bind(t,this._error))();break;default:t.error&&Ho(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,e){this._service=t,e instanceof Vn?this._location=e:this._location=Vn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ba(t,e)}get root(){const t=new Vn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m1(this._location.path)}get storage(){return this._service}get parent(){const t=rV(this._location.path);if(t===null)return null;const e=new Vn(this._location.bucket,t);return new Ba(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw VL(t)}}function wV(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new SV(n,new vr(t),e)}function AV(n){n._throwIfRoot("getDownloadURL");const t=gV(n.storage,n._location,_1());return n.storage.makeRequestWithTokens(t,Qo).then(e=>{if(e===null)throw PL();return e})}function RV(n,t){const e=aV(n._location.path,t),i=new Vn(n._location.bucket,e);return new Ba(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){return/^[A-Za-z]+:\/\//.test(n)}function CV(n,t){return new Ba(n,t)}function T1(n,t){if(n instanceof Py){const e=n;if(e._bucket==null)throw ML();const i=new Ba(e,e._bucket);return t!=null?T1(i,t):i}else return t!==void 0?RV(n,t):n}function IV(n,t){if(t&&xV(t)){if(n instanceof Py)return CV(n,t);throw m_("To use ref(service, url), the first argument must be a Storage instance.")}else return T1(n,t)}function iS(n,t){const e=t==null?void 0:t[r1];return e==null?null:Vn.makeFromBucketSpec(e,n)}function DV(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Pw(r,n.app.options.projectId))}class Py{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=wL,this._requests=new Set,r!=null?this._bucket=Vn.makeFromBucketSpec(r,this._host):this._bucket=iS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,t):this._bucket=iS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){eS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){eS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ba(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new UL(u1());{const u=WL(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const sS="@firebase/storage",rS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="storage";function w1(n,t,e){return n=De(n),wV(n,t,e)}function A1(n){return n=De(n),AV(n)}function R1(n,t){return n=De(n),IV(n,t)}function OV(n=P_(),t){n=De(n);const i=jd(n,S1).getImmediate({identifier:t}),r=Nw("storage");return r&&NV(i,...r),i}function NV(n,t,e,i={}){DV(n,t,e,i)}function MV(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Py(e,i,r,t,qa)}function kV(){Pa(new Cr(S1,MV,"PUBLIC").setMultipleInstances(!0)),ji(sS,rS,""),ji(sS,rS,"esm2017")}kV();const PV={apiKey:"AIzaSyDjhOg3jmEzS-2fOuHtNAnowzI05TYZSeA",authDomain:"sparkfund-7d356.firebaseapp.com",projectId:"sparkfund-7d356",storageBucket:"sparkfund-7d356.firebasestorage.app",messagingSenderId:"802077296116",appId:"1:802077296116:web:cc81782c086a0417d4e5a1"},Ly=Uw(PV),Ef=dM(Ly),Un=uL(Ly),x1=OV(Ly),C1=q.createContext();function LV({children:n}){const[t,e]=q.useState(null),[i,r]=q.useState(!0);function o(g,_){return XO(Ef,g,_)}function u(g,_){return ZO(Ef,g,_)}function h(){return nN(Ef)}q.useEffect(()=>eN(Ef,_=>{e(_),r(!1)}),[]);const f={currentUser:t,signup:o,login:u,logout:h};return R.jsx(C1.Provider,{value:f,children:!i&&n})}function Ki(){return q.useContext(C1)}const VV=q.createContext();function UV({children:n}){const{currentUser:t}=Ki(),[e,i]=q.useState(null),[r,o]=q.useState(!0);q.useEffect(()=>{if(!t){o(!1);return}const h=e1(Oa(Un,"startups",t.uid),f=>{f.exists()?i(f.data()):i(null),o(!1)});return()=>h()},[t]);const u={startupData:e,loading:r};return R.jsx(VV.Provider,{value:u,children:n})}function Tf({children:n}){const{currentUser:t}=Ki();return t?n:R.jsx(VI,{to:"/login"})}var I1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=Ui.createContext&&Ui.createContext(I1),jV=["attr","size","title"];function zV(n,t){if(n==null)return{};var e=BV(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function BV(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Sd(){return Sd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sd.apply(this,arguments)}function oS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function wd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(e),!0).forEach(function(i){FV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function FV(n,t,e){return t=HV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function HV(n){var t=qV(n,"string");return typeof t=="symbol"?t:t+""}function qV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function D1(n){return n&&n.map((t,e)=>Ui.createElement(t.tag,wd({key:e},t.attr),D1(t.child)))}function El(n){return t=>Ui.createElement(GV,Sd({attr:wd({},n.attr)},t),D1(n.child))}function GV(n){var t=e=>{var{attr:i,size:r,title:o}=n,u=zV(n,jV),h=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),Ui.createElement("svg",Sd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:f,style:wd(wd({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ui.createElement("title",null,o),n.children)};return aS!==void 0?Ui.createElement(aS.Consumer,null,e=>t(e)):t(I1)}function $V(n){return El({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function YV(n){return El({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function KV(n){return El({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function WV(n){return El({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function QV(n){return El({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(n)}function XV(n){return El({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function ZV(){const{currentUser:n,logout:t}=Ki(),e=Rc(),i=async()=>{try{await t(),e("/login")}catch(r){console.error("Failed to log out",r)}};return R.jsxs("nav",{className:"navbar",children:[R.jsx("div",{className:"navbar-brand",children:R.jsx(Le,{to:"/",children:"StartupSim"})}),n&&R.jsxs("div",{className:"navbar-links",children:[R.jsxs(Le,{to:"/dashboard",children:[R.jsx(YV,{})," Dashboard"]}),R.jsxs(Le,{to:"/profile",children:[R.jsx(QV,{})," My Startup"]}),R.jsxs(Le,{to:"/funding",children:[R.jsx(KV,{})," Funding"]}),R.jsxs(Le,{to:"/pitch-room",children:[R.jsx(XV,{})," Pitch Room"]}),R.jsxs(Le,{to:"/leaderboard",children:[R.jsx($V,{})," Leaderboard"]})]}),R.jsx("div",{className:"navbar-auth",children:n?R.jsxs("button",{onClick:i,className:"logout-btn",children:[R.jsx(WV,{})," Logout"]}):R.jsxs(R.Fragment,{children:[R.jsx(Le,{to:"/login",children:"Login"}),R.jsx(Le,{to:"/register",children:"Register"})]})})]})}function JV(){const{currentUser:n}=Ki();return R.jsxs("div",{className:"home-page",children:[R.jsxs("div",{className:"hero-section",children:[R.jsxs("div",{className:"hero-content",children:[R.jsx("h1",{children:"Startup Pitch Simulator"}),R.jsx("p",{children:"Practice your pitch, simulate funding rounds, and get feedback from mock investors"}),R.jsx("div",{className:"hero-buttons",children:n?R.jsx(Le,{to:"/dashboard",className:"btn btn-primary",children:"Go to Dashboard"}):R.jsxs(R.Fragment,{children:[R.jsx(Le,{to:"/register",className:"btn btn-primary",children:"Get Started"}),R.jsx(Le,{to:"/login",className:"btn btn-outline",children:"Login"})]})})]}),R.jsx("div",{className:"hero-image",children:R.jsx("img",{src:"/images/startup-hero.svg",alt:"Startup Illustration"})})]}),R.jsxs("div",{className:"features-section",children:[R.jsx("h2",{children:"Key Features"}),R.jsxs("div",{className:"features-grid",children:[R.jsxs("div",{className:"feature-card",children:[R.jsx("div",{className:"feature-icon",children:""}),R.jsx("h3",{children:"Startup Profile"}),R.jsx("p",{children:"Build your startup profile with vision, product details, market size, and business model"})]}),R.jsxs("div",{className:"feature-card",children:[R.jsx("div",{className:"feature-icon",children:""}),R.jsx("h3",{children:"Funding Simulation"}),R.jsx("p",{children:"Create funding rounds, negotiate with investors, and track your cap table"})]}),R.jsxs("div",{className:"feature-card",children:[R.jsx("div",{className:"feature-icon",children:""}),R.jsx("h3",{children:"Pitch Rooms"}),R.jsx("p",{children:"Practice your pitch in real-time with mock investors and get instant feedback"})]}),R.jsxs("div",{className:"feature-card",children:[R.jsx("div",{className:"feature-icon",children:""}),R.jsx("h3",{children:"Scoring & Feedback"}),R.jsx("p",{children:"Receive ratings on your team, product, and market potential"})]}),R.jsxs("div",{className:"feature-card",children:[R.jsx("div",{className:"feature-icon",children:""}),R.jsx("h3",{children:"Leaderboard"}),R.jsx("p",{children:"Compete with other founders and track your ranking"})]})]})]})]})}function t4(){const[n,t]=q.useState(""),[e,i]=q.useState(""),[r,o]=q.useState(""),[u,h]=q.useState(!1),{login:f}=Ki(),g=Rc(),_=async v=>{v.preventDefault();try{o(""),h(!0),await f(n,e),g("/dashboard")}catch(b){o("Failed to log in: "+b.message)}h(!1)};return R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsx("h2",{children:"Login"}),r&&R.jsx("div",{className:"alert alert-danger",children:r}),R.jsxs("form",{onSubmit:_,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Email"}),R.jsx("input",{type:"email",value:n,onChange:v=>t(v.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Password"}),R.jsx("input",{type:"password",value:e,onChange:v=>i(v.target.value),required:!0})]}),R.jsx("button",{disabled:u,type:"submit",className:"btn btn-primary",children:u?"Logging in...":"Login"})]}),R.jsxs("div",{className:"auth-footer",children:[R.jsxs("p",{children:["Don't have an account? ",R.jsx(Le,{to:"/register",children:"Register"})]}),R.jsx("p",{children:R.jsx(Le,{to:"/forgot-password",children:"Forgot Password?"})})]})]})})}function e4(){const[n,t]=q.useState(""),[e,i]=q.useState(""),[r,o]=q.useState(""),[u,h]=q.useState(""),[f,g]=q.useState(!1),{signup:_}=Ki(),v=Rc(),b=async S=>{if(S.preventDefault(),e!==r)return h("Passwords do not match");try{h(""),g(!0),await _(n,e),v("/profile")}catch(w){h("Failed to create account: "+w.message)}g(!1)};return R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsx("h2",{children:"Register"}),u&&R.jsx("div",{className:"alert alert-danger",children:u}),R.jsxs("form",{onSubmit:b,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Email"}),R.jsx("input",{type:"email",value:n,onChange:S=>t(S.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Password"}),R.jsx("input",{type:"password",value:e,onChange:S=>i(S.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Confirm Password"}),R.jsx("input",{type:"password",value:r,onChange:S=>o(S.target.value),required:!0})]}),R.jsx("button",{disabled:f,type:"submit",className:"btn btn-primary",children:f?"Registering...":"Register"})]}),R.jsx("div",{className:"auth-footer",children:R.jsxs("p",{children:["Already have an account? ",R.jsx(Le,{to:"/login",children:"Login"})]})})]})})}function Sf({title:n,value:t,link:e,linkText:i,icon:r}){const o=()=>{switch(r){case"profile":return"";case"valuation":return"";case"investors":return"";case"ranking":return"";default:return""}};return R.jsxs("div",{className:"dashboard-card",children:[R.jsx("div",{className:"card-icon",children:o()}),R.jsx("h3",{children:n}),R.jsx("p",{className:"card-value",children:t}),R.jsx(Le,{to:e,className:"card-link",children:i})]})}function n4(){var o;const{currentUser:n}=Ki(),[t,e]=q.useState(null),[i,r]=q.useState(!0);return q.useEffect(()=>{(async()=>{if(n){const h=Oa(Un,"startups",n.uid),f=await Iy(h);f.exists()&&e(f.data()),r(!1)}})()},[n]),i?R.jsx("div",{className:"loading",children:"Loading dashboard..."}):R.jsxs("div",{className:"dashboard-page",children:[R.jsxs("h1",{children:["Welcome, ",n==null?void 0:n.email]}),R.jsx("p",{className:"subtitle",children:"Your startup at a glance"}),R.jsxs("div",{className:"dashboard-grid",children:[R.jsx(Sf,{title:"Startup Profile",value:(t==null?void 0:t.companyName)||"Not created",link:"/profile",linkText:t?"View Profile":"Create Profile",icon:"profile"}),R.jsx(Sf,{title:"Current Valuation",value:`$${((o=t==null?void 0:t.valuation)==null?void 0:o.toLocaleString())||"0"}`,link:"/funding",linkText:"Funding Rounds",icon:"valuation"}),R.jsx(Sf,{title:"Investor Interest",value:(t==null?void 0:t.investorCount)||"0",link:"/pitch-room",linkText:"Pitch Room",icon:"investors"}),R.jsx(Sf,{title:"Your Ranking",value:`#${(t==null?void 0:t.ranking)||"N/A"}`,link:"/leaderboard",linkText:"View Leaderboard",icon:"ranking"})]})]})}function i4({initialData:n,onSubmit:t}){const[e,i]=q.useState(n||{companyName:"",vision:"",productDescription:"",marketSize:"",businessModel:""}),r=u=>{const{name:h,value:f}=u.target;i(g=>({...g,[h]:f}))},o=u=>{u.preventDefault(),t(e)};return R.jsxs("form",{onSubmit:o,className:"startup-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Company Name"}),R.jsx("input",{type:"text",name:"companyName",value:e.companyName,onChange:r,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Company Vision"}),R.jsx("textarea",{name:"vision",value:e.vision,onChange:r,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Product Description"}),R.jsx("textarea",{name:"productDescription",value:e.productDescription,onChange:r,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Market Size (TAM)"}),R.jsx("input",{type:"text",name:"marketSize",value:e.marketSize,onChange:r,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Business Model"}),R.jsx("textarea",{name:"businessModel",value:e.businessModel,onChange:r,required:!0})]}),R.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Profile"})]})}const s4=async(n,t,e)=>{if(!n||!t)throw new Error("User ID and file are required");const i=t.name.replace(/[^a-z0-9_.-]/gi,"_").toLowerCase(),o=`pitchdeck_${Date.now()}_${i}`,u=R1(x1,`pitch-decks/${n}/${o}`),h=w1(u,t);return new Promise((f,g)=>{h.on("state_changed",_=>{Math.round(_.bytesTransferred/_.totalBytes*100)},_=>{g(_)},async()=>{try{const _=await A1(h.snapshot.ref);f({downloadURL:_,fileName:t.name,fileSize:t.size,fileType:t.type})}catch(_){g(_)}})})};function r4({currentDeck:n,currentDeckName:t,userId:e,onUpload:i,uploadProgress:r=0,uploadError:o=null}){const[u,h]=q.useState(null),[f,g]=q.useState(!1),[_,v]=q.useState(""),b=w=>{const D=w.target.files[0];if(v(""),!D)return;const C=D.type==="application/pdf"||D.name.toLowerCase().endsWith(".pdf"),N=D.size<=10*1024*1024;if(!C){v("Only PDF files are allowed");return}if(!N){v("File size must be less than 10MB");return}h(D)},S=async()=>{if(!u||!e){v("No file selected or user not authenticated");return}try{g(!0),v("");const w=await s4(e,u,D=>{});if(w!=null&&w.downloadURL)i({downloadURL:w.downloadURL,fileName:u.name,fileSize:u.size,uploadedAt:new Date().toISOString()}),h(null);else throw new Error("Upload failed - no download URL received")}catch(w){console.error("Upload error:",w),v(w.message||"Failed to upload pitch deck")}finally{g(!1)}};return R.jsxs("div",{className:"pitch-deck-upload",children:[R.jsx("h3",{children:"Pitch Deck"}),n?R.jsxs("div",{className:"current-deck",children:[R.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"deck-link",children:t||"View Current Pitch Deck"}),R.jsx("span",{className:"file-info",children:t==null?void 0:t.replace(".pdf","")})]}):R.jsx("p",{className:"no-deck",children:"No pitch deck uploaded yet"}),R.jsxs("div",{className:"upload-section",children:[R.jsxs("div",{className:"file-input-wrapper",children:[R.jsx("input",{type:"file",id:"pitch-deck-upload",accept:".pdf,application/pdf",onChange:b,disabled:f,className:"file-input"}),R.jsx("label",{htmlFor:"pitch-deck-upload",className:"file-label",children:u?R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"file-name",children:u.name}),R.jsxs("span",{className:"file-size",children:[(u.size/(1024*1024)).toFixed(2)," MB"]})]}):"Choose PDF File"})]}),u&&R.jsxs("div",{className:"upload-actions",children:[R.jsx("button",{onClick:()=>h(null),className:"btn btn-cancel",disabled:f,children:"Cancel"}),R.jsx("button",{onClick:S,disabled:f,className:"btn btn-upload",children:f?`Uploading... ${r}%`:"Upload Pitch Deck"})]})]}),(_||o)&&R.jsx("div",{className:"error-message",children:_||o}),f&&r>0&&R.jsx("div",{className:"progress-bar",children:R.jsx("div",{className:"progress-fill",style:{width:`${r}%`}})})]})}function a4(){const{currentUser:n}=Ki(),[t,e]=q.useState(null),[i,r]=q.useState(!0),[o,u]=q.useState(!1),[h,f]=q.useState(0),[g,_]=q.useState(null);q.useEffect(()=>{(async()=>{if(n)try{r(!0);const w=Oa(Un,"startups",n.uid),D=await Iy(w);D.exists()?e(D.data()):e({companyName:"",vision:"",productDescription:"",marketSize:"",businessModel:"",pitchDeckUrl:""})}catch(w){console.error("Error fetching startup data: ",w)}finally{r(!1)}})()},[n]);const v=async S=>{try{await JT(Oa(Un,"startups",n.uid),S,{merge:!0}),e(S),u(!1)}catch(w){console.error("Error updating startup profile: ",w)}},b=async S=>{if(!S||!(n!=null&&n.uid)){_("No file selected or user not authenticated");return}const w=["application/pdf","application/x-pdf"],D=10*1024*1024;if(!w.includes(S.type)&&!S.name.toLowerCase().endsWith(".pdf")){_("Only PDF files are allowed");return}if(S.size>D){_("File size must be less than 10MB");return}try{_(null),f(0);const C=S.name.replace(/[^a-z0-9_.-]/gi,"_").toLowerCase(),B=`pitchdeck_${Date.now()}_${C}`,F=R1(x1,`pitch-decks/${n.uid}/${B}`),Z=w1(F,S);Z.on("state_changed",J=>{const ot=Math.round(J.bytesTransferred/J.totalBytes*100);f(ot)},J=>{console.error("Upload error:",J),_(`Upload failed: ${J.message}`),f(0)},async()=>{try{const J=await A1(Z.snapshot.ref),ot={...t,pitchDeckUrl:J,pitchDeckName:S.name,pitchDeckUpdated:new Date().toISOString()};await JT(Oa(Un,"startups",n.uid),ot,{merge:!0}),e(ot)}catch(J){console.error("Database error:",J),_(`Failed to save URL: ${J.message}`)}finally{f(100)}})}catch(C){console.error("Upload failed:",C),_(`Upload failed: ${C.message}`),f(0)}};return i?R.jsx("div",{className:"loading",children:"Loading profile..."}):R.jsxs("div",{className:"startup-profile",children:[R.jsxs("div",{className:"profile-header",children:[R.jsx("h1",{children:"Startup Profile"}),R.jsx("button",{onClick:()=>u(!o),className:"btn btn-outline",children:o?"Cancel":"Edit Profile"})]}),o?R.jsx(i4,{initialData:t,onSubmit:v}):R.jsxs("div",{className:"profile-view",children:[R.jsxs("div",{className:"card",children:[R.jsx("h2",{children:t.companyName||"Your Startup Name"}),R.jsxs("div",{className:"profile-section",children:[R.jsx("h3",{children:"Company Vision"}),R.jsx("p",{children:t.vision||"Not specified"})]}),R.jsxs("div",{className:"profile-section",children:[R.jsx("h3",{children:"Product Description"}),R.jsx("p",{children:t.productDescription||"Not specified"})]}),R.jsxs("div",{className:"profile-section",children:[R.jsx("h3",{children:"Market Size"}),R.jsx("p",{children:t.marketSize||"Not specified"})]}),R.jsxs("div",{className:"profile-section",children:[R.jsx("h3",{children:"Business Model"}),R.jsx("p",{children:t.businessModel||"Not specified"})]})]}),R.jsx(r4,{currentDeck:t.pitchDeckUrl,currentDeckName:t.pitchDeckName,onUpload:b,uploadProgress:h,uploadError:g})]})]})}function o4({startupData:n,onSubmit:t}){const[e,i]=q.useState({amount:"",equity:"",valuation:"",description:""}),r=u=>{const{name:h,value:f}=u.target;if(i(g=>({...g,[h]:f})),(h==="amount"||h==="equity")&&e.amount&&e.equity){const g=h==="amount"?f:e.amount,_=h==="equity"?f:e.equity;!isNaN(g)&&!isNaN(_)&&_>0&&i(v=>({...v,valuation:Math.round(g/(_/100)).toLocaleString()}))}},o=u=>{u.preventDefault(),t({...e,valuation:e.valuation.replace(/,/g,"")})};return R.jsxs("form",{onSubmit:o,className:"funding-round-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Funding Amount ($)"}),R.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:r,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Equity Offered (%)"}),R.jsx("input",{type:"number",name:"equity",min:"1",max:"100",value:e.equity,onChange:r,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Implied Valuation ($)"}),R.jsx("input",{type:"text",name:"valuation",value:e.valuation?`$${e.valuation}`:"",readOnly:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Round Description"}),R.jsx("textarea",{name:"description",value:e.description,onChange:r,required:!0})]}),R.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Funding Round"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zc(n){return n+.5|0}const Er=(n,t,e)=>Math.max(Math.min(n,e),t);function Yu(n){return Er(zc(n*2.55),0,255)}function xr(n){return Er(zc(n*255),0,255)}function ws(n){return Er(zc(n/2.55)/100,0,1)}function lS(n){return Er(zc(n*100),0,100)}const Zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},__=[..."0123456789ABCDEF"],l4=n=>__[n&15],u4=n=>__[(n&240)>>4]+__[n&15],wf=n=>(n&240)>>4===(n&15),c4=n=>wf(n.r)&&wf(n.g)&&wf(n.b)&&wf(n.a);function h4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Zn[n[1]]*17,g:255&Zn[n[2]]*17,b:255&Zn[n[3]]*17,a:t===5?Zn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Zn[n[1]]<<4|Zn[n[2]],g:Zn[n[3]]<<4|Zn[n[4]],b:Zn[n[5]]<<4|Zn[n[6]],a:t===9?Zn[n[7]]<<4|Zn[n[8]]:255})),e}const f4=(n,t)=>n<255?t(n):"";function d4(n){var t=c4(n)?l4:u4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+f4(n.a,t):void 0}const g4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function O1(n,t,e){const i=t*Math.min(e,1-e),r=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function p4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function m4(n,t,e){const i=O1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function _4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Vy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),u=Math.min(e,i,r),h=(o+u)/2;let f,g,_;return o!==u&&(_=o-u,g=h>.5?_/(2-o-u):_/(o+u),f=_4(e,i,r,_,o),f=f*60+.5),[f|0,g||0,h]}function Uy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(xr)}function jy(n,t,e){return Uy(O1,n,t,e)}function y4(n,t,e){return Uy(m4,n,t,e)}function v4(n,t,e){return Uy(p4,n,t,e)}function N1(n){return(n%360+360)%360}function b4(n){const t=g4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Yu(+t[5]):xr(+t[5]));const r=N1(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=y4(r,o,u):t[1]==="hsv"?i=v4(r,o,u):i=jy(r,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function E4(n,t){var e=Vy(n);e[0]=N1(e[0]+t),e=jy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function T4(n){if(!n)return;const t=Vy(n),e=t[0],i=lS(t[1]),r=lS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ws(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const uS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function S4(){const n={},t=Object.keys(cS),e=Object.keys(uS);let i,r,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,uS[o]);o=parseInt(cS[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Af;function w4(n){Af||(Af=S4(),Af.transparent=[0,0,0,0]);const t=Af[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const A4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function R4(n){const t=A4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Yu(u):Er(u*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Yu(i):Er(i,0,255)),r=255&(t[4]?Yu(r):Er(r,0,255)),o=255&(t[6]?Yu(o):Er(o,0,255)),{r:i,g:r,b:o,a:e}}}function x4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ws(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const km=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,qo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function C4(n,t,e){const i=qo(ws(n.r)),r=qo(ws(n.g)),o=qo(ws(n.b));return{r:xr(km(i+e*(qo(ws(t.r))-i))),g:xr(km(r+e*(qo(ws(t.g))-r))),b:xr(km(o+e*(qo(ws(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Rf(n,t,e){if(n){let i=Vy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=jy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function M1(n,t){return n&&Object.assign(t||{},n)}function hS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=xr(n[3]))):(t=M1(n,{r:0,g:0,b:0,a:1}),t.a=xr(t.a)),t}function I4(n){return n.charAt(0)==="r"?R4(n):b4(n)}class Ec{constructor(t){if(t instanceof Ec)return t;const e=typeof t;let i;e==="object"?i=hS(t):e==="string"&&(i=h4(t)||w4(t)||I4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=M1(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=hS(t)}rgbString(){return this._valid?x4(this._rgb):void 0}hexString(){return this._valid?d4(this._rgb):void 0}hslString(){return this._valid?T4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=u*i.a+(1-u)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=C4(this._rgb,t._rgb,e)),this}clone(){return new Ec(this.rgb)}alpha(t){return this._rgb.a=xr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=zc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Rf(this._rgb,2,t),this}darken(t){return Rf(this._rgb,2,-t),this}saturate(t){return Rf(this._rgb,1,t),this}desaturate(t){return Rf(this._rgb,1,-t),this}rotate(t){return E4(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Es(){}const D4=(()=>{let n=0;return()=>n++})();function cn(n){return n==null}function en(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ht(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ls(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ni(n,t){return Ls(n)?n:t}function Zt(n,t){return typeof n>"u"?t:n}const O4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,k1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Xt(n,t,e,i){let r,o,u;if(en(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ht(n))for(u=Object.keys(n),o=u.length,r=0;r<o;r++)t.call(e,n[u[r]],u[r])}function Ad(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Rd(n){if(en(n))return n.map(Rd);if(Ht(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Rd(n[e[r]]);return t}return n}function P1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function N4(n,t,e,i){if(!P1(n))return;const r=t[n],o=e[n];Ht(r)&&Ht(o)?Tc(r,o,i):t[n]=Rd(o)}function Tc(n,t,e){const i=en(t)?t:[t],r=i.length;if(!Ht(n))return n;e=e||{};const o=e.merger||N4;let u;for(let h=0;h<r;++h){if(u=i[h],!Ht(u))continue;const f=Object.keys(u);for(let g=0,_=f.length;g<_;++g)o(f[g],n,u,e)}return n}function rc(n,t){return Tc(n,t,{merger:M4})}function M4(n,t,e){if(!P1(n))return;const i=t[n],r=e[n];Ht(i)&&Ht(r)?rc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Rd(r))}const fS={"":n=>n,x:n=>n.x,y:n=>n.y};function k4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function P4(n){const t=k4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Sc(n,t){return(fS[t]||(fS[t]=P4(t)))(n)}function zy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xd=n=>typeof n<"u",Pr=n=>typeof n=="function",dS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function L4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,Ie=2*Ye,Cd=Number.POSITIVE_INFINITY,V4=Ye/180,Ve=Ye/2,Ta=Ye/4,gS=Ye*2/3,pS=Math.sign;function U4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function j4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Id(n){return!j4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Da(n){return n*(Ye/180)}function z4(n){return n*(180/Ye)}function L1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ye&&(o+=Ie),{angle:o,distance:r}}function B4(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Sa(n){return(n%Ie+Ie)%Ie}function Dd(n,t,e,i){const r=Sa(n),o=Sa(t),u=Sa(e),h=Sa(o-r),f=Sa(u-r),g=Sa(r-o),_=Sa(r-u);return r===o||r===u||i&&o===u||h>f&&g<_}function ti(n,t,e){return Math.max(t,Math.min(e,n))}function F4(n){return ti(n,-32768,32767)}function Ku(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function By(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const y_=(n,t,e,i)=>By(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),H4=(n,t,e)=>By(n,e,i=>n[i][t]>=e);function q4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const V1=["push","pop","shift","splice","unshift"];function G4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),V1.forEach(e=>{const i="_onData"+zy(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function mS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(V1.forEach(o=>{delete n[o]}),delete n._chartjs)}function $4(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const U1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function j1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,U1.call(window,()=>{i=!1,n.apply(t,e)}))}}function Y4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const z1=n=>n==="start"?"left":n==="end"?"right":"center",Pn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,K4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,xf=n=>n===0||n===1,_S=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ie/e)),yS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ie/e)+1,ac={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ve)+1,easeOutSine:n=>Math.sin(n*Ve),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>xf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>xf(n)?n:_S(n,.075,.3),easeOutElastic:n=>xf(n)?n:yS(n,.075,.3),easeInOutElastic(n){return xf(n)?n:n<.5?.5*_S(n*2,.1125,.45):.5+.5*yS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ac.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ac.easeInBounce(n*2)*.5:ac.easeOutBounce(n*2-1)*.5+.5};function B1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function vS(n){return B1(n)?n:new Ec(n)}function Pm(n){return B1(n)?n:new Ec(n).saturate(.5).darken(.1).hexString()}const W4=["x","y","borderWidth","radius","tension"],Q4=["color","borderColor","backgroundColor"];function X4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Q4},numbers:{type:"number",properties:W4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Z4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bS=new Map;function J4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=bS.get(e);return i||(i=new Intl.NumberFormat(n,t),bS.set(e,i)),i}function t6(n,t,e){return J4(t,e).format(n)}const e6={values(n){return en(n)?n:""+n}};var n6={formatters:e6};function i6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:n6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fa=Object.create(null),v_=Object.create(null);function oc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Lm(n,t,e){return typeof t=="string"?Tc(oc(n,t),e):Tc(oc(n,""),t)}class s6{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Pm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Pm(r.borderColor),this.hoverColor=(i,r)=>Pm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Lm(this,t,e)}get(t){return oc(this,t)}describe(t,e){return Lm(v_,t,e)}override(t,e){return Lm(Fa,t,e)}route(t,e,i,r){const o=oc(this,t),u=oc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=u[r];return Ht(f)?Object.assign({},g,f):Zt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Te=new s6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[X4,Z4,i6]);function r6(n){return!n||cn(n.size)||cn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ES(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function wa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function TS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function SS(n,t,e,i){F1(n,t,e,i,null)}function F1(n,t,e,i,r){let o,u,h,f,g,_,v,b;const S=t.pointStyle,w=t.rotation,D=t.radius;let C=(w||0)*V4;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(D)||D<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,D,0,0,Ie):n.arc(e,i,D,0,Ie),n.closePath();break;case"triangle":_=r?r/2:D,n.moveTo(e+Math.sin(C)*_,i-Math.cos(C)*D),C+=gS,n.lineTo(e+Math.sin(C)*_,i-Math.cos(C)*D),C+=gS,n.lineTo(e+Math.sin(C)*_,i-Math.cos(C)*D),n.closePath();break;case"rectRounded":g=D*.516,f=D-g,u=Math.cos(C+Ta)*f,v=Math.cos(C+Ta)*(r?r/2-g:f),h=Math.sin(C+Ta)*f,b=Math.sin(C+Ta)*(r?r/2-g:f),n.arc(e-v,i-h,g,C-Ye,C-Ve),n.arc(e+b,i-u,g,C-Ve,C),n.arc(e+v,i+h,g,C,C+Ve),n.arc(e-b,i+u,g,C+Ve,C+Ye),n.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*D,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}C+=Ta;case"rectRot":v=Math.cos(C)*(r?r/2:D),u=Math.cos(C)*D,h=Math.sin(C)*D,b=Math.sin(C)*(r?r/2:D),n.moveTo(e-v,i-h),n.lineTo(e+b,i-u),n.lineTo(e+v,i+h),n.lineTo(e-b,i+u),n.closePath();break;case"crossRot":C+=Ta;case"cross":v=Math.cos(C)*(r?r/2:D),u=Math.cos(C)*D,h=Math.sin(C)*D,b=Math.sin(C)*(r?r/2:D),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"star":v=Math.cos(C)*(r?r/2:D),u=Math.cos(C)*D,h=Math.sin(C)*D,b=Math.sin(C)*(r?r/2:D),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u),C+=Ta,v=Math.cos(C)*(r?r/2:D),u=Math.cos(C)*D,h=Math.sin(C)*D,b=Math.sin(C)*(r?r/2:D),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"line":u=r?r/2:Math.cos(C)*D,h=Math.sin(C)*D,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:D),i+Math.sin(C)*D);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function H1(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Fy(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Hy(n){n.restore()}function a6(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),cn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function o6(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(u,_),n.lineTo(h,_),n.stroke()}}function l6(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Od(n,t,e,i,r,o={}){const u=en(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,a6(n,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&l6(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),cn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),o6(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function b_(n,t){const{x:e,y:i,w:r,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*Ye,Ye,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,Ye,Ve,!0),n.lineTo(e+r-u.bottomRight,i+o),n.arc(e+r-u.bottomRight,i+o-u.bottomRight,u.bottomRight,Ve,0,!0),n.lineTo(e+r,i+u.topRight),n.arc(e+r-u.topRight,i+u.topRight,u.topRight,0,-Ve,!0),n.lineTo(e+u.topLeft,i)}const u6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,c6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function h6(n,t){const e=(""+n).match(u6);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const f6=n=>+n||0;function qy(n,t){const e={},i=Ht(t),r=i?Object.keys(t):t,o=Ht(n)?i?u=>Zt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of r)e[u]=f6(o(u));return e}function d6(n){return qy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function lc(n){return qy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function di(n){const t=d6(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function An(n,t){n=n||{},t=t||Te.font;let e=Zt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Zt(n.style,t.style);i&&!(""+i).match(c6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Zt(n.family,t.family),lineHeight:h6(Zt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Zt(n.weight,t.weight),string:""};return r.string=r6(r),r}function Cf(n,t,e,i){let r,o,u;for(r=0,o=n.length;r<o;++r)if(u=n[r],u!==void 0&&u!==void 0)return u}function g6(n,t,e){const{min:i,max:r}=n,o=k1(t,(r-i)/2),u=(h,f)=>e&&h===0?0:h+f;return{min:u(i,-Math.abs(o)),max:u(r,o)}}function Tl(n,t){return Object.assign(Object.create(n),t)}function Gy(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=Y1("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Gy([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return G1(h,f,()=>T6(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return AS(h).includes(f)},ownKeys(h){return AS(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function cl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:q1(n,i),setContext:o=>cl(n,o,e,i),override:o=>cl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return G1(o,u,()=>m6(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function q1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Pr(e)?e:()=>e,isIndexable:Pr(i)?i:()=>i}}const p6=(n,t)=>n?n+zy(t):t,$y=(n,t)=>Ht(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function G1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function m6(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:u}=n;let h=i[t];return Pr(h)&&u.isScriptable(t)&&(h=_6(t,h,n,e)),en(h)&&h.length&&(h=y6(t,h,n,u.isIndexable)),$y(t,h)&&(h=cl(h,r,o&&o[t],u)),h}function _6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,u||i);return h.delete(n),$y(n,f)&&(f=Yy(r._scopes,r,n,f)),f}function y6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ht(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const v=Yy(g,r,n,_);t.push(cl(v,o,u&&u[n],h))}}return t}function $1(n,t,e){return Pr(n)?n(t,e):n}const v6=(n,t)=>n===!0?t:typeof n=="string"?Sc(t,n):void 0;function b6(n,t,e,i,r){for(const o of t){const u=v6(e,o);if(u){n.add(u);const h=$1(u._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function Yy(n,t,e,i){const r=t._rootScopes,o=$1(t._fallback,e,i),u=[...n,...r],h=new Set;h.add(i);let f=wS(h,u,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=wS(h,u,o,f,i),f===null)?!1:Gy(Array.from(h),[""],r,o,()=>E6(t,e,i))}function wS(n,t,e,i,r){for(;e;)e=b6(n,t,e,i,r);return e}function E6(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return en(r)&&Ht(e)?e:r||{}}function T6(n,t,e,i){let r;for(const o of t)if(r=Y1(p6(o,n),e),typeof r<"u")return $y(n,r)?Yy(e,i,n,r):r}function Y1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function AS(n){let t=n._keys;return t||(t=n._keys=S6(n._scopes)),t}function S6(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Ky(){return typeof window<"u"&&typeof document<"u"}function Wy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Nd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const og=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function w6(n,t){return og(n).getPropertyValue(t)}const A6=["top","right","bottom","left"];function Ma(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=A6[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const R6=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function x6(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let u=!1,h,f;if(R6(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function xa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=og(e),o=r.boxSizing==="border-box",u=Ma(r,"padding"),h=Ma(r,"border","width"),{x:f,y:g,box:_}=x6(n,e),v=u.left+(_&&h.left),b=u.top+(_&&h.top);let{width:S,height:w}=t;return o&&(S-=u.width+h.width,w-=u.height+h.height),{x:Math.round((f-v)/S*e.width/i),y:Math.round((g-b)/w*e.height/i)}}function C6(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Wy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=og(o),f=Ma(h,"border","width"),g=Ma(h,"padding");t=u.width-g.width-f.width,e=u.height-g.height-f.height,i=Nd(h.maxWidth,o,"clientWidth"),r=Nd(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Cd,maxHeight:r||Cd}}const If=n=>Math.round(n*10)/10;function I6(n,t,e,i){const r=og(n),o=Ma(r,"margin"),u=Nd(r.maxWidth,n,"clientWidth")||Cd,h=Nd(r.maxHeight,n,"clientHeight")||Cd,f=C6(n,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const b=Ma(r,"border","width"),S=Ma(r,"padding");g-=S.width+b.width,_-=S.height+b.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=If(Math.min(g,u,f.maxWidth)),_=If(Math.min(_,h,f.maxHeight)),g&&!_&&(_=If(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,g=If(Math.floor(_*i))),{width:g,height:_}}function RS(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==r||u.width!==o?(n.currentDevicePixelRatio=i,u.height=r,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const D6=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Ky()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function xS(n,t){const e=w6(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const O6=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},N6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function nl(n,t,e){return n?O6(t,e):N6()}function K1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function W1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Df(n,t,e){return n.options.clip?n[e]:t[e]}function M6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Df(e,t,"left"),right:Df(e,t,"right"),top:Df(i,t,"top"),bottom:Df(i,t,"bottom")}:t}function k6(n,t){const e=t._clip;if(e.disabled)return!1;const i=M6(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class P6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=U1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ts=new P6;const CS="transparent",L6={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=vS(n||CS),r=i.valid&&vS(t||CS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class V6{constructor(t,e,i,r){const o=e[i];r=Cf([t.to,r,o,t.from]);const u=Cf([t.from,o,r]);this._active=!0,this._fn=t.fn||L6[t.type||typeof u],this._easing=ac[t.easing]||ac.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Cf([t.to,e,r,t.from]),this._from=Cf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class Q1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ht(t))return;const e=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ht(o))return;const u={};for(const h of e)u[h]=o[h];(en(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,r=j6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&U6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let v=o[g];const b=i.get(g);if(v)if(b&&v.active()){v.update(b,_,h);continue}else v.cancel();if(!b||!b.duration){t[g]=_;continue}o[g]=v=new V6(b,t,g,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ts.add(this._chart,i),!0}}function U6(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function j6(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function IS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function z6(n,t,e){if(e===!1)return!1;const i=IS(n,e),r=IS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function B6(n){let t,e,i,r;return Ht(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function X1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function DS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let u,h,f,g;if(t===null)return;let _=!1;for(u=0,h=r.length;u<h;++u){if(f=+r[u],f===e){if(_=!0,i.all)continue;break}g=n.values[f],Ls(g)&&(o||t===0||pS(t)===pS(g))&&(t+=g)}return!_&&!i.all?0:t}function F6(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let f,g,_;for(f=0,g=u.length;f<g;++f)_=u[f],h[f]={[r]:_,[o]:n[_]};return h}function Vm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function H6(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function q6(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function G6(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function OS(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function NS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,f=o.axis,g=u.axis,_=H6(o,u,i),v=t.length;let b;for(let S=0;S<v;++S){const w=t[S],{[f]:D,[g]:C}=w,N=w._stacks||(w._stacks={});b=N[g]=G6(r,_,D),b[h]=C,b._top=OS(b,u,!0,i.type),b._bottom=OS(b,u,!1,i.type);const B=b._visualValues||(b._visualValues={});B[h]=C}}function Um(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function $6(n,t){return Tl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Y6(n,t,e){return Tl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Lu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const jm=n=>n==="reset"||n==="none",MS=(n,t)=>t?n:Object.assign({},n),K6=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:X1(e,!0),values:null};class uc{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Vm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Lu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,S,w)=>v==="x"?b:v==="r"?w:S,o=e.xAxisID=Zt(i.xAxisID,Um(t,"x")),u=e.yAxisID=Zt(i.yAxisID,Um(t,"y")),h=e.rAxisID=Zt(i.rAxisID,Um(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,u,h),_=e.vAxisID=r(f,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mS(this._data,this),t._stacked&&Lu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ht(e)){const r=this._cachedMeta;this._data=F6(e,r)}else if(i!==e){if(i){mS(i,this);const r=this._cachedMeta;Lu(r),r._parsed=[]}e&&Object.isExtensible(e)&&G4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Vm(e.vScale,e),e.stack!==i.stack&&(r=!0,Lu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(NS(this,e._parsed),e._stacked=Vm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:u}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{en(r[t])?b=this.parseArrayData(i,r,t,e):Ht(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=v=b[_],f&&(S()&&(f=!1),g=v);i._sorted=f}u&&NS(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),_=o===u,v=new Array(r);let b,S,w;for(b=0,S=r;b<S;++b)w=b+i,v[b]={[h]:_||o.parse(g[w],w),[f]:u.parse(e[w],w)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:u}=t,h=new Array(r);let f,g,_,v;for(f=0,g=r;f<g;++f)_=f+i,v=e[_],h[f]={x:o.parse(v[0],_),y:u.parse(v[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,v,b,S;for(_=0,v=r;_<v;++_)b=_+i,S=e[b],g[_]={x:o.parse(Sc(S,h),b),y:u.parse(Sc(S,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:X1(r,!0),values:e._stacks[t.axis]._visualValues};return DS(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let u=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,u=DS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,u=r.length,h=this._getOtherScale(t),f=K6(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=q6(h);let b,S;function w(){S=r[b];const D=S[h.axis];return!Ls(S[t.axis])||_>D||v<D}for(b=0;b<u&&!(!w()&&(this.updateRangeFromParsed(g,t,S,f),o));++b);if(o){for(b=u-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,u;for(r=0,o=e.length;r<o;++r)u=e[r][t.axis],Ls(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=B6(Zt(this.options.clip,z6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const v=r[_];v.hidden||(v.active&&g?u.push(v):v.draw(t,o))}for(_=0;_<u.length;++_)u[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=Y6(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=$6(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],f=this.enableOptionSharing&&xd(i);if(h)return MS(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),_),S=Object.keys(Te.elements[t]),w=()=>this.getContext(i,r,e),D=g.resolveNamedOptions(b,S,w,v);return D.$shared&&(D.$shared=f,o[u]=Object.freeze(MS(D,f))),D}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),b=_.getOptionScopes(this.getDataset(),v);f=_.createResolver(b,this.getContext(t,i,e))}const g=new Q1(r,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||jm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,r){jm(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!jm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,u=Math.min(o,r);u&&this.parse(0,u),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,u=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Lu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Dt(uc,"defaults",{}),Dt(uc,"datasetElementType",null),Dt(uc,"dataElementType",null);function W6(n,t,e){let i=1,r=1,o=0,u=0;if(t<Ie){const h=n,f=h+t,g=Math.cos(h),_=Math.sin(h),v=Math.cos(f),b=Math.sin(f),S=(F,Z,J)=>Dd(F,h,f,!0)?1:Math.max(Z,Z*e,J,J*e),w=(F,Z,J)=>Dd(F,h,f,!0)?-1:Math.min(Z,Z*e,J,J*e),D=S(0,g,v),C=S(Ve,_,b),N=w(Ye,g,v),B=w(Ye+Ve,_,b);i=(D-N)/2,r=(C-B)/2,o=-(D+N)/2,u=-(C+B)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:u}}class Wu extends uc{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ht(i[t])){const{key:f="value"}=this._parsing;o=g=>+Sc(i[g],f)}let u,h;for(u=t,h=t+e;u<h;++u)r._parsed[u]=o(u)}}_getRotation(){return Da(this.options.rotation-90)}_getCircumference(){return Da(this.options.circumference)}_getRotationExtents(){let t=Ie,e=-Ie;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),u=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(O4(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:_,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:w,offsetY:D}=W6(v,_,f),C=(i.width-u)/b,N=(i.height-u)/S,B=Math.max(Math.min(C,N)/2,0),F=k1(this.options.radius,B),Z=Math.max(F*f,0),J=(F-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=w*F,this.offsetY=D*F,r.total=this.calculateTotal(),this.outerRadius=F-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Ie)}updateElements(t,e,i,r){const o=r==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,_=(h.left+h.right)/2,v=(h.top+h.bottom)/2,b=o&&g.animateScale,S=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:D,includeOptions:C}=this._getSharedOptions(e,r);let N=this._getRotation(),B;for(B=0;B<e;++B)N+=this._circumference(B,o);for(B=e;B<e+i;++B){const F=this._circumference(B,o),Z=t[B],J={x:_+this.offsetX,y:v+this.offsetY,startAngle:N,endAngle:N+F,circumference:F,outerRadius:w,innerRadius:S};C&&(J.options=D||this.resolveDataElementOptions(B,Z.active?"active":r)),N+=F,this.updateElement(Z,B,J,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ie*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=t6(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,u,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){u=i.getDatasetMeta(r),t=u.data,h=u.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Zt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Dt(Wu,"id","doughnut"),Dt(Wu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Dt(Wu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Dt(Wu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class E_ extends Wu{}Dt(E_,"id","pie"),Dt(E_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Aa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qy{constructor(t){Dt(this,"options");this.options=t||{}}static override(t){Object.assign(Qy.prototype,t)}init(){}formats(){return Aa()}parse(){return Aa()}format(){return Aa()}add(){return Aa()}diff(){return Aa()}startOf(){return Aa()}endOf(){return Aa()}}var Q6={_date:Qy};function X6(n,t,e,i){const{controller:r,data:o,_sorted:u}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?H4:y_;if(i){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const b=g(o,t,e-v),S=g(o,t,e+v);return{lo:b.lo,hi:S.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,S=b.slice(0,_.lo+1).reverse().findIndex(D=>!cn(D[v.axis]));_.lo-=Math.max(0,S);const w=b.slice(_.hi).findIndex(D=>!cn(D[v.axis]));_.hi+=Math.max(0,w)}return _}}return{lo:0,hi:o.length-1}}function lg(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:v,hi:b}=X6(o[h],t,u,r);for(let S=v;S<=b;++S){const w=_[S];w.skip||i(w,g,S)}}}function Z6(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,u=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function zm(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||lg(n,e,t,function(h,f,g){!r&&!H1(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function J6(n,t,e,i){let r=[];function o(u,h,f){const{startAngle:g,endAngle:_}=u.getProps(["startAngle","endAngle"],i),{angle:v}=L1(u,{x:t.x,y:t.y});Dd(v,g,_)&&r.push({element:u,datasetIndex:h,index:f})}return lg(n,e,t,o),r}function tU(n,t,e,i,r,o){let u=[];const h=Z6(e);let f=Number.POSITIVE_INFINITY;function g(_,v,b){const S=_.inRange(t.x,t.y,r);if(i&&!S)return;const w=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!S)return;const C=h(t,w);C<f?(u=[{element:_,datasetIndex:v,index:b}],f=C):C===f&&u.push({element:_,datasetIndex:v,index:b})}return lg(n,e,t,g),u}function Bm(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?J6(n,t,e,r):tU(n,t,e,i,r,o)}function kS(n,t,e,i,r){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return lg(n,e,t,(f,g,_)=>{f[u]&&f[u](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var eU={modes:{index(n,t,e,i){const r=xa(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?zm(n,r,o,i,u):Bm(n,r,o,!1,i,u),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,v=g.data[_];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?zm(n,r,o,i,u):Bm(n,r,o,!1,i,u);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return zm(n,r,o,i,u)},nearest(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Bm(n,r,o,e.intersect,i,u)},x(n,t,e,i){const r=xa(t,n);return kS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=xa(t,n);return kS(n,r,"y",e.intersect,i)}}};const Z1=["left","top","right","bottom"];function Vu(n,t){return n.filter(e=>e.pos===t)}function PS(n,t){return n.filter(e=>Z1.indexOf(e.pos)===-1&&e.box.axis===t)}function Uu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function nU(n){const t=[];let e,i,r,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&o+u,stackWeight:h});return t}function iU(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!Z1.includes(r))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function sU(n,t){const e=iU(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function rU(n){const t=nU(n),e=Uu(t.filter(g=>g.box.fullSize),!0),i=Uu(Vu(t,"left"),!0),r=Uu(Vu(t,"right")),o=Uu(Vu(t,"top"),!0),u=Uu(Vu(t,"bottom")),h=PS(t,"x"),f=PS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(u).concat(h),chartArea:Vu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(u).concat(h)}}function LS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function J1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function aU(n,t,e,i){const{pos:r,box:o}=e,u=n.maxPadding;if(!Ht(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&J1(u,o.getPadding());const h=Math.max(0,t.outerWidth-LS(u,n,"left","right")),f=Math.max(0,t.outerHeight-LS(u,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function oU(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function lU(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function Qu(n,t,e,i){const r=[];let o,u,h,f,g,_;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,lU(h.horizontal,t));const{same:v,other:b}=aU(t,e,h,i);g|=v&&r.length,_=_||b,f.fullSize||r.push(h)}return g&&Qu(r,t,e,i)||_}function Of(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function VS(n,t,e,i){const r=e.padding;let{x:o,y:u}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*_,b=g.size||f.height;xd(g.start)&&(u=g.start),f.fullSize?Of(f,r.left,u,e.outerWidth-r.right-r.left,b):Of(f,t.left+g.placed,u,v,b),g.start=u,g.placed+=v,u=f.bottom}else{const v=t.h*_,b=g.size||f.width;xd(g.start)&&(o=g.start),f.fullSize?Of(f,o,r.top,b,e.outerHeight-r.bottom-r.top):Of(f,o,t.top+g.placed,b,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=u}var Tr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=di(n.options.layout.padding),o=Math.max(t-r.width,0),u=Math.max(e-r.height,0),h=rU(n.boxes),f=h.vertical,g=h.horizontal;Xt(n.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const _=f.reduce((D,C)=>C.box.options&&C.box.options.display===!1?D:D+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/_,hBoxMaxHeight:u/2}),b=Object.assign({},r);J1(b,di(i));const S=Object.assign({maxPadding:b,w:o,h:u,x:r.left,y:r.top},r),w=sU(f.concat(g),v);Qu(h.fullSize,S,v,w),Qu(f,S,v,w),Qu(g,S,v,w)&&Qu(f,S,v,w),oU(S),VS(h.leftAndTop,S,v,w),S.x+=S.w,S.y+=S.h,VS(h.rightAndBottom,S,v,w),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Xt(h.chartArea,D=>{const C=D.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class tx{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class uU extends tx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Qf="$chartjs",cU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},US=n=>n===null||n==="";function hU(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Qf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",US(r)){const o=xS(n,"width");o!==void 0&&(n.width=o)}if(US(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=xS(n,"height");o!==void 0&&(n.height=o)}return n}const ex=D6?{passive:!0}:!1;function fU(n,t,e){n&&n.addEventListener(t,e,ex)}function dU(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ex)}function gU(n,t){const e=cU[n.type]||n.type,{x:i,y:r}=xa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Md(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function pU(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Md(h.addedNodes,i),u=u&&!Md(h.removedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function mU(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Md(h.removedNodes,i),u=u&&!Md(h.addedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const wc=new Map;let jS=0;function nx(){const n=window.devicePixelRatio;n!==jS&&(jS=n,wc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function _U(n,t){wc.size||window.addEventListener("resize",nx),wc.set(n,t)}function yU(n){wc.delete(n),wc.size||window.removeEventListener("resize",nx)}function vU(n,t,e){const i=n.canvas,r=i&&Wy(i);if(!r)return;const o=j1((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return u.observe(r),_U(n,o),u}function Fm(n,t,e){e&&e.disconnect(),t==="resize"&&yU(n)}function bU(n,t,e){const i=n.canvas,r=j1(o=>{n.ctx!==null&&e(gU(o,n))},n);return fU(i,t,r),r}class EU extends tx{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(hU(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Qf])return!1;const i=e[Qf].initial;["height","width"].forEach(o=>{const u=i[o];cn(u)?e.removeAttribute(o):e.setAttribute(o,u)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Qf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:pU,detach:mU,resize:vU}[e]||bU;r[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Fm,detach:Fm,resize:Fm}[e]||dU)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return I6(t,e,i,r)}isAttached(t){const e=t&&Wy(t);return!!(e&&e.isConnected)}}function TU(n){return!Ky()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?uU:EU}class Ha{constructor(){Dt(this,"x");Dt(this,"y");Dt(this,"active",!1);Dt(this,"options");Dt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Id(this.x)&&Id(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Dt(Ha,"defaults",{}),Dt(Ha,"defaultRoutes");function SU(n,t){const e=n.options.ticks,i=wU(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?RU(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>r)return xU(t,g,o,u/r),g;const _=AU(o,t,r);if(u>0){let v,b;const S=u>1?Math.round((f-h)/(u-1)):null;for(Nf(t,g,_,cn(S)?0:h-S,h),v=0,b=u-1;v<b;v++)Nf(t,g,_,o[v],o[v+1]);return Nf(t,g,_,f,cn(S)?t.length:f+S),g}return Nf(t,g,_),g}function wU(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function AU(n,t,e){const i=CU(n),r=t.length/e;if(!i)return Math.max(r,1);const o=U4(i);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>r)return f}return Math.max(r,1)}function RU(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function xU(n,t,e,i){let r=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),r++,o=e[r*i])}function Nf(n,t,e,i,r){const o=Zt(i,0),u=Math.min(Zt(r,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function CU(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const IU=n=>n==="left"?"right":n==="right"?"left":n,zS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,BS=(n,t)=>Math.min(t||n,n);function FS(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function DU(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,u-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>u+h)))return f}function OU(n,t){Xt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function ju(n){return n.drawTicks?n.tickLength:0}function HS(n,t){if(!n.display)return 0;const e=An(n.font,t),i=di(n.padding);return(en(n.text)?n.text.length:1)*e.lineHeight+i.height}function NU(n,t){return Tl(n,{scale:t,type:"scale"})}function MU(n,t,e){return Tl(n,{tick:e,index:t,type:"tick"})}function kU(n,t,e){let i=z1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=IU(i)),i}function PU(n,t,e,i){const{top:r,left:o,bottom:u,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let v=0,b,S,w;const D=u-r,C=h-o;if(n.isHorizontal()){if(S=Pn(i,o,h),Ht(e)){const N=Object.keys(e)[0],B=e[N];w=_[N].getPixelForValue(B)+D-t}else e==="center"?w=(g.bottom+g.top)/2+D-t:w=zS(n,e,t);b=h-o}else{if(Ht(e)){const N=Object.keys(e)[0],B=e[N];S=_[N].getPixelForValue(B)-C+t}else e==="center"?S=(g.left+g.right)/2-C+t:S=zS(n,e,t);w=Pn(i,u,r),v=e==="left"?-Ve:Ve}return{titleX:S,titleY:w,maxWidth:b,rotation:v}}class ug extends Ha{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ni(t,Number.POSITIVE_INFINITY),e=Ni(e,Number.NEGATIVE_INFINITY),i=Ni(i,Number.POSITIVE_INFINITY),r=Ni(r,Number.NEGATIVE_INFINITY),{min:Ni(t,i),max:Ni(e,r),minDefined:Ls(t),maxDefined:Ls(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),u;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ni(e,Ni(i,e)),max:Ni(i,Ni(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=g6(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?FS(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=SU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ae(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=BS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,b=_.highest.height,S=ti(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-ju(t.grid)-e.padding-HS(t.title,this.chart.options.font),g=Math.sqrt(v*v+b*b),u=z4(Math.min(Math.asin(ti((_.highest.height+6)/h,-1,1)),Math.asin(ti(f/g,-1,1))-Math.asin(ti(b/g,-1,1)))),u=Math.max(r,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=HS(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=ju(o)+f):(t.height=this.maxHeight,t.width=ju(o)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:v,highest:b}=this._getLabelSizes(),S=i.padding*2,w=Da(this.labelRotation),D=Math.cos(w),C=Math.sin(w);if(h){const N=i.mirror?0:C*v.width+D*b.height;t.height=Math.min(this.maxHeight,t.height+N+S)}else{const N=i.mirror?0:D*v.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+N+S)}this._calculatePadding(g,_,C,D)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;f?g?(b=r*t.width,S=i*e.height):(b=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-_+u)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-v+u)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)cn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=FS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(e/BS(e,i));let g=0,_=0,v,b,S,w,D,C,N,B,F,Z,J;for(v=0;v<e;v+=f){if(w=t[v].label,D=this._resolveTickFontOptions(v),r.font=C=D.string,N=o[C]=o[C]||{data:{},gc:[]},B=D.lineHeight,F=Z=0,!cn(w)&&!en(w))F=ES(r,N.data,N.gc,F,w),Z=B;else if(en(w))for(b=0,S=w.length;b<S;++b)J=w[b],!cn(J)&&!en(J)&&(F=ES(r,N.data,N.gc,F,J),Z+=B);u.push(F),h.push(Z),g=Math.max(F,g),_=Math.max(Z,_)}OU(o,e);const ot=u.indexOf(g),k=h.indexOf(_),I=O=>({width:u[O]||0,height:h[O]||0});return{first:I(0),last:I(e-1),widest:I(ot),highest:I(k),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return F4(this._alignToPixels?wa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=MU(this.getContext(),t,i))}return this.$context||(this.$context=NU(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Da(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:u,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=ju(o),S=[],w=h.setContext(this.getContext()),D=w.display?w.width:0,C=D/2,N=function(Q){return wa(i,Q,D)};let B,F,Z,J,ot,k,I,O,P,V,j,M;if(u==="top")B=N(this.bottom),k=this.bottom-b,O=B-C,V=N(t.top)+C,M=t.bottom;else if(u==="bottom")B=N(this.top),V=t.top,M=N(t.bottom)-C,k=B+C,O=this.top+b;else if(u==="left")B=N(this.right),ot=this.right-b,I=B-C,P=N(t.left)+C,j=t.right;else if(u==="right")B=N(this.left),P=t.left,j=N(t.right)-C,ot=B+C,I=this.left+b;else if(e==="x"){if(u==="center")B=N((t.top+t.bottom)/2+.5);else if(Ht(u)){const Q=Object.keys(u)[0],at=u[Q];B=N(this.chart.scales[Q].getPixelForValue(at))}V=t.top,M=t.bottom,k=B+C,O=k+b}else if(e==="y"){if(u==="center")B=N((t.left+t.right)/2);else if(Ht(u)){const Q=Object.keys(u)[0],at=u[Q];B=N(this.chart.scales[Q].getPixelForValue(at))}ot=B-C,I=ot-b,P=t.left,j=t.right}const qt=Zt(r.ticks.maxTicksLimit,v),vt=Math.max(1,Math.ceil(v/qt));for(F=0;F<v;F+=vt){const Q=this.getContext(F),at=o.setContext(Q),ft=h.setContext(Q),wt=at.lineWidth,U=at.color,rt=ft.dash||[],ct=ft.dashOffset,lt=at.tickWidth,pt=at.tickColor,xt=at.tickBorderDash||[],_t=at.tickBorderDashOffset;Z=DU(this,F,f),Z!==void 0&&(J=wa(i,Z,wt),g?ot=I=P=j=J:k=O=V=M=J,S.push({tx1:ot,ty1:k,tx2:I,ty2:O,x1:P,y1:V,x2:j,y2:M,width:wt,color:U,borderDash:rt,borderDashOffset:ct,tickWidth:lt,tickColor:pt,tickBorderDash:xt,tickBorderDashOffset:_t}))}return this._ticksLength=v,this._borderValue=B,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:v}=o,b=ju(i.grid),S=b+_,w=v?-_:S,D=-Da(this.labelRotation),C=[];let N,B,F,Z,J,ot,k,I,O,P,V,j,M="middle";if(r==="top")ot=this.bottom-w,k=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+w,k=this._getXAxisLabelAlignment();else if(r==="left"){const vt=this._getYAxisLabelAlignment(b);k=vt.textAlign,J=vt.x}else if(r==="right"){const vt=this._getYAxisLabelAlignment(b);k=vt.textAlign,J=vt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+S;else if(Ht(r)){const vt=Object.keys(r)[0],Q=r[vt];ot=this.chart.scales[vt].getPixelForValue(Q)+S}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")J=(t.left+t.right)/2-S;else if(Ht(r)){const vt=Object.keys(r)[0],Q=r[vt];J=this.chart.scales[vt].getPixelForValue(Q)}k=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?M="top":f==="end"&&(M="bottom"));const qt=this._getLabelSizes();for(N=0,B=h.length;N<B;++N){F=h[N],Z=F.label;const vt=o.setContext(this.getContext(N));I=this.getPixelForTick(N)+o.labelOffset,O=this._resolveTickFontOptions(N),P=O.lineHeight,V=en(Z)?Z.length:1;const Q=V/2,at=vt.color,ft=vt.textStrokeColor,wt=vt.textStrokeWidth;let U=k;u?(J=I,k==="inner"&&(N===B-1?U=this.options.reverse?"left":"right":N===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?g==="near"||D!==0?j=-V*P+P/2:g==="center"?j=-qt.highest.height/2-Q*P+P:j=-qt.highest.height+P/2:g==="near"||D!==0?j=P/2:g==="center"?j=qt.highest.height/2-Q*P:j=qt.highest.height-V*P,v&&(j*=-1),D!==0&&!vt.showLabelBackdrop&&(J+=P/2*Math.sin(D))):(ot=I,j=(1-V)*P/2);let rt;if(vt.showLabelBackdrop){const ct=di(vt.backdropPadding),lt=qt.heights[N],pt=qt.widths[N];let xt=j-ct.top,_t=0-ct.left;switch(M){case"middle":xt-=lt/2;break;case"bottom":xt-=lt;break}switch(k){case"center":_t-=pt/2;break;case"right":_t-=pt;break;case"inner":N===B-1?_t-=pt:N>0&&(_t-=pt/2);break}rt={left:_t,top:xt,width:pt+ct.width,height:lt+ct.height,color:vt.backdropColor}}C.push({label:Z,font:O,textOffset:j,options:{rotation:D,color:at,strokeColor:ft,strokeWidth:wt,textAlign:U,textBaseline:M,translation:[J,ot],backdrop:rt}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Da(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,_;return e==="left"?r?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=r.length;o<u;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,v,b;this.isHorizontal()?(g=wa(t,this.left,u)-u/2,_=wa(t,this.right,h)+h/2,v=b=f):(v=wa(t,this.top,u)-u/2,b=wa(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(_,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Fy(i,r);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,_=u.textOffset;Od(i,g,0,_,f,h)}r&&Hy(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=An(i.font),u=di(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ht(e)?(f+=u.bottom,en(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=u.top;const{titleX:g,titleY:_,maxWidth:v,rotation:b}=PU(this,f,e,h);Od(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:kU(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Zt(t.grid&&t.grid.z,-1),r=Zt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ug.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return An(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;UU(e)&&(i=this.register(e));const r=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,LU(t,u,i),this.override&&Te.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Te[r]&&(delete Te[r][i],this.override&&delete Fa[i])}}function LU(n,t,e){const i=Tc(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,i),n.defaultRoutes&&VU(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function VU(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),f=u.join(".");Te.route(o,r,f,h)})}function UU(n){return"id"in n&&"defaults"in n}class jU{constructor(){this.controllers=new Mf(uc,"datasets",!0),this.elements=new Mf(Ha,"elements"),this.plugins=new Mf(Object,"plugins"),this.scales=new Mf(ug,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Xt(r,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const r=zy(t);ae(i["before"+r],[],i),e[t](i),ae(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Pi=new jU;class zU{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,r){r=r||{};for(const o of t){const u=o.plugin,h=u[i],f=[e,r,o.options];if(ae(h,f,u)===!1&&r.cancelable)return!1}return!0}invalidate(){cn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Zt(i.options&&i.options.plugins,{}),o=BU(i);return r===!1&&!e?[]:HU(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function BU(n){const t={},e=[],i=Object.keys(Pi.plugins.items);for(let o=0;o<i.length;o++)e.push(Pi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const u=r[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function FU(n,t){return!t&&n===!1?null:n===!0?{}:n}function HU(n,{plugins:t,localIds:e},i,r){const o=[],u=n.getContext();for(const h of t){const f=h.id,g=FU(i[f],r);g!==null&&o.push({plugin:h,options:qU(n.config,{plugin:h,local:e[f]},g,u)})}return o}function qU(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function T_(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function GU(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function $U(n,t){return n===t?"_index_":"_value_"}function qS(n){if(n==="x"||n==="y"||n==="r")return n}function YU(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function S_(n,...t){if(qS(n))return n;for(const e of t){const i=e.axis||YU(e.position)||n.length>1&&qS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function GS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function KU(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return GS(n,"x",e[0])||GS(n,"y",e[0])}return{}}function WU(n,t){const e=Fa[n.type]||{scales:{}},i=t.scales||{},r=T_(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Ht(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=S_(u,h,KU(u,n),Te.scales[h.type]),g=$U(f,r),_=e.scales||{};o[u]=rc(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,f=u.indexAxis||T_(h,t),_=(Fa[h]||{}).scales||{};Object.keys(_).forEach(v=>{const b=GU(v,f),S=u[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),rc(o[S],[{axis:b},i[S],_[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];rc(h,[Te.scales[h.type],Te.scale])}),o}function ix(n){const t=n.options||(n.options={});t.plugins=Zt(t.plugins,{}),t.scales=WU(n,t)}function sx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function QU(n){return n=n||{},n.data=sx(n.data),ix(n),n}const $S=new Map,rx=new Set;function kf(n,t){let e=$S.get(n);return e||(e=t(),$S.set(n,e),rx.add(e)),e}const zu=(n,t,e)=>{const i=Sc(t,e);i!==void 0&&n.add(i)};class XU{constructor(t){this._config=QU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ix(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return kf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return kf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return kf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return kf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(v=>zu(f,t,v))),_.forEach(v=>zu(f,r,v)),_.forEach(v=>zu(f,Fa[o]||{},v)),_.forEach(v=>zu(f,Te,v)),_.forEach(v=>zu(f,v_,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),rx.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fa[e]||{},Te.datasets[e]||{},{type:e},Te,v_]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=YS(this._resolverCache,t,r);let f=u;if(JU(u,e)){o.$shared=!1,i=Pr(i)?i():i;const g=this.createResolver(t,i,h);f=cl(u,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=YS(this._resolverCache,t,i);return Ht(e)?cl(o,e,void 0,r):o}}function YS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Gy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const ZU=n=>Ht(n)&&Object.getOwnPropertyNames(n).some(t=>Pr(n[t]));function JU(n,t){const{isScriptable:e,isIndexable:i}=q1(n);for(const r of t){const o=e(r),u=i(r),h=(u||o)&&n[r];if(o&&(Pr(h)||ZU(h))||u&&en(h))return!0}return!1}var t3="4.4.9";const e3=["top","bottom","left","right","chartArea"];function KS(n,t){return n==="top"||n==="bottom"||e3.indexOf(n)===-1&&t==="x"}function WS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function QS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function n3(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function ax(n){return Ky()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Xf={},XS=n=>{const t=ax(n);return Object.values(Xf).filter(e=>e.canvas===t).pop()};function i3(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const u=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=u)}}}function s3(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var gr;let cg=(gr=class{static register(...t){Pi.add(...t),ZS()}static unregister(...t){Pi.remove(...t),ZS()}constructor(t,e){const i=this.config=new XU(e),r=ax(t),o=XS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||TU(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=D4(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Y4(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],Xf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ts.listen(this,"complete",QS),Ts.listen(this,"progress",n3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return cn(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return TS(this.canvas,this.ctx),this}stop(){return Ts.stop(this),this}resize(t,e){Ts.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,RS(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),ae(i.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Xt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],f=S_(u,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),Xt(o,u=>{const h=u.options,f=h.id,g=S_(f,h),_=Zt(h.type,u.dtype);(h.position===void 0||KS(h.position,g)!==KS(u.dposition))&&(h.position=u.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===_)v=i[f];else{const b=Pi.getScale(_);v=new b({id:f,type:_,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Xt(r,(u,h)=>{u||delete i[h]}),Xt(i,u=>{Tr.configure(this,u,u.options),Tr.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(WS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||T_(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Pi.getController(h),{datasetElementType:g,dataElementType:_}=Te.datasets[h];Object.assign(f,{dataElementType:Pi.getElement(_),datasetElementType:g&&Pi.getElement(g)}),u.controller=new f(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:v}=this.getDatasetMeta(g),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),r||Xt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(WS("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Xt(this.scales,t=>{Tr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!dS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const u=i==="_removeElements"?-o:o;i3(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!dS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Xt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Pr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ts.has(this)?this.attached&&!Ts.running(this)&&Ts.start(this):(this.draw(),QS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const u=e[r];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=k6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Fy(e,r),t.controller.draw(),r&&Hy(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return H1(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=eU.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Tl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,r);xd(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ts.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),TS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Xf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},r=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Xt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Xt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Xt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,u,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Ad(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,u=e,h=this._getActiveElements(t,r,i,u),f=L4(t),g=s3(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ae(o.onHover,[t,h,this],this),f&&ae(o.onClick,[t,h,this],this));const _=!Ad(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},Dt(gr,"defaults",Te),Dt(gr,"instances",Xf),Dt(gr,"overrides",Fa),Dt(gr,"registry",Pi),Dt(gr,"version",t3),Dt(gr,"getChart",XS),gr);function ZS(){return Xt(cg.instances,n=>n._plugins.invalidate())}function r3(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:u,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,u,h,i-g,e+g),f>r?(g=r/f,n.arc(o,u,f,e+g,i-g,!0)):n.arc(o,u,r,e+Ve,i-Ve),n.closePath(),n.clip()}function a3(n){return qy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function o3(n,t,e,i){const r=a3(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return ti(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:ti(r.innerStart,0,u),innerEnd:ti(r.innerEnd,0,u)}}function Go(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function kd(n,t,e,i,r,o){const{x:u,y:h,startAngle:f,pixelMargin:g,innerRadius:_}=t,v=Math.max(t.outerRadius+i+e-g,0),b=_>0?_+i+e+g:0;let S=0;const w=r-f;if(i){const vt=_>0?_-i:0,Q=v>0?v-i:0,at=(vt+Q)/2,ft=at!==0?w*at/(at+i):w;S=(w-ft)/2}const D=Math.max(.001,w*v-e/Ye)/v,C=(w-D)/2,N=f+C+S,B=r-C-S,{outerStart:F,outerEnd:Z,innerStart:J,innerEnd:ot}=o3(t,b,v,B-N),k=v-F,I=v-Z,O=N+F/k,P=B-Z/I,V=b+J,j=b+ot,M=N+J/V,qt=B-ot/j;if(n.beginPath(),o){const vt=(O+P)/2;if(n.arc(u,h,v,O,vt),n.arc(u,h,v,vt,P),Z>0){const wt=Go(I,P,u,h);n.arc(wt.x,wt.y,Z,P,B+Ve)}const Q=Go(j,B,u,h);if(n.lineTo(Q.x,Q.y),ot>0){const wt=Go(j,qt,u,h);n.arc(wt.x,wt.y,ot,B+Ve,qt+Math.PI)}const at=(B-ot/b+(N+J/b))/2;if(n.arc(u,h,b,B-ot/b,at,!0),n.arc(u,h,b,at,N+J/b,!0),J>0){const wt=Go(V,M,u,h);n.arc(wt.x,wt.y,J,M+Math.PI,N-Ve)}const ft=Go(k,N,u,h);if(n.lineTo(ft.x,ft.y),F>0){const wt=Go(k,O,u,h);n.arc(wt.x,wt.y,F,N-Ve,O)}}else{n.moveTo(u,h);const vt=Math.cos(O)*v+u,Q=Math.sin(O)*v+h;n.lineTo(vt,Q);const at=Math.cos(P)*v+u,ft=Math.sin(P)*v+h;n.lineTo(at,ft)}n.closePath()}function l3(n,t,e,i,r){const{fullCircles:o,startAngle:u,circumference:h}=t;let f=t.endAngle;if(o){kd(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=u+(h%Ie||Ie))}return kd(n,t,e,i,f,r),n.fill(),f}function u3(n,t,e,i,r){const{fullCircles:o,startAngle:u,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:v,borderDashOffset:b}=f,S=f.borderAlign==="inner";if(!g)return;n.setLineDash(v||[]),n.lineDashOffset=b,S?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let w=t.endAngle;if(o){kd(n,t,e,i,w,r);for(let D=0;D<o;++D)n.stroke();isNaN(h)||(w=u+(h%Ie||Ie))}S&&r3(n,t,w),o||(kd(n,t,e,i,w,r),n.stroke())}class Xu extends Ha{constructor(e){super();Dt(this,"circumference");Dt(this,"endAngle");Dt(this,"fullCircles");Dt(this,"innerRadius");Dt(this,"outerRadius");Dt(this,"pixelMargin");Dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.getProps(["x","y"],r),{angle:u,distance:h}=L1(o,{x:e,y:i}),{startAngle:f,endAngle:g,innerRadius:_,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),S=(this.options.spacing+this.options.borderWidth)/2,w=Zt(b,g-f),D=Dd(u,f,g)&&f!==g,C=w>=Ie||D,N=Ku(h,_+S,v+S);return C&&N}getCenterPoint(e){const{x:i,y:r,startAngle:o,endAngle:u,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:_}=this.options,v=(o+u)/2,b=(h+f+_+g)/2;return{x:i+Math.cos(v)*b,y:r+Math.sin(v)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,o=(i.offset||0)/4,u=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ie?Math.floor(r/Ie):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const g=1-Math.sin(Math.min(Ye,r||0)),_=o*g;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,l3(e,this,_,u,h),u3(e,this,_,u,h),e.restore()}}Dt(Xu,"id","arc"),Dt(Xu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Dt(Xu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Dt(Xu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});const JS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},c3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class tw extends Ha{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=An(i.font),o=r.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=JS(i,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(u,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(u,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-_;return this.legendItems.forEach((w,D)=>{const C=i+e/2+o.measureText(w.text).width;(D===0||g[g.length-1]+C+2*h>u)&&(v+=_,g[g.length-(D>0?0:1)]=0,S+=_,b++),f[D]={left:0,top:S,row:b,width:C,height:r},g[g.length-1]+=C+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=u-t;let v=h,b=0,S=0,w=0,D=0;return this.legendItems.forEach((C,N)=>{const{itemWidth:B,itemHeight:F}=h3(i,e,o,C,r);N>0&&S+F+2*h>_&&(v+=b+h,g.push({width:b,height:S}),w+=b+h,D++,b=S=0),f[N]={left:w,top:S,col:D,width:B,height:F},b=Math.max(b,B),S+=F+h}),v+=b,g.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,u=nl(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Pn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=Pn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+r}else{let h=0,f=Pn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=Pn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Fy(t,this),this._draw(),Hy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:u}=t,h=Te.color,f=nl(t.rtl,this.left,this.width),g=An(u.font),{padding:_}=u,v=g.size,b=v/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:w,boxHeight:D,itemHeight:C}=JS(u,v),N=function(ot,k,I){if(isNaN(w)||w<=0||isNaN(D)||D<0)return;r.save();const O=Zt(I.lineWidth,1);if(r.fillStyle=Zt(I.fillStyle,h),r.lineCap=Zt(I.lineCap,"butt"),r.lineDashOffset=Zt(I.lineDashOffset,0),r.lineJoin=Zt(I.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=Zt(I.strokeStyle,h),r.setLineDash(Zt(I.lineDash,[])),u.usePointStyle){const P={radius:D*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:O},V=f.xPlus(ot,w/2),j=k+b;F1(r,P,V,j,u.pointStyleWidth&&w)}else{const P=k+Math.max((v-D)/2,0),V=f.leftForLtr(ot,w),j=lc(I.borderRadius);r.beginPath(),Object.values(j).some(M=>M!==0)?b_(r,{x:V,y:P,w,h:D,radius:j}):r.rect(V,P,w,D),r.fill(),O!==0&&r.stroke()}r.restore()},B=function(ot,k,I){Od(r,I.text,ot,k+C/2,g,{strikethrough:I.hidden,textAlign:f.textAlign(I.textAlign)})},F=this.isHorizontal(),Z=this._computeTitleHeight();F?S={x:Pn(o,this.left+_,this.right-i[0]),y:this.top+_+Z,line:0}:S={x:this.left+_,y:Pn(o,this.top+Z+_,this.bottom-e[0].height),line:0},K1(this.ctx,t.textDirection);const J=C+_;this.legendItems.forEach((ot,k)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const I=r.measureText(ot.text).width,O=f.textAlign(ot.textAlign||(ot.textAlign=u.textAlign)),P=w+b+I;let V=S.x,j=S.y;f.setWidth(this.width),F?k>0&&V+P+_>this.right&&(j=S.y+=J,S.line++,V=S.x=Pn(o,this.left+_,this.right-i[S.line])):k>0&&j+J>this.bottom&&(V=S.x=V+e[S.line].width+_,S.line++,j=S.y=Pn(o,this.top+Z+_,this.bottom-e[S.line].height));const M=f.x(V);if(N(M,j,ot),V=K4(O,V+w+b,F?V+P:this.right,t.rtl),B(f.x(V),j,ot),F)S.x+=P+_;else if(typeof ot.text!="string"){const qt=g.lineHeight;S.y+=ox(ot,qt)+_}else S.y+=J}),W1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=An(e.font),r=di(e.padding);if(!e.display)return;const o=nl(t.rtl,this.left,this.width),u=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let _,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),_=this.top+g,v=Pn(t.align,v,this.right-b);else{const w=this.columnSizes.reduce((D,C)=>Math.max(D,C.height),0);_=g+Pn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const S=Pn(h,v,v+b);u.textAlign=o.textAlign(z1(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,Od(u,e.text,S,_,i)}_computeTitleHeight(){const t=this.options.title,e=An(t.font),i=di(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ku(t,this.left,this.right)&&Ku(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ku(t,r.left,r.left+r.width)&&Ku(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!g3(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=c3(r,i);r&&!o&&ae(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ae(e.onHover,[t,i,this],this)}else i&&ae(e.onClick,[t,i,this],this)}}function h3(n,t,e,i,r){const o=f3(i,n,t,e),u=d3(r,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function f3(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(r).width}function d3(n,t,e){let i=n;return typeof t.text!="string"&&(i=ox(t,e)),i}function ox(n,t){const e=n.text?n.text.length:0;return t*e}function g3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var p3={id:"legend",_element:tw,start(n,t,e){const i=n.legend=new tw({ctx:n.ctx,options:e,chart:n});Tr.configure(n,i,e),Tr.addBox(n,i)},stop(n){Tr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Tr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=di(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Zu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=B4(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ki(n,t){return t&&(en(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ss(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function m3(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(r);return{chart:n,label:u,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function ew(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:u,boxHeight:h}=t,f=An(t.bodyFont),g=An(t.titleFont),_=An(t.footerFont),v=o.length,b=r.length,S=i.length,w=di(t.padding);let D=w.height,C=0,N=i.reduce((Z,J)=>Z+J.before.length+J.lines.length+J.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,v&&(D+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),N){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;D+=S*Z+(N-S)*f.lineHeight+(N-1)*t.bodySpacing}b&&(D+=t.footerMarginTop+b*_.lineHeight+(b-1)*t.footerSpacing);let B=0;const F=function(Z){C=Math.max(C,e.measureText(Z).width+B)};return e.save(),e.font=g.string,Xt(n.title,F),e.font=f.string,Xt(n.beforeBody.concat(n.afterBody),F),B=t.displayColors?u+2+t.boxPadding:0,Xt(i,Z=>{Xt(Z.before,F),Xt(Z.lines,F),Xt(Z.after,F)}),B=0,e.font=_.string,Xt(n.footer,F),e.restore(),C+=w.width,{width:C,height:D}}function _3(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function y3(n,t,e,i){const{x:r,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&r+o+u>t.width||n==="right"&&r-o-u<0)return!0}function v3(n,t,e,i){const{x:r,width:o}=e,{width:u,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=u-o/2&&(g="right"),y3(g,n,t,e)&&(g="center"),g}function nw(n,t,e){const i=e.yAlign||t.yAlign||_3(n,e);return{xAlign:e.xAlign||t.xAlign||v3(n,t,e,i),yAlign:i}}function b3(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function E3(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function iw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:v,bottomLeft:b,bottomRight:S}=lc(u);let w=b3(t,h);const D=E3(t,f,g);return f==="center"?h==="left"?w+=g:h==="right"&&(w-=g):h==="left"?w-=Math.max(_,b)+r:h==="right"&&(w+=Math.max(v,S)+r),{x:ti(w,0,i.width-t.width),y:ti(D,0,i.height-t.height)}}function Pf(n,t,e){const i=di(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function sw(n){return ki([],Ss(n))}function T3(n,t,e){return Tl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function rw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const lx={beforeTitle:Es,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Es,beforeBody:Es,beforeLabel:Es,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return cn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Es,afterBody:Es,beforeFooter:Es,footer:Es,afterFooter:Es};function En(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?lx[t].call(e,i):r}class w_ extends Ha{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new Q1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=T3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=En(i,"beforeTitle",this,t),o=En(i,"title",this,t),u=En(i,"afterTitle",this,t);let h=[];return h=ki(h,Ss(r)),h=ki(h,Ss(o)),h=ki(h,Ss(u)),h}getBeforeBody(t,e){return sw(En(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Xt(t,o=>{const u={before:[],lines:[],after:[]},h=rw(i,o);ki(u.before,Ss(En(h,"beforeLabel",this,o))),ki(u.lines,En(h,"label",this,o)),ki(u.after,Ss(En(h,"afterLabel",this,o))),r.push(u)}),r}getAfterBody(t,e){return sw(En(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=En(i,"beforeFooter",this,t),o=En(i,"footer",this,t),u=En(i,"afterFooter",this,t);let h=[];return h=ki(h,Ss(r)),h=ki(h,Ss(o)),h=ki(h,Ss(u)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],u=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(m3(this.chart,e[f]));return t.filter&&(h=h.filter((_,v,b)=>t.filter(_,v,b,i))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,i))),Xt(h,_=>{const v=rw(t.callbacks,_);r.push(En(v,"labelColor",this,_)),o.push(En(v,"labelPointStyle",this,_)),u.push(En(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,u=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Zu[i.position].call(this,r,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const f=this._size=ew(this,i),g=Object.assign({},h,f),_=nw(this.chart,i,g),v=iw(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=lc(h),{x:b,y:S}=t,{width:w,height:D}=e;let C,N,B,F,Z,J;return o==="center"?(Z=S+D/2,r==="left"?(C=b,N=C-u,F=Z+u,J=Z-u):(C=b+w,N=C+u,F=Z-u,J=Z+u),B=C):(r==="left"?N=b+Math.max(f,_)+u:r==="right"?N=b+w-Math.max(g,v)-u:N=this.caretX,o==="top"?(F=S,Z=F-u,C=N-u,B=N+u):(F=S+D,Z=F+u,C=N+u,B=N-u),J=F),{x1:C,x2:N,x3:B,y1:F,y2:Z,y3:J}}drawTitle(t,e,i){const r=this.title,o=r.length;let u,h,f;if(o){const g=nl(i.rtl,this.x,this.width);for(t.x=Pf(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",u=An(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,_=An(o.bodyFont),v=Pf(this,"left",o),b=r.x(v),S=f<_.lineHeight?(_.lineHeight-f)/2:0,w=e.y+S;if(o.usePointStyle){const D={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(b,g)+g/2,N=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,SS(t,D,C,N),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,SS(t,D,C,N)}else{t.lineWidth=Ht(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const D=r.leftForLtr(b,g),C=r.leftForLtr(r.xPlus(b,1),g-2),N=lc(u.borderRadius);Object.values(N).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,b_(t,{x:D,y:w,w:g,h:f,radius:N}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),b_(t,{x:C,y:w+1,w:g-2,h:f-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(D,w,g,f),t.strokeRect(D,w,g,f),t.fillStyle=u.backgroundColor,t.fillRect(C,w+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=i,v=An(i.bodyFont);let b=v.lineHeight,S=0;const w=nl(i.rtl,this.x,this.width),D=function(I){e.fillText(I,w.x(t.x+S),t.y+b/2),t.y+=b+o},C=w.textAlign(u);let N,B,F,Z,J,ot,k;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=Pf(this,C,i),e.fillStyle=i.bodyColor,Xt(this.beforeBody,D),S=h&&C!=="right"?u==="center"?g/2+_:g+2+_:0,Z=0,ot=r.length;Z<ot;++Z){for(N=r[Z],B=this.labelTextColors[Z],e.fillStyle=B,Xt(N.before,D),F=N.lines,h&&F.length&&(this._drawColorBox(e,t,Z,w,i),b=Math.max(v.lineHeight,f)),J=0,k=F.length;J<k;++J)D(F[J]),b=v.lineHeight;Xt(N.after,D)}S=0,b=v.lineHeight,Xt(this.afterBody,D),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let u,h;if(o){const f=nl(i.rtl,this.x,this.width);for(t.x=Pf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",u=An(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:_}=i,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:w}=lc(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),u==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),u==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+_-w),e.quadraticCurveTo(h+g,f+_,h+g-w,f+_),u==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+_),e.quadraticCurveTo(h,f+_,h,f+_-S),u==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const u=Zu[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=ew(this,t),f=Object.assign({},u,this._size),g=nw(e,t,f),_=iw(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=di(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),K1(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),W1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Ad(i,r),u=this._positionChanged(r,e);(o||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),f=e||!Ad(u,o)||h;return f&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,u=Zu[o.position].call(this,t,e);return u!==!1&&(i!==u.x||r!==u.y)}}Dt(w_,"positioners",Zu);var S3={id:"tooltip",_element:w_,positioners:Zu,afterInit(n,t,e){e&&(n.tooltip=new w_({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wn=Object.keys(hg);function aw(n,t){return n-t}function ow(n,t){if(cn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),Ls(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(Id(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,r)),+u)}function lw(n,t,e,i){const r=wn.length;for(let o=wn.indexOf(n);o<r-1;++o){const u=hg[wn[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return wn[o]}return wn[r-1]}function w3(n,t,e,i,r){for(let o=wn.length-1;o>=wn.indexOf(e);o--){const u=wn[o];if(hg[u].common&&n._adapter.diff(r,i,u)>=t-1)return u}return wn[e?wn.indexOf(e):0]}function A3(n){for(let t=wn.indexOf(n)+1,e=wn.length;t<e;++t)if(hg[wn[t]].common)return wn[t]}function uw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=By(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function R3(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function cw(n,t,e){const i=[],r={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],r[h]=u,i.push({value:h,major:!1});return o===0||!e?i:R3(n,i,r,e)}class Pd extends ug{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Q6._date(t.adapters.date);r.init(e),rc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ow(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Ls(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Ls(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,u=this.max,h=q4(r,o,u);return this._unit=e.unit||(i.autoSkip?lw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):w3(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:A3(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),cw(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=ti(e,0,u),i=ti(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,u=o.unit||lw(o.minUnit,e,i,this._getLabelCapacity(e)),h=Zt(r.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=Id(f)||f===!0,_={};let v=e,b,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<i;b=+t.add(b,h,u),S++)uw(_,b,w);return(b===i||r.bounds==="ticks"||S===1)&&uw(_,b,w),Object.keys(_).sort(aw).map(D=>+D)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,u=e||r[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,r){const o=this.options,u=o.ticks.callback;if(u)return ae(u,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],v=g&&h[g],b=i[e],S=g&&v&&b&&b.major;return this._adapter.format(t,r||(S?v:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Da(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),u=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,cw(this,[t],this._majorUnit),r),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(ow(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $4(t.sort(aw))}}Dt(Pd,"id","time"),Dt(Pd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lf(n,t,e){let i=0,r=n.length-1,o,u,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=y_(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=y_(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:f}=n[r]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class hw extends Pd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Lf(e,this.min),this._tableRange=Lf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let u,h,f,g,_;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=r.length;u<h;++u)_=r[u+1],f=r[u-1],g=r[u],Math.round((_+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Lf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Lf(this._table,i*this._tableRange+this._minPos,!0)}}Dt(hw,"id","timeseries"),Dt(hw,"defaults",Pd.defaults);const ux="label";function fw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function x3(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function cx(n,t){n.labels=t}function hx(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ux;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(u=>u[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function C3(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ux;const e={labels:[],datasets:[]};return cx(e,n.labels),hx(e,n.datasets,t),e}function I3(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:u,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:v,...b}=n,S=q.useRef(null),w=q.useRef(null),D=()=>{S.current&&(w.current=new cg(S.current,{type:u,data:C3(h,o),options:f&&{...f},plugins:g}),fw(t,w.current))},C=()=>{fw(t,null),w.current&&(w.current.destroy(),w.current=null)};return q.useEffect(()=>{!r&&w.current&&f&&x3(w.current,f)},[r,f]),q.useEffect(()=>{!r&&w.current&&cx(w.current.config.data,h.labels)},[r,h.labels]),q.useEffect(()=>{!r&&w.current&&h.datasets&&hx(w.current.config.data,h.datasets,o)},[r,h.datasets]),q.useEffect(()=>{w.current&&(r?(C(),setTimeout(D)):w.current.update(v))},[r,f,h.labels,h.datasets,v]),q.useEffect(()=>{w.current&&(C(),setTimeout(D))},[u]),q.useEffect(()=>(D(),()=>C()),[]),Ui.createElement("canvas",{ref:S,role:"img",height:e,width:i,...b},_)}const D3=q.forwardRef(I3);function O3(n,t){return cg.register(t),q.forwardRef((e,i)=>Ui.createElement(D3,{...e,ref:i,type:n}))}const N3=O3("pie",E_);cg.register(Xu,S3,p3);function M3({startupData:n,offers:t}){const e=()=>{const i=100-t.reduce((r,o)=>r+o.equity,0);return{labels:["Founder",...t.map(r=>r.investorName)],datasets:[{data:[i,...t.map(r=>r.equity)],backgroundColor:["#6c63ff","#4d44db","#ff6584","#28a745","#ffc107","#17a2b8"],borderWidth:1}]}};return R.jsxs("div",{className:"cap-table",children:[R.jsx("h2",{children:"Cap Table"}),R.jsxs("div",{className:"cap-table-content",children:[R.jsx("div",{className:"chart-container",children:R.jsx(N3,{data:e()})}),R.jsxs("div",{className:"equity-list",children:[R.jsx("h3",{children:"Equity Distribution"}),R.jsxs("ul",{children:[R.jsxs("li",{children:[R.jsx("span",{className:"equity-color founder"}),R.jsxs("span",{children:["Founder: ",100-t.reduce((i,r)=>i+r.equity,0),"%"]})]}),t.map((i,r)=>R.jsxs("li",{children:[R.jsx("span",{className:"equity-color",style:{backgroundColor:e().datasets[0].backgroundColor[r+1]}}),R.jsxs("span",{children:[i.investorName,": ",i.equity,"%"]})]},i.id))]})]})]})]})}function k3({offers:n,startupData:t}){const[e,i]=q.useState(null),r=u=>{console.log("Offer accepted:",u)},o=u=>{console.log("Offer rejected:",u)};return R.jsxs("div",{className:"investor-offers",children:[R.jsx("h2",{children:"Investor Offers"}),n.length===0?R.jsx("p",{children:"No offers yet. Share your funding round with investors!"}):R.jsx("div",{className:"offers-list",children:n.map(u=>R.jsxs("div",{className:`offer-card ${e===u.id?"selected":""}`,onClick:()=>i(u.id),children:[R.jsxs("div",{className:"offer-header",children:[R.jsx("h3",{children:u.investorName}),R.jsxs("span",{className:"offer-amount",children:["$",u.amount.toLocaleString()]})]}),R.jsxs("div",{className:"offer-details",children:[R.jsxs("p",{children:["For ",u.equity,"% equity"]}),R.jsxs("p",{children:["Valuation: $",u.valuation.toLocaleString()]}),R.jsxs("p",{children:["Terms: ",u.terms]})]}),e===u.id&&R.jsxs("div",{className:"offer-actions",children:[R.jsx("button",{onClick:h=>{h.stopPropagation(),r(u.id)},className:"btn btn-primary",children:"Accept"}),R.jsx("button",{onClick:h=>{h.stopPropagation(),o(u.id)},className:"btn btn-outline",children:"Reject"})]})]},u.id))})]})}function P3(){const{currentUser:n}=Ki(),[t,e]=q.useState(null),[i,r]=q.useState([]),[o,u]=q.useState(!0),[h,f]=q.useState(null),[g,_]=q.useState("create");q.useEffect(()=>{(async()=>{try{if(!n){u(!1);return}const S=Oa(Un,"startups",n.uid),w=await Iy(S);w.exists()?e(w.data()):console.warn("No startup data found for user:",n.uid);const D=Ia(Un,"fundingOffers"),C=bd(D,Kf("startupId","==",n.uid)),N=await Ed(C),B=[];N.forEach(F=>{B.push({id:F.id,...F.data()})}),r(B)}catch(S){console.error("Error fetching data:",S),f("Failed to load data. Please try again later.")}finally{u(!1)}})()},[n]);const v=async b=>{try{await t1(Ia(Un,"fundingRounds"),{...b,startupId:n.uid,createdAt:new Date,status:"open"}),alert("Funding round created successfully!")}catch(S){console.error("Error creating funding round: ",S),alert("Failed to create funding round. Please try again.")}};return o?R.jsx("div",{className:"loading",children:"Loading..."}):h?R.jsx("div",{className:"error",children:h}):n?R.jsxs("div",{className:"funding-page",children:[R.jsx("h1",{children:"Funding Simulation"}),R.jsxs("div",{className:"tabs",children:[R.jsx("button",{className:`tab-btn ${g==="create"?"active":""}`,onClick:()=>_("create"),children:"Create Round"}),R.jsx("button",{className:`tab-btn ${g==="offers"?"active":""}`,onClick:()=>_("offers"),children:"Investor Offers"}),R.jsx("button",{className:`tab-btn ${g==="cap"?"active":""}`,onClick:()=>_("cap"),children:"Cap Table"})]}),R.jsxs("div",{className:"tab-content",children:[g==="create"&&R.jsx(o4,{startupData:t,onSubmit:v}),g==="offers"&&R.jsx(k3,{offers:i,startupData:t}),g==="cap"&&R.jsx(M3,{startupData:t,offers:i.filter(b=>b.status==="accepted")})]})]}):R.jsx("div",{className:"error",children:"Please login to access this page"})}function L3({rooms:n,activeRoom:t,onSelectRoom:e}){return R.jsxs("div",{className:"pitch-room-list",children:[R.jsx("h3",{children:"Available Rooms"}),n.length===0?R.jsx("p",{children:"No active pitch rooms. Create one or wait for an invitation."}):R.jsx("ul",{children:n.map(i=>R.jsxs("li",{className:(t==null?void 0:t.id)===i.id?"active":"",onClick:()=>e(i),children:[R.jsx("div",{className:"room-name",children:i.name}),R.jsxs("div",{className:"room-meta",children:[R.jsxs("span",{children:[i.participants.length," participants"]}),R.jsx("span",{children:i.status})]})]},i.id))})]})}function V3({room:n,messages:t,onSendMessage:e,userId:i}){const[r,o]=q.useState(""),u=q.useRef(null),h=f=>{f.preventDefault(),r.trim()&&(e(r),o(""))};return q.useEffect(()=>{var f;(f=u.current)==null||f.scrollIntoView({behavior:"smooth"})},[t]),R.jsxs("div",{className:"active-pitch-room",children:[R.jsxs("div",{className:"room-header",children:[R.jsx("h3",{children:n.name}),R.jsx("p",{children:n.description})]}),R.jsxs("div",{className:"messages-container",children:[t.map(f=>{var g;return R.jsxs("div",{className:`message ${f.senderId===i?"sent":"received"}`,children:[R.jsx("div",{className:"message-sender",children:f.senderName}),R.jsx("div",{className:"message-text",children:f.text}),R.jsx("div",{className:"message-time",children:new Date((g=f.timestamp)==null?void 0:g.toDate()).toLocaleTimeString()})]},f.id)}),R.jsx("div",{ref:u})]}),R.jsxs("form",{onSubmit:h,className:"message-form",children:[R.jsx("input",{type:"text",value:r,onChange:f=>o(f.target.value),placeholder:"Type your message..."}),R.jsx("button",{type:"submit",className:"btn btn-primary",children:"Send"})]})]})}function U3(){const{currentUser:n}=Ki(),[t,e]=q.useState([]),[i,r]=q.useState(null),[o,u]=q.useState(!0),[h,f]=q.useState([]),[g,_]=q.useState(null);q.useEffect(()=>{const b=async()=>{try{if(u(!0),_(null),!(n!=null&&n.uid))throw new Error("Authentication required");if(!n||!n.uid){_("User not authenticated"),u(!1);return}const S=Ia(Un,"pitchRooms"),w=bd(S,Kf("participants","array-contains",n.uid),Kf("isActive","==",!0)),D=await Ed(w);if(D.empty){e([]),u(!1);return}const C=D.docs.map(N=>{const B=N.data();return!B.participants||!Array.isArray(B.participants)?(console.warn(`Invalid room data for document ${N.id}`),null):{id:N.id,...B,participants:B.participants||[]}}).filter(N=>N!==null);if(e(C),C.length>0&&!i){const N=C.find(B=>B.participants.includes(n.uid));N&&r(N)}}catch(S){console.error("Error fetching rooms:",S),_(S.code==="permission-denied"?"You don't have permission to view these rooms":S.message||"Failed to load rooms. Please try again.")}finally{u(!1)}};n!=null&&n.uid?b():(u(!1),_("Please login to access pitch rooms"))},[n]),q.useEffect(()=>{if(!(i!=null&&i.id)||!(n!=null&&n.uid))return;let b;return(async()=>{try{const w=Ia(Un,"pitchRooms",i.id,"messages");b=e1(w,D=>{const C=D.docs.map(N=>{const B=N.data();return!B.senderId||!B.timestamp?(console.warn(`Invalid message format in document ${N.id}`),null):{id:N.id,...B}}).filter(N=>N!==null).sort((N,B)=>N.timestamp-B.timestamp);f(C)},D=>{console.error("Message listener error:",D),_("Failed to load messages. Please refresh the page.")})}catch(w){console.error("Error setting up listener:",w),_("Failed to initialize chat. Please try again later.")}})(),()=>{b&&b()}},[i,n]);const v=async b=>{if(!(i!=null&&i.id)||!(n!=null&&n.uid)||!b.trim()){_("Invalid message or missing room data");return}try{if(!i.participants.includes(n.uid))throw new Error("You are no longer a participant in this room");await t1(Ia(Un,"pitchRooms",i.id,"messages"),{text:b,senderId:n.uid,senderName:n.displayName||"Anonymous",timestamp:new Date,roomId:i.id,status:"delivered"})}catch(S){if(console.error("Error sending message:",S),_(S.message||"Failed to send message. Please try again."),S.code==="permission-denied"){const w=Ia(Un,"pitchRooms"),D=bd(w,Kf("participants","array-contains",n.uid)),N=(await Ed(D)).docs.map(B=>({id:B.id,...B.data()}));e(N),N.some(B=>B.id===i.id)||r(null)}}};return o?R.jsx("div",{className:"loading",children:"Loading rooms..."}):g?R.jsx("div",{className:"error",children:g}):n?R.jsxs("div",{className:"pitch-room-page",children:[R.jsx("h1",{children:"Pitch Room"}),g&&R.jsx("div",{className:"error-banner",children:g}),R.jsxs("div",{className:"pitch-room-container",children:[R.jsx("div",{className:"room-list",children:R.jsx(L3,{rooms:t,activeRoom:i,onSelectRoom:b=>{b.participants.includes(n.uid)?(r(b),_(null)):_("You no longer have access to this room")}})}),R.jsx("div",{className:"active-room",children:i?R.jsx(V3,{room:i,messages:h,onSendMessage:v,userId:n.uid,onError:_}):R.jsx("div",{className:"no-room-selected",children:t.length===0?R.jsx("p",{children:"No pitch rooms available. Create one or wait for an invitation."}):R.jsx("p",{children:"Please select a room from the list"})})})]})]}):R.jsx("div",{className:"error",children:"Please login to access pitch rooms"})}function j3({startup:n}){var t;return R.jsxs("div",{className:"startup-card",children:[R.jsxs("div",{className:"card-header",children:[R.jsx("h3",{children:n.companyName}),R.jsx("span",{className:"stage",children:n.stage||"Early Stage"})]}),R.jsx("p",{className:"vision",children:n.vision||"No vision statement provided"}),R.jsxs("div",{className:"card-footer",children:[R.jsx(Le,{to:`/startup/${n.id}`,className:"btn btn-outline",children:"View Details"}),R.jsxs("div",{className:"metrics",children:[R.jsxs("span",{children:["$",((t=n.valuation)==null?void 0:t.toLocaleString())||"0"," valuation"]}),R.jsxs("span",{children:[n.investorCount||0," investors"]})]})]})]})}function z3(){const[n,t]=q.useState([]),[e,i]=q.useState(!0),[r,o]=q.useState(null);return q.useEffect(()=>{(async()=>{try{i(!0),o(null);const h=Ia(Un,"startups"),f=bd(h,vL("valuation","desc"),bL(10)),_=(await Ed(f)).docs.map(v=>{const b=v.data();return{id:v.id,name:b.name||"Unnamed Startup",logo:b.logo||"",description:b.description||"",valuation:b.valuation||0,totalFunding:b.totalFunding||0,investorCount:b.investorCount||0,industry:b.industry||"Other"}});t(_)}catch(h){console.error("Error fetching startups:",h),o(h.code==="permission-denied"?"You don't have permission to view this data":"Failed to load leaderboard. Please try again later.")}finally{i(!1)}})()},[]),e?R.jsx("div",{className:"loading",children:"Loading leaderboard..."}):r?R.jsx("div",{className:"error",children:r}):R.jsxs("div",{className:"leaderboard-page",children:[R.jsx("h1",{children:"Top Startups"}),R.jsx("p",{className:"subtitle",children:"Ranked by valuation"}),R.jsx("div",{className:"leaderboard-list",children:n.map((u,h)=>R.jsxs("div",{className:"leaderboard-item",children:[R.jsxs("div",{className:"rank-badge",children:["#",h+1]}),R.jsx(j3,{startup:u}),R.jsxs("div",{className:"metrics",children:[R.jsxs("div",{className:"metric",children:[R.jsx("span",{className:"metric-label",children:"Valuation:"}),R.jsxs("span",{className:"metric-value",children:["$",u.valuation.toLocaleString()]})]}),R.jsxs("div",{className:"metric",children:[R.jsx("span",{className:"metric-label",children:"Investors:"}),R.jsx("span",{className:"metric-value",children:u.investorCount})]})]})]},u.id))})]})}function B3(){return R.jsx("div",{className:"not-found",children:R.jsxs("div",{className:"not-found-content",children:[R.jsx("h1",{children:"404"}),R.jsx("h2",{children:"Page Not Found"}),R.jsx("p",{children:"The page you are looking for doesn't exist or has been moved"}),R.jsx(Le,{to:"/",className:"btn btn-primary",children:"Go to Homepage"})]})})}function F3(){return R.jsx(u2,{children:R.jsx(LV,{children:R.jsx(UV,{children:R.jsxs("div",{className:"app-container",children:[R.jsx(ZV,{}),R.jsx("div",{className:"content-container",children:R.jsxs(jI,{children:[R.jsx(Mi,{path:"/",element:R.jsx(JV,{})}),R.jsx(Mi,{path:"/login",element:R.jsx(t4,{})}),R.jsx(Mi,{path:"/register",element:R.jsx(e4,{})}),R.jsx(Mi,{path:"/dashboard",element:R.jsx(Tf,{children:R.jsx(n4,{})})}),R.jsx(Mi,{path:"/profile",element:R.jsx(Tf,{children:R.jsx(a4,{})})}),R.jsx(Mi,{path:"/funding",element:R.jsx(Tf,{children:R.jsx(P3,{})})}),R.jsx(Mi,{path:"/pitch-room",element:R.jsx(Tf,{children:R.jsx(U3,{})})}),R.jsx(Mi,{path:"/leaderboard",element:R.jsx(z3,{})}),R.jsx(Mi,{path:"*",element:R.jsx(B3,{})})]})})]})})})})}KC.createRoot(document.getElementById("root")).render(R.jsx(Ui.StrictMode,{children:R.jsx(F3,{})}));
